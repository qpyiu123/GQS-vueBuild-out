const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-DZrEmHtK.js","assets/AboutView-DhlS7raN.css"])))=>i.map(i=>d[i]);
(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))_(m);new MutationObserver(m=>{for(const c of m)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&_(f)}).observe(document,{childList:!0,subtree:!0});function u(m){const c={};return m.integrity&&(c.integrity=m.integrity),m.referrerPolicy&&(c.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?c.credentials="include":m.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function _(m){if(m.ep)return;m.ep=!0;const c=u(m);fetch(m.href,c)}})();function Bu(n){const o=Object.create(null);for(const u of n.split(","))o[u]=1;return u=>u in o}const xe={},os=[],mn=()=>{},uc=()=>!1,Ha=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Pu=n=>n.startsWith("onUpdate:"),hi=Object.assign,Su=(n,o)=>{const u=n.indexOf(o);u>-1&&n.splice(u,1)},gd=Object.prototype.hasOwnProperty,be=(n,o)=>gd.call(n,o),Xt=Array.isArray,as=n=>ko(n)==="[object Map]",Ka=n=>ko(n)==="[object Set]",uh=n=>ko(n)==="[object Date]",Qt=n=>typeof n=="function",Ze=n=>typeof n=="string",gn=n=>typeof n=="symbol",we=n=>n!==null&&typeof n=="object",hc=n=>(we(n)||Qt(n))&&Qt(n.then)&&Qt(n.catch),cc=Object.prototype.toString,ko=n=>cc.call(n),yd=n=>ko(n).slice(8,-1),fc=n=>ko(n)==="[object Object]",Au=n=>Ze(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,uo=Bu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qa=n=>{const o=Object.create(null);return(u=>o[u]||(o[u]=n(u)))},vd=/-\w/g,qi=qa(n=>n.replace(vd,o=>o.slice(1).toUpperCase())),Ld=/\B([A-Z])/g,Or=qa(n=>n.replace(Ld,"-$1").toLowerCase()),Wa=qa(n=>n.charAt(0).toUpperCase()+n.slice(1)),Jl=qa(n=>n?`on${Wa(n)}`:""),sr=(n,o)=>!Object.is(n,o),Ba=(n,...o)=>{for(let u=0;u<n.length;u++)n[u](...o)},dc=(n,o,u,_=!1)=>{Object.defineProperty(n,o,{configurable:!0,enumerable:!1,writable:_,value:u})},Ya=n=>{const o=parseFloat(n);return isNaN(o)?n:o};let hh;const Xa=()=>hh||(hh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yo(n){if(Xt(n)){const o={};for(let u=0;u<n.length;u++){const _=n[u],m=Ze(_)?wd(_):yo(_);if(m)for(const c in m)o[c]=m[c]}return o}else if(Ze(n)||we(n))return n}const bd=/;(?![^(]*\))/g,Cd=/:([^]+)/,xd=/\/\*[^]*?\*\//g;function wd(n){const o={};return n.replace(xd,"").split(bd).forEach(u=>{if(u){const _=u.split(Cd);_.length>1&&(o[_[0].trim()]=_[1].trim())}}),o}function Tu(n){let o="";if(Ze(n))o=n;else if(Xt(n))for(let u=0;u<n.length;u++){const _=Tu(n[u]);_&&(o+=_+" ")}else if(we(n))for(const u in n)n[u]&&(o+=u+" ");return o.trim()}const kd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Md=Bu(kd);function pc(n){return!!n||n===""}function Ed(n,o){if(n.length!==o.length)return!1;let u=!0;for(let _=0;u&&_<n.length;_++)u=Ja(n[_],o[_]);return u}function Ja(n,o){if(n===o)return!0;let u=uh(n),_=uh(o);if(u||_)return u&&_?n.getTime()===o.getTime():!1;if(u=gn(n),_=gn(o),u||_)return n===o;if(u=Xt(n),_=Xt(o),u||_)return u&&_?Ed(n,o):!1;if(u=we(n),_=we(o),u||_){if(!u||!_)return!1;const m=Object.keys(n).length,c=Object.keys(o).length;if(m!==c)return!1;for(const f in n){const y=n.hasOwnProperty(f),b=o.hasOwnProperty(f);if(y&&!b||!y&&b||!Ja(n[f],o[f]))return!1}}return String(n)===String(o)}function Bd(n,o){return n.findIndex(u=>Ja(u,o))}const _c=n=>!!(n&&n.__v_isRef===!0),ii=n=>Ze(n)?n:n==null?"":Xt(n)||we(n)&&(n.toString===cc||!Qt(n.toString))?_c(n)?ii(n.value):JSON.stringify(n,mc,2):String(n),mc=(n,o)=>_c(o)?mc(n,o.value):as(o)?{[`Map(${o.size})`]:[...o.entries()].reduce((u,[_,m],c)=>(u[$l(_,c)+" =>"]=m,u),{})}:Ka(o)?{[`Set(${o.size})`]:[...o.values()].map(u=>$l(u))}:gn(o)?$l(o):we(o)&&!Xt(o)&&!fc(o)?String(o):o,$l=(n,o="")=>{var u;return gn(n)?`Symbol(${(u=n.description)!=null?u:o})`:n};let Bi;class Pd{constructor(o=!1){this.detached=o,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Bi,!o&&Bi&&(this.index=(Bi.scopes||(Bi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let o,u;if(this.scopes)for(o=0,u=this.scopes.length;o<u;o++)this.scopes[o].pause();for(o=0,u=this.effects.length;o<u;o++)this.effects[o].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let o,u;if(this.scopes)for(o=0,u=this.scopes.length;o<u;o++)this.scopes[o].resume();for(o=0,u=this.effects.length;o<u;o++)this.effects[o].resume()}}run(o){if(this._active){const u=Bi;try{return Bi=this,o()}finally{Bi=u}}}on(){++this._on===1&&(this.prevScope=Bi,Bi=this)}off(){this._on>0&&--this._on===0&&(Bi=this.prevScope,this.prevScope=void 0)}stop(o){if(this._active){this._active=!1;let u,_;for(u=0,_=this.effects.length;u<_;u++)this.effects[u].stop();for(this.effects.length=0,u=0,_=this.cleanups.length;u<_;u++)this.cleanups[u]();if(this.cleanups.length=0,this.scopes){for(u=0,_=this.scopes.length;u<_;u++)this.scopes[u].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!o){const m=this.parent.scopes.pop();m&&m!==this&&(this.parent.scopes[this.index]=m,m.index=this.index)}this.parent=void 0}}}function Sd(){return Bi}let ke;const Ql=new WeakSet;class gc{constructor(o){this.fn=o,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Bi&&Bi.active&&Bi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ql.has(this)&&(Ql.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||vc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ch(this),Lc(this);const o=ke,u=Ji;ke=this,Ji=!0;try{return this.fn()}finally{bc(this),ke=o,Ji=u,this.flags&=-3}}stop(){if(this.flags&1){for(let o=this.deps;o;o=o.nextDep)Ru(o);this.deps=this.depsTail=void 0,ch(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ql.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){cu(this)&&this.run()}get dirty(){return cu(this)}}let yc=0,ho,co;function vc(n,o=!1){if(n.flags|=8,o){n.next=co,co=n;return}n.next=ho,ho=n}function Du(){yc++}function Ou(){if(--yc>0)return;if(co){let o=co;for(co=void 0;o;){const u=o.next;o.next=void 0,o.flags&=-9,o=u}}let n;for(;ho;){let o=ho;for(ho=void 0;o;){const u=o.next;if(o.next=void 0,o.flags&=-9,o.flags&1)try{o.trigger()}catch(_){n||(n=_)}o=u}}if(n)throw n}function Lc(n){for(let o=n.deps;o;o=o.nextDep)o.version=-1,o.prevActiveLink=o.dep.activeLink,o.dep.activeLink=o}function bc(n){let o,u=n.depsTail,_=u;for(;_;){const m=_.prevDep;_.version===-1?(_===u&&(u=m),Ru(_),Ad(_)):o=_,_.dep.activeLink=_.prevActiveLink,_.prevActiveLink=void 0,_=m}n.deps=o,n.depsTail=u}function cu(n){for(let o=n.deps;o;o=o.nextDep)if(o.dep.version!==o.version||o.dep.computed&&(Cc(o.dep.computed)||o.dep.version!==o.version))return!0;return!!n._dirty}function Cc(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===vo)||(n.globalVersion=vo,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!cu(n))))return;n.flags|=2;const o=n.dep,u=ke,_=Ji;ke=n,Ji=!0;try{Lc(n);const m=n.fn(n._value);(o.version===0||sr(m,n._value))&&(n.flags|=128,n._value=m,o.version++)}catch(m){throw o.version++,m}finally{ke=u,Ji=_,bc(n),n.flags&=-3}}function Ru(n,o=!1){const{dep:u,prevSub:_,nextSub:m}=n;if(_&&(_.nextSub=m,n.prevSub=void 0),m&&(m.prevSub=_,n.nextSub=void 0),u.subs===n&&(u.subs=_,!_&&u.computed)){u.computed.flags&=-5;for(let c=u.computed.deps;c;c=c.nextDep)Ru(c,!0)}!o&&!--u.sc&&u.map&&u.map.delete(u.key)}function Ad(n){const{prevDep:o,nextDep:u}=n;o&&(o.nextDep=u,n.prevDep=void 0),u&&(u.prevDep=o,n.nextDep=void 0)}let Ji=!0;const xc=[];function On(){xc.push(Ji),Ji=!1}function Rn(){const n=xc.pop();Ji=n===void 0?!0:n}function ch(n){const{cleanup:o}=n;if(n.cleanup=void 0,o){const u=ke;ke=void 0;try{o()}finally{ke=u}}}let vo=0;class Td{constructor(o,u){this.sub=o,this.dep=u,this.version=u.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Iu{constructor(o){this.computed=o,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(o){if(!ke||!Ji||ke===this.computed)return;let u=this.activeLink;if(u===void 0||u.sub!==ke)u=this.activeLink=new Td(ke,this),ke.deps?(u.prevDep=ke.depsTail,ke.depsTail.nextDep=u,ke.depsTail=u):ke.deps=ke.depsTail=u,wc(u);else if(u.version===-1&&(u.version=this.version,u.nextDep)){const _=u.nextDep;_.prevDep=u.prevDep,u.prevDep&&(u.prevDep.nextDep=_),u.prevDep=ke.depsTail,u.nextDep=void 0,ke.depsTail.nextDep=u,ke.depsTail=u,ke.deps===u&&(ke.deps=_)}return u}trigger(o){this.version++,vo++,this.notify(o)}notify(o){Du();try{for(let u=this.subs;u;u=u.prevSub)u.sub.notify()&&u.sub.dep.notify()}finally{Ou()}}}function wc(n){if(n.dep.sc++,n.sub.flags&4){const o=n.dep.computed;if(o&&!n.dep.subs){o.flags|=20;for(let _=o.deps;_;_=_.nextDep)wc(_)}const u=n.dep.subs;u!==n&&(n.prevSub=u,u&&(u.nextSub=n)),n.dep.subs=n}}const fu=new WeakMap,Tr=Symbol(""),du=Symbol(""),Lo=Symbol("");function ai(n,o,u){if(Ji&&ke){let _=fu.get(n);_||fu.set(n,_=new Map);let m=_.get(u);m||(_.set(u,m=new Iu),m.map=_,m.key=u),m.track()}}function An(n,o,u,_,m,c){const f=fu.get(n);if(!f){vo++;return}const y=b=>{b&&b.trigger()};if(Du(),o==="clear")f.forEach(y);else{const b=Xt(n),k=b&&Au(u);if(b&&u==="length"){const M=Number(_);f.forEach((E,O)=>{(O==="length"||O===Lo||!gn(O)&&O>=M)&&y(E)})}else switch((u!==void 0||f.has(void 0))&&y(f.get(u)),k&&y(f.get(Lo)),o){case"add":b?k&&y(f.get("length")):(y(f.get(Tr)),as(n)&&y(f.get(du)));break;case"delete":b||(y(f.get(Tr)),as(n)&&y(f.get(du)));break;case"set":as(n)&&y(f.get(Tr));break}}Ou()}function ns(n){const o=Le(n);return o===n?o:(ai(o,"iterate",Lo),Ki(n)?o:o.map($i))}function $a(n){return ai(n=Le(n),"iterate",Lo),n}function er(n,o){return In(n)?Dr(n)?ds($i(o)):ds(o):$i(o)}const Dd={__proto__:null,[Symbol.iterator](){return tu(this,Symbol.iterator,n=>er(this,n))},concat(...n){return ns(this).concat(...n.map(o=>Xt(o)?ns(o):o))},entries(){return tu(this,"entries",n=>(n[1]=er(this,n[1]),n))},every(n,o){return Bn(this,"every",n,o,void 0,arguments)},filter(n,o){return Bn(this,"filter",n,o,u=>u.map(_=>er(this,_)),arguments)},find(n,o){return Bn(this,"find",n,o,u=>er(this,u),arguments)},findIndex(n,o){return Bn(this,"findIndex",n,o,void 0,arguments)},findLast(n,o){return Bn(this,"findLast",n,o,u=>er(this,u),arguments)},findLastIndex(n,o){return Bn(this,"findLastIndex",n,o,void 0,arguments)},forEach(n,o){return Bn(this,"forEach",n,o,void 0,arguments)},includes(...n){return eu(this,"includes",n)},indexOf(...n){return eu(this,"indexOf",n)},join(n){return ns(this).join(n)},lastIndexOf(...n){return eu(this,"lastIndexOf",n)},map(n,o){return Bn(this,"map",n,o,void 0,arguments)},pop(){return eo(this,"pop")},push(...n){return eo(this,"push",n)},reduce(n,...o){return fh(this,"reduce",n,o)},reduceRight(n,...o){return fh(this,"reduceRight",n,o)},shift(){return eo(this,"shift")},some(n,o){return Bn(this,"some",n,o,void 0,arguments)},splice(...n){return eo(this,"splice",n)},toReversed(){return ns(this).toReversed()},toSorted(n){return ns(this).toSorted(n)},toSpliced(...n){return ns(this).toSpliced(...n)},unshift(...n){return eo(this,"unshift",n)},values(){return tu(this,"values",n=>er(this,n))}};function tu(n,o,u){const _=$a(n),m=_[o]();return _!==n&&!Ki(n)&&(m._next=m.next,m.next=()=>{const c=m._next();return c.done||(c.value=u(c.value)),c}),m}const Od=Array.prototype;function Bn(n,o,u,_,m,c){const f=$a(n),y=f!==n&&!Ki(n),b=f[o];if(b!==Od[o]){const E=b.apply(n,c);return y?$i(E):E}let k=u;f!==n&&(y?k=function(E,O){return u.call(this,er(n,E),O,n)}:u.length>2&&(k=function(E,O){return u.call(this,E,O,n)}));const M=b.call(f,k,_);return y&&m?m(M):M}function fh(n,o,u,_){const m=$a(n);let c=u;return m!==n&&(Ki(n)?u.length>3&&(c=function(f,y,b){return u.call(this,f,y,b,n)}):c=function(f,y,b){return u.call(this,f,er(n,y),b,n)}),m[o](c,..._)}function eu(n,o,u){const _=Le(n);ai(_,"iterate",Lo);const m=_[o](...u);return(m===-1||m===!1)&&zu(u[0])?(u[0]=Le(u[0]),_[o](...u)):m}function eo(n,o,u=[]){On(),Du();const _=Le(n)[o].apply(n,u);return Ou(),Rn(),_}const Rd=Bu("__proto__,__v_isRef,__isVue"),kc=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(gn));function Id(n){gn(n)||(n=String(n));const o=Le(this);return ai(o,"has",n),o.hasOwnProperty(n)}class Mc{constructor(o=!1,u=!1){this._isReadonly=o,this._isShallow=u}get(o,u,_){if(u==="__v_skip")return o.__v_skip;const m=this._isReadonly,c=this._isShallow;if(u==="__v_isReactive")return!m;if(u==="__v_isReadonly")return m;if(u==="__v_isShallow")return c;if(u==="__v_raw")return _===(m?c?Kd:Sc:c?Pc:Bc).get(o)||Object.getPrototypeOf(o)===Object.getPrototypeOf(_)?o:void 0;const f=Xt(o);if(!m){let b;if(f&&(b=Dd[u]))return b;if(u==="hasOwnProperty")return Id}const y=Reflect.get(o,u,ui(o)?o:_);if((gn(u)?kc.has(u):Rd(u))||(m||ai(o,"get",u),c))return y;if(ui(y)){const b=f&&Au(u)?y:y.value;return m&&we(b)?_u(b):b}return we(y)?m?_u(y):Qa(y):y}}class Ec extends Mc{constructor(o=!1){super(!1,o)}set(o,u,_,m){let c=o[u];const f=Xt(o)&&Au(u);if(!this._isShallow){const k=In(c);if(!Ki(_)&&!In(_)&&(c=Le(c),_=Le(_)),!f&&ui(c)&&!ui(_))return k||(c.value=_),!0}const y=f?Number(u)<o.length:be(o,u),b=Reflect.set(o,u,_,ui(o)?o:m);return o===Le(m)&&(y?sr(_,c)&&An(o,"set",u,_):An(o,"add",u,_)),b}deleteProperty(o,u){const _=be(o,u);o[u];const m=Reflect.deleteProperty(o,u);return m&&_&&An(o,"delete",u,void 0),m}has(o,u){const _=Reflect.has(o,u);return(!gn(u)||!kc.has(u))&&ai(o,"has",u),_}ownKeys(o){return ai(o,"iterate",Xt(o)?"length":Tr),Reflect.ownKeys(o)}}class Fd extends Mc{constructor(o=!1){super(!0,o)}set(o,u){return!0}deleteProperty(o,u){return!0}}const Nd=new Ec,zd=new Fd,Gd=new Ec(!0);const pu=n=>n,xa=n=>Reflect.getPrototypeOf(n);function jd(n,o,u){return function(..._){const m=this.__v_raw,c=Le(m),f=as(c),y=n==="entries"||n===Symbol.iterator&&f,b=n==="keys"&&f,k=m[n](..._),M=u?pu:o?ds:$i;return!o&&ai(c,"iterate",b?du:Tr),{next(){const{value:E,done:O}=k.next();return O?{value:E,done:O}:{value:y?[M(E[0]),M(E[1])]:M(E),done:O}},[Symbol.iterator](){return this}}}}function wa(n){return function(...o){return n==="delete"?!1:n==="clear"?void 0:this}}function Zd(n,o){const u={get(m){const c=this.__v_raw,f=Le(c),y=Le(m);n||(sr(m,y)&&ai(f,"get",m),ai(f,"get",y));const{has:b}=xa(f),k=o?pu:n?ds:$i;if(b.call(f,m))return k(c.get(m));if(b.call(f,y))return k(c.get(y));c!==f&&c.get(m)},get size(){const m=this.__v_raw;return!n&&ai(Le(m),"iterate",Tr),m.size},has(m){const c=this.__v_raw,f=Le(c),y=Le(m);return n||(sr(m,y)&&ai(f,"has",m),ai(f,"has",y)),m===y?c.has(m):c.has(m)||c.has(y)},forEach(m,c){const f=this,y=f.__v_raw,b=Le(y),k=o?pu:n?ds:$i;return!n&&ai(b,"iterate",Tr),y.forEach((M,E)=>m.call(c,k(M),k(E),f))}};return hi(u,n?{add:wa("add"),set:wa("set"),delete:wa("delete"),clear:wa("clear")}:{add(m){!o&&!Ki(m)&&!In(m)&&(m=Le(m));const c=Le(this);return xa(c).has.call(c,m)||(c.add(m),An(c,"add",m,m)),this},set(m,c){!o&&!Ki(c)&&!In(c)&&(c=Le(c));const f=Le(this),{has:y,get:b}=xa(f);let k=y.call(f,m);k||(m=Le(m),k=y.call(f,m));const M=b.call(f,m);return f.set(m,c),k?sr(c,M)&&An(f,"set",m,c):An(f,"add",m,c),this},delete(m){const c=Le(this),{has:f,get:y}=xa(c);let b=f.call(c,m);b||(m=Le(m),b=f.call(c,m)),y&&y.call(c,m);const k=c.delete(m);return b&&An(c,"delete",m,void 0),k},clear(){const m=Le(this),c=m.size!==0,f=m.clear();return c&&An(m,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(m=>{u[m]=jd(m,n,o)}),u}function Fu(n,o){const u=Zd(n,o);return(_,m,c)=>m==="__v_isReactive"?!n:m==="__v_isReadonly"?n:m==="__v_raw"?_:Reflect.get(be(u,m)&&m in _?u:_,m,c)}const Ud={get:Fu(!1,!1)},Vd={get:Fu(!1,!0)},Hd={get:Fu(!0,!1)};const Bc=new WeakMap,Pc=new WeakMap,Sc=new WeakMap,Kd=new WeakMap;function qd(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wd(n){return n.__v_skip||!Object.isExtensible(n)?0:qd(yd(n))}function Qa(n){return In(n)?n:Nu(n,!1,Nd,Ud,Bc)}function Ac(n){return Nu(n,!1,Gd,Vd,Pc)}function _u(n){return Nu(n,!0,zd,Hd,Sc)}function Nu(n,o,u,_,m){if(!we(n)||n.__v_raw&&!(o&&n.__v_isReactive))return n;const c=Wd(n);if(c===0)return n;const f=m.get(n);if(f)return f;const y=new Proxy(n,c===2?_:u);return m.set(n,y),y}function Dr(n){return In(n)?Dr(n.__v_raw):!!(n&&n.__v_isReactive)}function In(n){return!!(n&&n.__v_isReadonly)}function Ki(n){return!!(n&&n.__v_isShallow)}function zu(n){return n?!!n.__v_raw:!1}function Le(n){const o=n&&n.__v_raw;return o?Le(o):n}function Yd(n){return!be(n,"__v_skip")&&Object.isExtensible(n)&&dc(n,"__v_skip",!0),n}const $i=n=>we(n)?Qa(n):n,ds=n=>we(n)?_u(n):n;function ui(n){return n?n.__v_isRef===!0:!1}function Ri(n){return Tc(n,!1)}function Xd(n){return Tc(n,!0)}function Tc(n,o){return ui(n)?n:new Jd(n,o)}class Jd{constructor(o,u){this.dep=new Iu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=u?o:Le(o),this._value=u?o:$i(o),this.__v_isShallow=u}get value(){return this.dep.track(),this._value}set value(o){const u=this._rawValue,_=this.__v_isShallow||Ki(o)||In(o);o=_?o:Le(o),sr(o,u)&&(this._rawValue=o,this._value=_?o:$i(o),this.dep.trigger())}}function ls(n){return ui(n)?n.value:n}const $d={get:(n,o,u)=>o==="__v_raw"?n:ls(Reflect.get(n,o,u)),set:(n,o,u,_)=>{const m=n[o];return ui(m)&&!ui(u)?(m.value=u,!0):Reflect.set(n,o,u,_)}};function Dc(n){return Dr(n)?n:new Proxy(n,$d)}class Qd{constructor(o,u,_){this.fn=o,this.setter=u,this._value=void 0,this.dep=new Iu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=vo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!u,this.isSSR=_}notify(){if(this.flags|=16,!(this.flags&8)&&ke!==this)return vc(this,!0),!0}get value(){const o=this.dep.track();return Cc(this),o&&(o.version=this.dep.version),this._value}set value(o){this.setter&&this.setter(o)}}function tp(n,o,u=!1){let _,m;return Qt(n)?_=n:(_=n.get,m=n.set),new Qd(_,m,u)}const ka={},Oa=new WeakMap;let Br;function ep(n,o=!1,u=Br){if(u){let _=Oa.get(u);_||Oa.set(u,_=[]),_.push(n)}}function ip(n,o,u=xe){const{immediate:_,deep:m,once:c,scheduler:f,augmentJob:y,call:b}=u,k=Bt=>m?Bt:Ki(Bt)||m===!1||m===0?Tn(Bt,1):Tn(Bt);let M,E,O,I,et=!1,Q=!1;if(ui(n)?(E=()=>n.value,et=Ki(n)):Dr(n)?(E=()=>k(n),et=!0):Xt(n)?(Q=!0,et=n.some(Bt=>Dr(Bt)||Ki(Bt)),E=()=>n.map(Bt=>{if(ui(Bt))return Bt.value;if(Dr(Bt))return k(Bt);if(Qt(Bt))return b?b(Bt,2):Bt()})):Qt(n)?o?E=b?()=>b(n,2):n:E=()=>{if(O){On();try{O()}finally{Rn()}}const Bt=Br;Br=M;try{return b?b(n,3,[I]):n(I)}finally{Br=Bt}}:E=mn,o&&m){const Bt=E,qt=m===!0?1/0:m;E=()=>Tn(Bt(),qt)}const Et=Sd(),dt=()=>{M.stop(),Et&&Et.active&&Su(Et.effects,M)};if(c&&o){const Bt=o;o=(...qt)=>{Bt(...qt),dt()}}let mt=Q?new Array(n.length).fill(ka):ka;const Ct=Bt=>{if(!(!(M.flags&1)||!M.dirty&&!Bt))if(o){const qt=M.run();if(m||et||(Q?qt.some((se,ue)=>sr(se,mt[ue])):sr(qt,mt))){O&&O();const se=Br;Br=M;try{const ue=[qt,mt===ka?void 0:Q&&mt[0]===ka?[]:mt,I];mt=qt,b?b(o,3,ue):o(...ue)}finally{Br=se}}}else M.run()};return y&&y(Ct),M=new gc(E),M.scheduler=f?()=>f(Ct,!1):Ct,I=Bt=>ep(Bt,!1,M),O=M.onStop=()=>{const Bt=Oa.get(M);if(Bt){if(b)b(Bt,4);else for(const qt of Bt)qt();Oa.delete(M)}},o?_?Ct(!0):mt=M.run():f?f(Ct.bind(null,!0),!0):M.run(),dt.pause=M.pause.bind(M),dt.resume=M.resume.bind(M),dt.stop=dt,dt}function Tn(n,o=1/0,u){if(o<=0||!we(n)||n.__v_skip||(u=u||new Map,(u.get(n)||0)>=o))return n;if(u.set(n,o),o--,ui(n))Tn(n.value,o,u);else if(Xt(n))for(let _=0;_<n.length;_++)Tn(n[_],o,u);else if(Ka(n)||as(n))n.forEach(_=>{Tn(_,o,u)});else if(fc(n)){for(const _ in n)Tn(n[_],o,u);for(const _ of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,_)&&Tn(n[_],o,u)}return n}function Mo(n,o,u,_){try{return _?n(..._):n()}catch(m){tl(m,o,u)}}function yn(n,o,u,_){if(Qt(n)){const m=Mo(n,o,u,_);return m&&hc(m)&&m.catch(c=>{tl(c,o,u)}),m}if(Xt(n)){const m=[];for(let c=0;c<n.length;c++)m.push(yn(n[c],o,u,_));return m}}function tl(n,o,u,_=!0){const m=o?o.vnode:null,{errorHandler:c,throwUnhandledErrorInProduction:f}=o&&o.appContext.config||xe;if(o){let y=o.parent;const b=o.proxy,k=`https://vuejs.org/error-reference/#runtime-${u}`;for(;y;){const M=y.ec;if(M){for(let E=0;E<M.length;E++)if(M[E](n,b,k)===!1)return}y=y.parent}if(c){On(),Mo(c,null,10,[n,b,k]),Rn();return}}np(n,u,m,_,f)}function np(n,o,u,_=!0,m=!1){if(m)throw n;console.error(n)}const yi=[];let pn=-1;const us=[];let ir=null,rs=0;const Oc=Promise.resolve();let Ra=null;function Gu(n){const o=Ra||Oc;return n?o.then(this?n.bind(this):n):o}function rp(n){let o=pn+1,u=yi.length;for(;o<u;){const _=o+u>>>1,m=yi[_],c=bo(m);c<n||c===n&&m.flags&2?o=_+1:u=_}return o}function ju(n){if(!(n.flags&1)){const o=bo(n),u=yi[yi.length-1];!u||!(n.flags&2)&&o>=bo(u)?yi.push(n):yi.splice(rp(o),0,n),n.flags|=1,Rc()}}function Rc(){Ra||(Ra=Oc.then(Fc))}function sp(n){Xt(n)?us.push(...n):ir&&n.id===-1?ir.splice(rs+1,0,n):n.flags&1||(us.push(n),n.flags|=1),Rc()}function dh(n,o,u=pn+1){for(;u<yi.length;u++){const _=yi[u];if(_&&_.flags&2){if(n&&_.id!==n.uid)continue;yi.splice(u,1),u--,_.flags&4&&(_.flags&=-2),_(),_.flags&4||(_.flags&=-2)}}}function Ic(n){if(us.length){const o=[...new Set(us)].sort((u,_)=>bo(u)-bo(_));if(us.length=0,ir){ir.push(...o);return}for(ir=o,rs=0;rs<ir.length;rs++){const u=ir[rs];u.flags&4&&(u.flags&=-2),u.flags&8||u(),u.flags&=-2}ir=null,rs=0}}const bo=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Fc(n){try{for(pn=0;pn<yi.length;pn++){const o=yi[pn];o&&!(o.flags&8)&&(o.flags&4&&(o.flags&=-2),Mo(o,o.i,o.i?15:14),o.flags&4||(o.flags&=-2))}}finally{for(;pn<yi.length;pn++){const o=yi[pn];o&&(o.flags&=-2)}pn=-1,yi.length=0,Ic(),Ra=null,(yi.length||us.length)&&Fc()}}let Ni=null,Nc=null;function Ia(n){const o=Ni;return Ni=n,Nc=n&&n.type.__scopeId||null,o}function op(n,o=Ni,u){if(!o||n._n)return n;const _=(...m)=>{_._d&&za(-1);const c=Ia(o);let f;try{f=n(...m)}finally{Ia(c),_._d&&za(1)}return f};return _._n=!0,_._c=!0,_._d=!0,_}function Pa(n,o){if(Ni===null)return n;const u=rl(Ni),_=n.dirs||(n.dirs=[]);for(let m=0;m<o.length;m++){let[c,f,y,b=xe]=o[m];c&&(Qt(c)&&(c={mounted:c,updated:c}),c.deep&&Tn(f),_.push({dir:c,instance:u,value:f,oldValue:void 0,arg:y,modifiers:b}))}return n}function Mr(n,o,u,_){const m=n.dirs,c=o&&o.dirs;for(let f=0;f<m.length;f++){const y=m[f];c&&(y.oldValue=c[f].value);let b=y.dir[_];b&&(On(),yn(b,u,8,[n.el,y,n,o]),Rn())}}function Sa(n,o){if(li){let u=li.provides;const _=li.parent&&li.parent.provides;_===u&&(u=li.provides=Object.create(_)),u[n]=o}}function Dn(n,o,u=!1){const _=o_();if(_||cs){let m=cs?cs._context.provides:_?_.parent==null||_.ce?_.vnode.appContext&&_.vnode.appContext.provides:_.parent.provides:void 0;if(m&&n in m)return m[n];if(arguments.length>1)return u&&Qt(o)?o.call(_&&_.proxy):o}}const ap=Symbol.for("v-scx"),lp=()=>Dn(ap);function hs(n,o,u){return zc(n,o,u)}function zc(n,o,u=xe){const{immediate:_,deep:m,flush:c,once:f}=u,y=hi({},u),b=o&&_||!o&&c!=="post";let k;if(xo){if(c==="sync"){const I=lp();k=I.__watcherHandles||(I.__watcherHandles=[])}else if(!b){const I=()=>{};return I.stop=mn,I.resume=mn,I.pause=mn,I}}const M=li;y.call=(I,et,Q)=>yn(I,M,et,Q);let E=!1;c==="post"?y.scheduler=I=>{Oi(I,M&&M.suspense)}:c!=="sync"&&(E=!0,y.scheduler=(I,et)=>{et?I():ju(I)}),y.augmentJob=I=>{o&&(I.flags|=4),E&&(I.flags|=2,M&&(I.id=M.uid,I.i=M))};const O=ip(n,o,y);return xo&&(k?k.push(O):b&&O()),O}function up(n,o,u){const _=this.proxy,m=Ze(n)?n.includes(".")?Gc(_,n):()=>_[n]:n.bind(_,_);let c;Qt(o)?c=o:(c=o.handler,u=o);const f=Eo(this),y=zc(m,c.bind(_),u);return f(),y}function Gc(n,o){const u=o.split(".");return()=>{let _=n;for(let m=0;m<u.length&&_;m++)_=_[u[m]];return _}}const hp=Symbol("_vte"),cp=n=>n.__isTeleport,fp=Symbol("_leaveCb");function Zu(n,o){n.shapeFlag&6&&n.component?(n.transition=o,Zu(n.component.subTree,o)):n.shapeFlag&128?(n.ssContent.transition=o.clone(n.ssContent),n.ssFallback.transition=o.clone(n.ssFallback)):n.transition=o}function jc(n,o){return Qt(n)?hi({name:n.name},o,{setup:n}):n}function Zc(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}const Fa=new WeakMap;function fo(n,o,u,_,m=!1){if(Xt(n)){n.forEach((et,Q)=>fo(et,o&&(Xt(o)?o[Q]:o),u,_,m));return}if(po(_)&&!m){_.shapeFlag&512&&_.type.__asyncResolved&&_.component.subTree.component&&fo(n,o,u,_.component.subTree);return}const c=_.shapeFlag&4?rl(_.component):_.el,f=m?null:c,{i:y,r:b}=n,k=o&&o.r,M=y.refs===xe?y.refs={}:y.refs,E=y.setupState,O=Le(E),I=E===xe?uc:et=>be(O,et);if(k!=null&&k!==b){if(ph(o),Ze(k))M[k]=null,I(k)&&(E[k]=null);else if(ui(k)){k.value=null;const et=o;et.k&&(M[et.k]=null)}}if(Qt(b))Mo(b,y,12,[f,M]);else{const et=Ze(b),Q=ui(b);if(et||Q){const Et=()=>{if(n.f){const dt=et?I(b)?E[b]:M[b]:b.value;if(m)Xt(dt)&&Su(dt,c);else if(Xt(dt))dt.includes(c)||dt.push(c);else if(et)M[b]=[c],I(b)&&(E[b]=M[b]);else{const mt=[c];b.value=mt,n.k&&(M[n.k]=mt)}}else et?(M[b]=f,I(b)&&(E[b]=f)):Q&&(b.value=f,n.k&&(M[n.k]=f))};if(f){const dt=()=>{Et(),Fa.delete(n)};dt.id=-1,Fa.set(n,dt),Oi(dt,u)}else ph(n),Et()}}}function ph(n){const o=Fa.get(n);o&&(o.flags|=8,Fa.delete(n))}Xa().requestIdleCallback;Xa().cancelIdleCallback;const po=n=>!!n.type.__asyncLoader,Uc=n=>n.type.__isKeepAlive;function dp(n,o){Vc(n,"a",o)}function pp(n,o){Vc(n,"da",o)}function Vc(n,o,u=li){const _=n.__wdc||(n.__wdc=()=>{let m=u;for(;m;){if(m.isDeactivated)return;m=m.parent}return n()});if(el(o,_,u),u){let m=u.parent;for(;m&&m.parent;)Uc(m.parent.vnode)&&_p(_,o,u,m),m=m.parent}}function _p(n,o,u,_){const m=el(o,n,_,!0);Kc(()=>{Su(_[o],m)},u)}function el(n,o,u=li,_=!1){if(u){const m=u[n]||(u[n]=[]),c=o.__weh||(o.__weh=(...f)=>{On();const y=Eo(u),b=yn(o,u,n,f);return y(),Rn(),b});return _?m.unshift(c):m.push(c),c}}const Fn=n=>(o,u=li)=>{(!xo||n==="sp")&&el(n,(..._)=>o(..._),u)},mp=Fn("bm"),Uu=Fn("m"),gp=Fn("bu"),yp=Fn("u"),Hc=Fn("bum"),Kc=Fn("um"),vp=Fn("sp"),Lp=Fn("rtg"),bp=Fn("rtc");function Cp(n,o=li){el("ec",n,o)}const xp="components";function wp(n,o){return Mp(xp,n,!0,o)||n}const kp=Symbol.for("v-ndc");function Mp(n,o,u=!0,_=!1){const m=Ni||li;if(m){const c=m.type;{const y=c_(c,!1);if(y&&(y===o||y===qi(o)||y===Wa(qi(o))))return c}const f=_h(m[n]||c[n],o)||_h(m.appContext[n],o);return!f&&_?c:f}}function _h(n,o){return n&&(n[o]||n[qi(o)]||n[Wa(qi(o))])}function mu(n,o,u,_){let m;const c=u,f=Xt(n);if(f||Ze(n)){const y=f&&Dr(n);let b=!1,k=!1;y&&(b=!Ki(n),k=In(n),n=$a(n)),m=new Array(n.length);for(let M=0,E=n.length;M<E;M++)m[M]=o(b?k?ds($i(n[M])):$i(n[M]):n[M],M,void 0,c)}else if(typeof n=="number"){m=new Array(n);for(let y=0;y<n;y++)m[y]=o(y+1,y,void 0,c)}else if(we(n))if(n[Symbol.iterator])m=Array.from(n,(y,b)=>o(y,b,void 0,c));else{const y=Object.keys(n);m=new Array(y.length);for(let b=0,k=y.length;b<k;b++){const M=y[b];m[b]=o(n[M],M,b,c)}}else m=[];return m}const gu=n=>n?df(n)?rl(n):gu(n.parent):null,_o=hi(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>gu(n.parent),$root:n=>gu(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Wc(n),$forceUpdate:n=>n.f||(n.f=()=>{ju(n.update)}),$nextTick:n=>n.n||(n.n=Gu.bind(n.proxy)),$watch:n=>up.bind(n)}),iu=(n,o)=>n!==xe&&!n.__isScriptSetup&&be(n,o),Ep={get({_:n},o){if(o==="__v_skip")return!0;const{ctx:u,setupState:_,data:m,props:c,accessCache:f,type:y,appContext:b}=n;if(o[0]!=="$"){const O=f[o];if(O!==void 0)switch(O){case 1:return _[o];case 2:return m[o];case 4:return u[o];case 3:return c[o]}else{if(iu(_,o))return f[o]=1,_[o];if(m!==xe&&be(m,o))return f[o]=2,m[o];if(be(c,o))return f[o]=3,c[o];if(u!==xe&&be(u,o))return f[o]=4,u[o];yu&&(f[o]=0)}}const k=_o[o];let M,E;if(k)return o==="$attrs"&&ai(n.attrs,"get",""),k(n);if((M=y.__cssModules)&&(M=M[o]))return M;if(u!==xe&&be(u,o))return f[o]=4,u[o];if(E=b.config.globalProperties,be(E,o))return E[o]},set({_:n},o,u){const{data:_,setupState:m,ctx:c}=n;return iu(m,o)?(m[o]=u,!0):_!==xe&&be(_,o)?(_[o]=u,!0):be(n.props,o)||o[0]==="$"&&o.slice(1)in n?!1:(c[o]=u,!0)},has({_:{data:n,setupState:o,accessCache:u,ctx:_,appContext:m,props:c,type:f}},y){let b;return!!(u[y]||n!==xe&&y[0]!=="$"&&be(n,y)||iu(o,y)||be(c,y)||be(_,y)||be(_o,y)||be(m.config.globalProperties,y)||(b=f.__cssModules)&&b[y])},defineProperty(n,o,u){return u.get!=null?n._.accessCache[o]=0:be(u,"value")&&this.set(n,o,u.value,null),Reflect.defineProperty(n,o,u)}};function mh(n){return Xt(n)?n.reduce((o,u)=>(o[u]=null,o),{}):n}let yu=!0;function Bp(n){const o=Wc(n),u=n.proxy,_=n.ctx;yu=!1,o.beforeCreate&&gh(o.beforeCreate,n,"bc");const{data:m,computed:c,methods:f,watch:y,provide:b,inject:k,created:M,beforeMount:E,mounted:O,beforeUpdate:I,updated:et,activated:Q,deactivated:Et,beforeDestroy:dt,beforeUnmount:mt,destroyed:Ct,unmounted:Bt,render:qt,renderTracked:se,renderTriggered:ue,errorCaptured:Ne,serverPrefetch:Ue,expose:Ee,inheritAttrs:ae,components:ye,directives:Je,filters:Dt}=o;if(k&&Pp(k,_,null),f)for(const _t in f){const rt=f[_t];Qt(rt)&&(_[_t]=rt.bind(u))}if(m){const _t=m.call(u,u);we(_t)&&(n.data=Qa(_t))}if(yu=!0,c)for(const _t in c){const rt=c[_t],ce=Qt(rt)?rt.bind(u,u):Qt(rt.get)?rt.get.bind(u,u):mn,Pt=!Qt(rt)&&Qt(rt.set)?rt.set.bind(u):mn,Ot=Fi({get:ce,set:Pt});Object.defineProperty(_,_t,{enumerable:!0,configurable:!0,get:()=>Ot.value,set:Ht=>Ot.value=Ht})}if(y)for(const _t in y)qc(y[_t],_,u,_t);if(b){const _t=Qt(b)?b.call(u):b;Reflect.ownKeys(_t).forEach(rt=>{Sa(rt,_t[rt])})}M&&gh(M,n,"c");function ut(_t,rt){Xt(rt)?rt.forEach(ce=>_t(ce.bind(u))):rt&&_t(rt.bind(u))}if(ut(mp,E),ut(Uu,O),ut(gp,I),ut(yp,et),ut(dp,Q),ut(pp,Et),ut(Cp,Ne),ut(bp,se),ut(Lp,ue),ut(Hc,mt),ut(Kc,Bt),ut(vp,Ue),Xt(Ee))if(Ee.length){const _t=n.exposed||(n.exposed={});Ee.forEach(rt=>{Object.defineProperty(_t,rt,{get:()=>u[rt],set:ce=>u[rt]=ce,enumerable:!0})})}else n.exposed||(n.exposed={});qt&&n.render===mn&&(n.render=qt),ae!=null&&(n.inheritAttrs=ae),ye&&(n.components=ye),Je&&(n.directives=Je),Ue&&Zc(n)}function Pp(n,o,u=mn){Xt(n)&&(n=vu(n));for(const _ in n){const m=n[_];let c;we(m)?"default"in m?c=Dn(m.from||_,m.default,!0):c=Dn(m.from||_):c=Dn(m),ui(c)?Object.defineProperty(o,_,{enumerable:!0,configurable:!0,get:()=>c.value,set:f=>c.value=f}):o[_]=c}}function gh(n,o,u){yn(Xt(n)?n.map(_=>_.bind(o.proxy)):n.bind(o.proxy),o,u)}function qc(n,o,u,_){let m=_.includes(".")?Gc(u,_):()=>u[_];if(Ze(n)){const c=o[n];Qt(c)&&hs(m,c)}else if(Qt(n))hs(m,n.bind(u));else if(we(n))if(Xt(n))n.forEach(c=>qc(c,o,u,_));else{const c=Qt(n.handler)?n.handler.bind(u):o[n.handler];Qt(c)&&hs(m,c,n)}}function Wc(n){const o=n.type,{mixins:u,extends:_}=o,{mixins:m,optionsCache:c,config:{optionMergeStrategies:f}}=n.appContext,y=c.get(o);let b;return y?b=y:!m.length&&!u&&!_?b=o:(b={},m.length&&m.forEach(k=>Na(b,k,f,!0)),Na(b,o,f)),we(o)&&c.set(o,b),b}function Na(n,o,u,_=!1){const{mixins:m,extends:c}=o;c&&Na(n,c,u,!0),m&&m.forEach(f=>Na(n,f,u,!0));for(const f in o)if(!(_&&f==="expose")){const y=Sp[f]||u&&u[f];n[f]=y?y(n[f],o[f]):o[f]}return n}const Sp={data:yh,props:vh,emits:vh,methods:so,computed:so,beforeCreate:mi,created:mi,beforeMount:mi,mounted:mi,beforeUpdate:mi,updated:mi,beforeDestroy:mi,beforeUnmount:mi,destroyed:mi,unmounted:mi,activated:mi,deactivated:mi,errorCaptured:mi,serverPrefetch:mi,components:so,directives:so,watch:Tp,provide:yh,inject:Ap};function yh(n,o){return o?n?function(){return hi(Qt(n)?n.call(this,this):n,Qt(o)?o.call(this,this):o)}:o:n}function Ap(n,o){return so(vu(n),vu(o))}function vu(n){if(Xt(n)){const o={};for(let u=0;u<n.length;u++)o[n[u]]=n[u];return o}return n}function mi(n,o){return n?[...new Set([].concat(n,o))]:o}function so(n,o){return n?hi(Object.create(null),n,o):o}function vh(n,o){return n?Xt(n)&&Xt(o)?[...new Set([...n,...o])]:hi(Object.create(null),mh(n),mh(o??{})):o}function Tp(n,o){if(!n)return o;if(!o)return n;const u=hi(Object.create(null),n);for(const _ in o)u[_]=mi(n[_],o[_]);return u}function Yc(){return{app:null,config:{isNativeTag:uc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Dp=0;function Op(n,o){return function(_,m=null){Qt(_)||(_=hi({},_)),m!=null&&!we(m)&&(m=null);const c=Yc(),f=new WeakSet,y=[];let b=!1;const k=c.app={_uid:Dp++,_component:_,_props:m,_container:null,_context:c,_instance:null,version:d_,get config(){return c.config},set config(M){},use(M,...E){return f.has(M)||(M&&Qt(M.install)?(f.add(M),M.install(k,...E)):Qt(M)&&(f.add(M),M(k,...E))),k},mixin(M){return c.mixins.includes(M)||c.mixins.push(M),k},component(M,E){return E?(c.components[M]=E,k):c.components[M]},directive(M,E){return E?(c.directives[M]=E,k):c.directives[M]},mount(M,E,O){if(!b){const I=k._ceVNode||vi(_,m);return I.appContext=c,O===!0?O="svg":O===!1&&(O=void 0),n(I,M,O),b=!0,k._container=M,M.__vue_app__=k,rl(I.component)}},onUnmount(M){y.push(M)},unmount(){b&&(yn(y,k._instance,16),n(null,k._container),delete k._container.__vue_app__)},provide(M,E){return c.provides[M]=E,k},runWithContext(M){const E=cs;cs=k;try{return M()}finally{cs=E}}};return k}}let cs=null;const Rp=(n,o)=>o==="modelValue"||o==="model-value"?n.modelModifiers:n[`${o}Modifiers`]||n[`${qi(o)}Modifiers`]||n[`${Or(o)}Modifiers`];function Ip(n,o,...u){if(n.isUnmounted)return;const _=n.vnode.props||xe;let m=u;const c=o.startsWith("update:"),f=c&&Rp(_,o.slice(7));f&&(f.trim&&(m=u.map(M=>Ze(M)?M.trim():M)),f.number&&(m=u.map(Ya)));let y,b=_[y=Jl(o)]||_[y=Jl(qi(o))];!b&&c&&(b=_[y=Jl(Or(o))]),b&&yn(b,n,6,m);const k=_[y+"Once"];if(k){if(!n.emitted)n.emitted={};else if(n.emitted[y])return;n.emitted[y]=!0,yn(k,n,6,m)}}const Fp=new WeakMap;function Xc(n,o,u=!1){const _=u?Fp:o.emitsCache,m=_.get(n);if(m!==void 0)return m;const c=n.emits;let f={},y=!1;if(!Qt(n)){const b=k=>{const M=Xc(k,o,!0);M&&(y=!0,hi(f,M))};!u&&o.mixins.length&&o.mixins.forEach(b),n.extends&&b(n.extends),n.mixins&&n.mixins.forEach(b)}return!c&&!y?(we(n)&&_.set(n,null),null):(Xt(c)?c.forEach(b=>f[b]=null):hi(f,c),we(n)&&_.set(n,f),f)}function il(n,o){return!n||!Ha(o)?!1:(o=o.slice(2).replace(/Once$/,""),be(n,o[0].toLowerCase()+o.slice(1))||be(n,Or(o))||be(n,o))}function Lh(n){const{type:o,vnode:u,proxy:_,withProxy:m,propsOptions:[c],slots:f,attrs:y,emit:b,render:k,renderCache:M,props:E,data:O,setupState:I,ctx:et,inheritAttrs:Q}=n,Et=Ia(n);let dt,mt;try{if(u.shapeFlag&4){const Bt=m||_,qt=Bt;dt=_n(k.call(qt,Bt,M,E,I,O,et)),mt=y}else{const Bt=o;dt=_n(Bt.length>1?Bt(E,{attrs:y,slots:f,emit:b}):Bt(E,null)),mt=o.props?y:Np(y)}}catch(Bt){mo.length=0,tl(Bt,n,1),dt=vi(or)}let Ct=dt;if(mt&&Q!==!1){const Bt=Object.keys(mt),{shapeFlag:qt}=Ct;Bt.length&&qt&7&&(c&&Bt.some(Pu)&&(mt=zp(mt,c)),Ct=ps(Ct,mt,!1,!0))}return u.dirs&&(Ct=ps(Ct,null,!1,!0),Ct.dirs=Ct.dirs?Ct.dirs.concat(u.dirs):u.dirs),u.transition&&Zu(Ct,u.transition),dt=Ct,Ia(Et),dt}const Np=n=>{let o;for(const u in n)(u==="class"||u==="style"||Ha(u))&&((o||(o={}))[u]=n[u]);return o},zp=(n,o)=>{const u={};for(const _ in n)(!Pu(_)||!(_.slice(9)in o))&&(u[_]=n[_]);return u};function Gp(n,o,u){const{props:_,children:m,component:c}=n,{props:f,children:y,patchFlag:b}=o,k=c.emitsOptions;if(o.dirs||o.transition)return!0;if(u&&b>=0){if(b&1024)return!0;if(b&16)return _?bh(_,f,k):!!f;if(b&8){const M=o.dynamicProps;for(let E=0;E<M.length;E++){const O=M[E];if(f[O]!==_[O]&&!il(k,O))return!0}}}else return(m||y)&&(!y||!y.$stable)?!0:_===f?!1:_?f?bh(_,f,k):!0:!!f;return!1}function bh(n,o,u){const _=Object.keys(o);if(_.length!==Object.keys(n).length)return!0;for(let m=0;m<_.length;m++){const c=_[m];if(o[c]!==n[c]&&!il(u,c))return!0}return!1}function jp({vnode:n,parent:o},u){for(;o;){const _=o.subTree;if(_.suspense&&_.suspense.activeBranch===n&&(_.el=n.el),_===n)(n=o.vnode).el=u,o=o.parent;else break}}const Jc={},$c=()=>Object.create(Jc),Qc=n=>Object.getPrototypeOf(n)===Jc;function Zp(n,o,u,_=!1){const m={},c=$c();n.propsDefaults=Object.create(null),tf(n,o,m,c);for(const f in n.propsOptions[0])f in m||(m[f]=void 0);u?n.props=_?m:Ac(m):n.type.props?n.props=m:n.props=c,n.attrs=c}function Up(n,o,u,_){const{props:m,attrs:c,vnode:{patchFlag:f}}=n,y=Le(m),[b]=n.propsOptions;let k=!1;if((_||f>0)&&!(f&16)){if(f&8){const M=n.vnode.dynamicProps;for(let E=0;E<M.length;E++){let O=M[E];if(il(n.emitsOptions,O))continue;const I=o[O];if(b)if(be(c,O))I!==c[O]&&(c[O]=I,k=!0);else{const et=qi(O);m[et]=Lu(b,y,et,I,n,!1)}else I!==c[O]&&(c[O]=I,k=!0)}}}else{tf(n,o,m,c)&&(k=!0);let M;for(const E in y)(!o||!be(o,E)&&((M=Or(E))===E||!be(o,M)))&&(b?u&&(u[E]!==void 0||u[M]!==void 0)&&(m[E]=Lu(b,y,E,void 0,n,!0)):delete m[E]);if(c!==y)for(const E in c)(!o||!be(o,E))&&(delete c[E],k=!0)}k&&An(n.attrs,"set","")}function tf(n,o,u,_){const[m,c]=n.propsOptions;let f=!1,y;if(o)for(let b in o){if(uo(b))continue;const k=o[b];let M;m&&be(m,M=qi(b))?!c||!c.includes(M)?u[M]=k:(y||(y={}))[M]=k:il(n.emitsOptions,b)||(!(b in _)||k!==_[b])&&(_[b]=k,f=!0)}if(c){const b=Le(u),k=y||xe;for(let M=0;M<c.length;M++){const E=c[M];u[E]=Lu(m,b,E,k[E],n,!be(k,E))}}return f}function Lu(n,o,u,_,m,c){const f=n[u];if(f!=null){const y=be(f,"default");if(y&&_===void 0){const b=f.default;if(f.type!==Function&&!f.skipFactory&&Qt(b)){const{propsDefaults:k}=m;if(u in k)_=k[u];else{const M=Eo(m);_=k[u]=b.call(null,o),M()}}else _=b;m.ce&&m.ce._setProp(u,_)}f[0]&&(c&&!y?_=!1:f[1]&&(_===""||_===Or(u))&&(_=!0))}return _}const Vp=new WeakMap;function ef(n,o,u=!1){const _=u?Vp:o.propsCache,m=_.get(n);if(m)return m;const c=n.props,f={},y=[];let b=!1;if(!Qt(n)){const M=E=>{b=!0;const[O,I]=ef(E,o,!0);hi(f,O),I&&y.push(...I)};!u&&o.mixins.length&&o.mixins.forEach(M),n.extends&&M(n.extends),n.mixins&&n.mixins.forEach(M)}if(!c&&!b)return we(n)&&_.set(n,os),os;if(Xt(c))for(let M=0;M<c.length;M++){const E=qi(c[M]);Ch(E)&&(f[E]=xe)}else if(c)for(const M in c){const E=qi(M);if(Ch(E)){const O=c[M],I=f[E]=Xt(O)||Qt(O)?{type:O}:hi({},O),et=I.type;let Q=!1,Et=!0;if(Xt(et))for(let dt=0;dt<et.length;++dt){const mt=et[dt],Ct=Qt(mt)&&mt.name;if(Ct==="Boolean"){Q=!0;break}else Ct==="String"&&(Et=!1)}else Q=Qt(et)&&et.name==="Boolean";I[0]=Q,I[1]=Et,(Q||be(I,"default"))&&y.push(E)}}const k=[f,y];return we(n)&&_.set(n,k),k}function Ch(n){return n[0]!=="$"&&!uo(n)}const Vu=n=>n==="_"||n==="_ctx"||n==="$stable",Hu=n=>Xt(n)?n.map(_n):[_n(n)],Hp=(n,o,u)=>{if(o._n)return o;const _=op((...m)=>Hu(o(...m)),u);return _._c=!1,_},nf=(n,o,u)=>{const _=n._ctx;for(const m in n){if(Vu(m))continue;const c=n[m];if(Qt(c))o[m]=Hp(m,c,_);else if(c!=null){const f=Hu(c);o[m]=()=>f}}},rf=(n,o)=>{const u=Hu(o);n.slots.default=()=>u},sf=(n,o,u)=>{for(const _ in o)(u||!Vu(_))&&(n[_]=o[_])},Kp=(n,o,u)=>{const _=n.slots=$c();if(n.vnode.shapeFlag&32){const m=o._;m?(sf(_,o,u),u&&dc(_,"_",m,!0)):nf(o,_)}else o&&rf(n,o)},qp=(n,o,u)=>{const{vnode:_,slots:m}=n;let c=!0,f=xe;if(_.shapeFlag&32){const y=o._;y?u&&y===1?c=!1:sf(m,o,u):(c=!o.$stable,nf(o,m)),f=o}else o&&(rf(n,o),f={default:1});if(c)for(const y in m)!Vu(y)&&f[y]==null&&delete m[y]},Oi=$p;function Wp(n){return Yp(n)}function Yp(n,o){const u=Xa();u.__VUE__=!0;const{insert:_,remove:m,patchProp:c,createElement:f,createText:y,createComment:b,setText:k,setElementText:M,parentNode:E,nextSibling:O,setScopeId:I=mn,insertStaticContent:et}=n,Q=(F,j,W,ot=null,lt=null,at=null,kt=void 0,xt=null,Lt=!!j.dynamicChildren)=>{if(F===j)return;F&&!io(F,j)&&(ot=st(F),Ht(F,lt,at,!0),F=null),j.patchFlag===-2&&(Lt=!1,j.dynamicChildren=null);const{type:pt,ref:Vt,shapeFlag:At}=j;switch(pt){case nl:Et(F,j,W,ot);break;case or:dt(F,j,W,ot);break;case ru:F==null&&mt(j,W,ot,kt);break;case Ii:ye(F,j,W,ot,lt,at,kt,xt,Lt);break;default:At&1?qt(F,j,W,ot,lt,at,kt,xt,Lt):At&6?Je(F,j,W,ot,lt,at,kt,xt,Lt):(At&64||At&128)&&pt.process(F,j,W,ot,lt,at,kt,xt,Lt,It)}Vt!=null&&lt?fo(Vt,F&&F.ref,at,j||F,!j):Vt==null&&F&&F.ref!=null&&fo(F.ref,null,at,F,!0)},Et=(F,j,W,ot)=>{if(F==null)_(j.el=y(j.children),W,ot);else{const lt=j.el=F.el;j.children!==F.children&&k(lt,j.children)}},dt=(F,j,W,ot)=>{F==null?_(j.el=b(j.children||""),W,ot):j.el=F.el},mt=(F,j,W,ot)=>{[F.el,F.anchor]=et(F.children,j,W,ot,F.el,F.anchor)},Ct=({el:F,anchor:j},W,ot)=>{let lt;for(;F&&F!==j;)lt=O(F),_(F,W,ot),F=lt;_(j,W,ot)},Bt=({el:F,anchor:j})=>{let W;for(;F&&F!==j;)W=O(F),m(F),F=W;m(j)},qt=(F,j,W,ot,lt,at,kt,xt,Lt)=>{if(j.type==="svg"?kt="svg":j.type==="math"&&(kt="mathml"),F==null)se(j,W,ot,lt,at,kt,xt,Lt);else{const pt=F.el&&F.el._isVueCE?F.el:null;try{pt&&pt._beginPatch(),Ue(F,j,lt,at,kt,xt,Lt)}finally{pt&&pt._endPatch()}}},se=(F,j,W,ot,lt,at,kt,xt)=>{let Lt,pt;const{props:Vt,shapeFlag:At,transition:Zt,dirs:Yt}=F;if(Lt=F.el=f(F.type,at,Vt&&Vt.is,Vt),At&8?M(Lt,F.children):At&16&&Ne(F.children,Lt,null,ot,lt,nu(F,at),kt,xt),Yt&&Mr(F,null,ot,"created"),ue(Lt,F,F.scopeId,kt,ot),Vt){for(const ge in Vt)ge!=="value"&&!uo(ge)&&c(Lt,ge,null,Vt[ge],at,ot);"value"in Vt&&c(Lt,"value",null,Vt.value,at),(pt=Vt.onVnodeBeforeMount)&&dn(pt,ot,F)}Yt&&Mr(F,null,ot,"beforeMount");const ne=Xp(lt,Zt);ne&&Zt.beforeEnter(Lt),_(Lt,j,W),((pt=Vt&&Vt.onVnodeMounted)||ne||Yt)&&Oi(()=>{pt&&dn(pt,ot,F),ne&&Zt.enter(Lt),Yt&&Mr(F,null,ot,"mounted")},lt)},ue=(F,j,W,ot,lt)=>{if(W&&I(F,W),ot)for(let at=0;at<ot.length;at++)I(F,ot[at]);if(lt){let at=lt.subTree;if(j===at||uf(at.type)&&(at.ssContent===j||at.ssFallback===j)){const kt=lt.vnode;ue(F,kt,kt.scopeId,kt.slotScopeIds,lt.parent)}}},Ne=(F,j,W,ot,lt,at,kt,xt,Lt=0)=>{for(let pt=Lt;pt<F.length;pt++){const Vt=F[pt]=xt?nr(F[pt]):_n(F[pt]);Q(null,Vt,j,W,ot,lt,at,kt,xt)}},Ue=(F,j,W,ot,lt,at,kt)=>{const xt=j.el=F.el;let{patchFlag:Lt,dynamicChildren:pt,dirs:Vt}=j;Lt|=F.patchFlag&16;const At=F.props||xe,Zt=j.props||xe;let Yt;if(W&&Er(W,!1),(Yt=Zt.onVnodeBeforeUpdate)&&dn(Yt,W,j,F),Vt&&Mr(j,F,W,"beforeUpdate"),W&&Er(W,!0),(At.innerHTML&&Zt.innerHTML==null||At.textContent&&Zt.textContent==null)&&M(xt,""),pt?Ee(F.dynamicChildren,pt,xt,W,ot,nu(j,lt),at):kt||rt(F,j,xt,null,W,ot,nu(j,lt),at,!1),Lt>0){if(Lt&16)ae(xt,At,Zt,W,lt);else if(Lt&2&&At.class!==Zt.class&&c(xt,"class",null,Zt.class,lt),Lt&4&&c(xt,"style",At.style,Zt.style,lt),Lt&8){const ne=j.dynamicProps;for(let ge=0;ge<ne.length;ge++){const fe=ne[ge],Ve=At[fe],ze=Zt[fe];(ze!==Ve||fe==="value")&&c(xt,fe,Ve,ze,lt,W)}}Lt&1&&F.children!==j.children&&M(xt,j.children)}else!kt&&pt==null&&ae(xt,At,Zt,W,lt);((Yt=Zt.onVnodeUpdated)||Vt)&&Oi(()=>{Yt&&dn(Yt,W,j,F),Vt&&Mr(j,F,W,"updated")},ot)},Ee=(F,j,W,ot,lt,at,kt)=>{for(let xt=0;xt<j.length;xt++){const Lt=F[xt],pt=j[xt],Vt=Lt.el&&(Lt.type===Ii||!io(Lt,pt)||Lt.shapeFlag&198)?E(Lt.el):W;Q(Lt,pt,Vt,null,ot,lt,at,kt,!0)}},ae=(F,j,W,ot,lt)=>{if(j!==W){if(j!==xe)for(const at in j)!uo(at)&&!(at in W)&&c(F,at,j[at],null,lt,ot);for(const at in W){if(uo(at))continue;const kt=W[at],xt=j[at];kt!==xt&&at!=="value"&&c(F,at,xt,kt,lt,ot)}"value"in W&&c(F,"value",j.value,W.value,lt)}},ye=(F,j,W,ot,lt,at,kt,xt,Lt)=>{const pt=j.el=F?F.el:y(""),Vt=j.anchor=F?F.anchor:y("");let{patchFlag:At,dynamicChildren:Zt,slotScopeIds:Yt}=j;Yt&&(xt=xt?xt.concat(Yt):Yt),F==null?(_(pt,W,ot),_(Vt,W,ot),Ne(j.children||[],W,Vt,lt,at,kt,xt,Lt)):At>0&&At&64&&Zt&&F.dynamicChildren&&F.dynamicChildren.length===Zt.length?(Ee(F.dynamicChildren,Zt,W,lt,at,kt,xt),(j.key!=null||lt&&j===lt.subTree)&&of(F,j,!0)):rt(F,j,W,Vt,lt,at,kt,xt,Lt)},Je=(F,j,W,ot,lt,at,kt,xt,Lt)=>{j.slotScopeIds=xt,F==null?j.shapeFlag&512?lt.ctx.activate(j,W,ot,kt,Lt):Dt(j,W,ot,lt,at,kt,Lt):ee(F,j,Lt)},Dt=(F,j,W,ot,lt,at,kt)=>{const xt=F.component=s_(F,ot,lt);if(Uc(F)&&(xt.ctx.renderer=It),a_(xt,!1,kt),xt.asyncDep){if(lt&&lt.registerDep(xt,ut,kt),!F.el){const Lt=xt.subTree=vi(or);dt(null,Lt,j,W),F.placeholder=Lt.el}}else ut(xt,F,j,W,lt,at,kt)},ee=(F,j,W)=>{const ot=j.component=F.component;if(Gp(F,j,W))if(ot.asyncDep&&!ot.asyncResolved){_t(ot,j,W);return}else ot.next=j,ot.update();else j.el=F.el,ot.vnode=j},ut=(F,j,W,ot,lt,at,kt)=>{const xt=()=>{if(F.isMounted){let{next:At,bu:Zt,u:Yt,parent:ne,vnode:ge}=F;{const He=af(F);if(He){At&&(At.el=ge.el,_t(F,At,kt)),He.asyncDep.then(()=>{F.isUnmounted||xt()});return}}let fe=At,Ve;Er(F,!1),At?(At.el=ge.el,_t(F,At,kt)):At=ge,Zt&&Ba(Zt),(Ve=At.props&&At.props.onVnodeBeforeUpdate)&&dn(Ve,ne,At,ge),Er(F,!0);const ze=Lh(F),ci=F.subTree;F.subTree=ze,Q(ci,ze,E(ci.el),st(ci),F,lt,at),At.el=ze.el,fe===null&&jp(F,ze.el),Yt&&Oi(Yt,lt),(Ve=At.props&&At.props.onVnodeUpdated)&&Oi(()=>dn(Ve,ne,At,ge),lt)}else{let At;const{el:Zt,props:Yt}=j,{bm:ne,m:ge,parent:fe,root:Ve,type:ze}=F,ci=po(j);Er(F,!1),ne&&Ba(ne),!ci&&(At=Yt&&Yt.onVnodeBeforeMount)&&dn(At,fe,j),Er(F,!0);{Ve.ce&&Ve.ce._def.shadowRoot!==!1&&Ve.ce._injectChildStyle(ze);const He=F.subTree=Lh(F);Q(null,He,W,ot,F,lt,at),j.el=He.el}if(ge&&Oi(ge,lt),!ci&&(At=Yt&&Yt.onVnodeMounted)){const He=j;Oi(()=>dn(At,fe,He),lt)}(j.shapeFlag&256||fe&&po(fe.vnode)&&fe.vnode.shapeFlag&256)&&F.a&&Oi(F.a,lt),F.isMounted=!0,j=W=ot=null}};F.scope.on();const Lt=F.effect=new gc(xt);F.scope.off();const pt=F.update=Lt.run.bind(Lt),Vt=F.job=Lt.runIfDirty.bind(Lt);Vt.i=F,Vt.id=F.uid,Lt.scheduler=()=>ju(Vt),Er(F,!0),pt()},_t=(F,j,W)=>{j.component=F;const ot=F.vnode.props;F.vnode=j,F.next=null,Up(F,j.props,ot,W),qp(F,j.children,W),On(),dh(F),Rn()},rt=(F,j,W,ot,lt,at,kt,xt,Lt=!1)=>{const pt=F&&F.children,Vt=F?F.shapeFlag:0,At=j.children,{patchFlag:Zt,shapeFlag:Yt}=j;if(Zt>0){if(Zt&128){Pt(pt,At,W,ot,lt,at,kt,xt,Lt);return}else if(Zt&256){ce(pt,At,W,ot,lt,at,kt,xt,Lt);return}}Yt&8?(Vt&16&&Nt(pt,lt,at),At!==pt&&M(W,At)):Vt&16?Yt&16?Pt(pt,At,W,ot,lt,at,kt,xt,Lt):Nt(pt,lt,at,!0):(Vt&8&&M(W,""),Yt&16&&Ne(At,W,ot,lt,at,kt,xt,Lt))},ce=(F,j,W,ot,lt,at,kt,xt,Lt)=>{F=F||os,j=j||os;const pt=F.length,Vt=j.length,At=Math.min(pt,Vt);let Zt;for(Zt=0;Zt<At;Zt++){const Yt=j[Zt]=Lt?nr(j[Zt]):_n(j[Zt]);Q(F[Zt],Yt,W,null,lt,at,kt,xt,Lt)}pt>Vt?Nt(F,lt,at,!0,!1,At):Ne(j,W,ot,lt,at,kt,xt,Lt,At)},Pt=(F,j,W,ot,lt,at,kt,xt,Lt)=>{let pt=0;const Vt=j.length;let At=F.length-1,Zt=Vt-1;for(;pt<=At&&pt<=Zt;){const Yt=F[pt],ne=j[pt]=Lt?nr(j[pt]):_n(j[pt]);if(io(Yt,ne))Q(Yt,ne,W,null,lt,at,kt,xt,Lt);else break;pt++}for(;pt<=At&&pt<=Zt;){const Yt=F[At],ne=j[Zt]=Lt?nr(j[Zt]):_n(j[Zt]);if(io(Yt,ne))Q(Yt,ne,W,null,lt,at,kt,xt,Lt);else break;At--,Zt--}if(pt>At){if(pt<=Zt){const Yt=Zt+1,ne=Yt<Vt?j[Yt].el:ot;for(;pt<=Zt;)Q(null,j[pt]=Lt?nr(j[pt]):_n(j[pt]),W,ne,lt,at,kt,xt,Lt),pt++}}else if(pt>Zt)for(;pt<=At;)Ht(F[pt],lt,at,!0),pt++;else{const Yt=pt,ne=pt,ge=new Map;for(pt=ne;pt<=Zt;pt++){const Se=j[pt]=Lt?nr(j[pt]):_n(j[pt]);Se.key!=null&&ge.set(Se.key,pt)}let fe,Ve=0;const ze=Zt-ne+1;let ci=!1,He=0;const tn=new Array(ze);for(pt=0;pt<ze;pt++)tn[pt]=0;for(pt=Yt;pt<=At;pt++){const Se=F[pt];if(Ve>=ze){Ht(Se,lt,at,!0);continue}let fi;if(Se.key!=null)fi=ge.get(Se.key);else for(fe=ne;fe<=Zt;fe++)if(tn[fe-ne]===0&&io(Se,j[fe])){fi=fe;break}fi===void 0?Ht(Se,lt,at,!0):(tn[fi-ne]=pt+1,fi>=He?He=fi:ci=!0,Q(Se,j[fi],W,null,lt,at,kt,xt,Lt),Ve++)}const vn=ci?Jp(tn):os;for(fe=vn.length-1,pt=ze-1;pt>=0;pt--){const Se=ne+pt,fi=j[Se],Gi=j[Se+1],Rr=Se+1<Vt?Gi.el||lf(Gi):ot;tn[pt]===0?Q(null,fi,W,Rr,lt,at,kt,xt,Lt):ci&&(fe<0||pt!==vn[fe]?Ot(fi,W,Rr,2):fe--)}}},Ot=(F,j,W,ot,lt=null)=>{const{el:at,type:kt,transition:xt,children:Lt,shapeFlag:pt}=F;if(pt&6){Ot(F.component.subTree,j,W,ot);return}if(pt&128){F.suspense.move(j,W,ot);return}if(pt&64){kt.move(F,j,W,It);return}if(kt===Ii){_(at,j,W);for(let At=0;At<Lt.length;At++)Ot(Lt[At],j,W,ot);_(F.anchor,j,W);return}if(kt===ru){Ct(F,j,W);return}if(ot!==2&&pt&1&&xt)if(ot===0)xt.beforeEnter(at),_(at,j,W),Oi(()=>xt.enter(at),lt);else{const{leave:At,delayLeave:Zt,afterLeave:Yt}=xt,ne=()=>{F.ctx.isUnmounted?m(at):_(at,j,W)},ge=()=>{at._isLeaving&&at[fp](!0),At(at,()=>{ne(),Yt&&Yt()})};Zt?Zt(at,ne,ge):ge()}else _(at,j,W)},Ht=(F,j,W,ot=!1,lt=!1)=>{const{type:at,props:kt,ref:xt,children:Lt,dynamicChildren:pt,shapeFlag:Vt,patchFlag:At,dirs:Zt,cacheIndex:Yt}=F;if(At===-2&&(lt=!1),xt!=null&&(On(),fo(xt,null,W,F,!0),Rn()),Yt!=null&&(j.renderCache[Yt]=void 0),Vt&256){j.ctx.deactivate(F);return}const ne=Vt&1&&Zt,ge=!po(F);let fe;if(ge&&(fe=kt&&kt.onVnodeBeforeUnmount)&&dn(fe,j,F),Vt&6)Ut(F.component,W,ot);else{if(Vt&128){F.suspense.unmount(W,ot);return}ne&&Mr(F,null,j,"beforeUnmount"),Vt&64?F.type.remove(F,j,W,It,ot):pt&&!pt.hasOnce&&(at!==Ii||At>0&&At&64)?Nt(pt,j,W,!1,!0):(at===Ii&&At&384||!lt&&Vt&16)&&Nt(Lt,j,W),ot&&le(F)}(ge&&(fe=kt&&kt.onVnodeUnmounted)||ne)&&Oi(()=>{fe&&dn(fe,j,F),ne&&Mr(F,null,j,"unmounted")},W)},le=F=>{const{type:j,el:W,anchor:ot,transition:lt}=F;if(j===Ii){oe(W,ot);return}if(j===ru){Bt(F);return}const at=()=>{m(W),lt&&!lt.persisted&&lt.afterLeave&&lt.afterLeave()};if(F.shapeFlag&1&&lt&&!lt.persisted){const{leave:kt,delayLeave:xt}=lt,Lt=()=>kt(W,at);xt?xt(F.el,at,Lt):Lt()}else at()},oe=(F,j)=>{let W;for(;F!==j;)W=O(F),m(F),F=W;m(j)},Ut=(F,j,W)=>{const{bum:ot,scope:lt,job:at,subTree:kt,um:xt,m:Lt,a:pt}=F;xh(Lt),xh(pt),ot&&Ba(ot),lt.stop(),at&&(at.flags|=8,Ht(kt,F,j,W)),xt&&Oi(xt,j),Oi(()=>{F.isUnmounted=!0},j)},Nt=(F,j,W,ot=!1,lt=!1,at=0)=>{for(let kt=at;kt<F.length;kt++)Ht(F[kt],j,W,ot,lt)},st=F=>{if(F.shapeFlag&6)return st(F.component.subTree);if(F.shapeFlag&128)return F.suspense.next();const j=O(F.anchor||F.el),W=j&&j[hp];return W?O(W):j};let Mt=!1;const wt=(F,j,W)=>{let ot;F==null?j._vnode&&(Ht(j._vnode,null,null,!0),ot=j._vnode.component):Q(j._vnode||null,F,j,null,null,null,W),j._vnode=F,Mt||(Mt=!0,dh(ot),Ic(),Mt=!1)},It={p:Q,um:Ht,m:Ot,r:le,mt:Dt,mc:Ne,pc:rt,pbc:Ee,n:st,o:n};return{render:wt,hydrate:void 0,createApp:Op(wt)}}function nu({type:n,props:o},u){return u==="svg"&&n==="foreignObject"||u==="mathml"&&n==="annotation-xml"&&o&&o.encoding&&o.encoding.includes("html")?void 0:u}function Er({effect:n,job:o},u){u?(n.flags|=32,o.flags|=4):(n.flags&=-33,o.flags&=-5)}function Xp(n,o){return(!n||n&&!n.pendingBranch)&&o&&!o.persisted}function of(n,o,u=!1){const _=n.children,m=o.children;if(Xt(_)&&Xt(m))for(let c=0;c<_.length;c++){const f=_[c];let y=m[c];y.shapeFlag&1&&!y.dynamicChildren&&((y.patchFlag<=0||y.patchFlag===32)&&(y=m[c]=nr(m[c]),y.el=f.el),!u&&y.patchFlag!==-2&&of(f,y)),y.type===nl&&(y.patchFlag!==-1?y.el=f.el:y.__elIndex=c+(n.type===Ii?1:0)),y.type===or&&!y.el&&(y.el=f.el)}}function Jp(n){const o=n.slice(),u=[0];let _,m,c,f,y;const b=n.length;for(_=0;_<b;_++){const k=n[_];if(k!==0){if(m=u[u.length-1],n[m]<k){o[_]=m,u.push(_);continue}for(c=0,f=u.length-1;c<f;)y=c+f>>1,n[u[y]]<k?c=y+1:f=y;k<n[u[c]]&&(c>0&&(o[_]=u[c-1]),u[c]=_)}}for(c=u.length,f=u[c-1];c-- >0;)u[c]=f,f=o[f];return u}function af(n){const o=n.subTree.component;if(o)return o.asyncDep&&!o.asyncResolved?o:af(o)}function xh(n){if(n)for(let o=0;o<n.length;o++)n[o].flags|=8}function lf(n){if(n.placeholder)return n.placeholder;const o=n.component;return o?lf(o.subTree):null}const uf=n=>n.__isSuspense;function $p(n,o){o&&o.pendingBranch?Xt(n)?o.effects.push(...n):o.effects.push(n):sp(n)}const Ii=Symbol.for("v-fgt"),nl=Symbol.for("v-txt"),or=Symbol.for("v-cmt"),ru=Symbol.for("v-stc"),mo=[];let zi=null;function Fe(n=!1){mo.push(zi=n?null:[])}function Qp(){mo.pop(),zi=mo[mo.length-1]||null}let Co=1;function za(n,o=!1){Co+=n,n<0&&zi&&o&&(zi.hasOnce=!0)}function hf(n){return n.dynamicChildren=Co>0?zi||os:null,Qp(),Co>0&&zi&&zi.push(n),n}function Xe(n,o,u,_,m,c){return hf(jt(n,o,u,_,m,c,!0))}function cf(n,o,u,_,m){return hf(vi(n,o,u,_,m,!0))}function Ga(n){return n?n.__v_isVNode===!0:!1}function io(n,o){return n.type===o.type&&n.key===o.key}const ff=({key:n})=>n??null,Aa=({ref:n,ref_key:o,ref_for:u})=>(typeof n=="number"&&(n=""+n),n!=null?Ze(n)||ui(n)||Qt(n)?{i:Ni,r:n,k:o,f:!!u}:n:null);function jt(n,o=null,u=null,_=0,m=null,c=n===Ii?0:1,f=!1,y=!1){const b={__v_isVNode:!0,__v_skip:!0,type:n,props:o,key:o&&ff(o),ref:o&&Aa(o),scopeId:Nc,slotScopeIds:null,children:u,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:_,dynamicProps:m,dynamicChildren:null,appContext:null,ctx:Ni};return y?(Ku(b,u),c&128&&n.normalize(b)):u&&(b.shapeFlag|=Ze(u)?8:16),Co>0&&!f&&zi&&(b.patchFlag>0||c&6)&&b.patchFlag!==32&&zi.push(b),b}const vi=t_;function t_(n,o=null,u=null,_=0,m=null,c=!1){if((!n||n===kp)&&(n=or),Ga(n)){const y=ps(n,o,!0);return u&&Ku(y,u),Co>0&&!c&&zi&&(y.shapeFlag&6?zi[zi.indexOf(n)]=y:zi.push(y)),y.patchFlag=-2,y}if(f_(n)&&(n=n.__vccOpts),o){o=e_(o);let{class:y,style:b}=o;y&&!Ze(y)&&(o.class=Tu(y)),we(b)&&(zu(b)&&!Xt(b)&&(b=hi({},b)),o.style=yo(b))}const f=Ze(n)?1:uf(n)?128:cp(n)?64:we(n)?4:Qt(n)?2:0;return jt(n,o,u,_,m,f,c,!0)}function e_(n){return n?zu(n)||Qc(n)?hi({},n):n:null}function ps(n,o,u=!1,_=!1){const{props:m,ref:c,patchFlag:f,children:y,transition:b}=n,k=o?i_(m||{},o):m,M={__v_isVNode:!0,__v_skip:!0,type:n.type,props:k,key:k&&ff(k),ref:o&&o.ref?u&&c?Xt(c)?c.concat(Aa(o)):[c,Aa(o)]:Aa(o):c,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:y,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:o&&n.type!==Ii?f===-1?16:f|16:f,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:b,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&ps(n.ssContent),ssFallback:n.ssFallback&&ps(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return b&&_&&Zu(M,b.clone(M)),M}function Pr(n=" ",o=0){return vi(nl,null,n,o)}function tr(n="",o=!1){return o?(Fe(),cf(or,null,n)):vi(or,null,n)}function _n(n){return n==null||typeof n=="boolean"?vi(or):Xt(n)?vi(Ii,null,n.slice()):Ga(n)?nr(n):vi(nl,null,String(n))}function nr(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:ps(n)}function Ku(n,o){let u=0;const{shapeFlag:_}=n;if(o==null)o=null;else if(Xt(o))u=16;else if(typeof o=="object")if(_&65){const m=o.default;m&&(m._c&&(m._d=!1),Ku(n,m()),m._c&&(m._d=!0));return}else{u=32;const m=o._;!m&&!Qc(o)?o._ctx=Ni:m===3&&Ni&&(Ni.slots._===1?o._=1:(o._=2,n.patchFlag|=1024))}else Qt(o)?(o={default:o,_ctx:Ni},u=32):(o=String(o),_&64?(u=16,o=[Pr(o)]):u=8);n.children=o,n.shapeFlag|=u}function i_(...n){const o={};for(let u=0;u<n.length;u++){const _=n[u];for(const m in _)if(m==="class")o.class!==_.class&&(o.class=Tu([o.class,_.class]));else if(m==="style")o.style=yo([o.style,_.style]);else if(Ha(m)){const c=o[m],f=_[m];f&&c!==f&&!(Xt(c)&&c.includes(f))&&(o[m]=c?[].concat(c,f):f)}else m!==""&&(o[m]=_[m])}return o}function dn(n,o,u,_=null){yn(n,o,7,[u,_])}const n_=Yc();let r_=0;function s_(n,o,u){const _=n.type,m=(o?o.appContext:n.appContext)||n_,c={uid:r_++,vnode:n,type:_,parent:o,appContext:m,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Pd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(m.provides),ids:o?o.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ef(_,m),emitsOptions:Xc(_,m),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:_.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:u,suspenseId:u?u.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=o?o.root:c,c.emit=Ip.bind(null,c),n.ce&&n.ce(c),c}let li=null;const o_=()=>li||Ni;let ja,bu;{const n=Xa(),o=(u,_)=>{let m;return(m=n[u])||(m=n[u]=[]),m.push(_),c=>{m.length>1?m.forEach(f=>f(c)):m[0](c)}};ja=o("__VUE_INSTANCE_SETTERS__",u=>li=u),bu=o("__VUE_SSR_SETTERS__",u=>xo=u)}const Eo=n=>{const o=li;return ja(n),n.scope.on(),()=>{n.scope.off(),ja(o)}},wh=()=>{li&&li.scope.off(),ja(null)};function df(n){return n.vnode.shapeFlag&4}let xo=!1;function a_(n,o=!1,u=!1){o&&bu(o);const{props:_,children:m}=n.vnode,c=df(n);Zp(n,_,c,o),Kp(n,m,u||o);const f=c?l_(n,o):void 0;return o&&bu(!1),f}function l_(n,o){const u=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Ep);const{setup:_}=u;if(_){On();const m=n.setupContext=_.length>1?h_(n):null,c=Eo(n),f=Mo(_,n,0,[n.props,m]),y=hc(f);if(Rn(),c(),(y||n.sp)&&!po(n)&&Zc(n),y){if(f.then(wh,wh),o)return f.then(b=>{kh(n,b)}).catch(b=>{tl(b,n,0)});n.asyncDep=f}else kh(n,f)}else pf(n)}function kh(n,o,u){Qt(o)?n.type.__ssrInlineRender?n.ssrRender=o:n.render=o:we(o)&&(n.setupState=Dc(o)),pf(n)}function pf(n,o,u){const _=n.type;n.render||(n.render=_.render||mn);{const m=Eo(n);On();try{Bp(n)}finally{Rn(),m()}}}const u_={get(n,o){return ai(n,"get",""),n[o]}};function h_(n){const o=u=>{n.exposed=u||{}};return{attrs:new Proxy(n.attrs,u_),slots:n.slots,emit:n.emit,expose:o}}function rl(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Dc(Yd(n.exposed)),{get(o,u){if(u in o)return o[u];if(u in _o)return _o[u](n)},has(o,u){return u in o||u in _o}})):n.proxy}function c_(n,o=!0){return Qt(n)?n.displayName||n.name:n.name||o&&n.__name}function f_(n){return Qt(n)&&"__vccOpts"in n}const Fi=(n,o)=>tp(n,o,xo);function _f(n,o,u){try{za(-1);const _=arguments.length;return _===2?we(o)&&!Xt(o)?Ga(o)?vi(n,null,[o]):vi(n,o):vi(n,null,o):(_>3?u=Array.prototype.slice.call(arguments,2):_===3&&Ga(u)&&(u=[u]),vi(n,o,u))}finally{za(1)}}const d_="3.5.26";let Cu;const Mh=typeof window<"u"&&window.trustedTypes;if(Mh)try{Cu=Mh.createPolicy("vue",{createHTML:n=>n})}catch{}const mf=Cu?n=>Cu.createHTML(n):n=>n,p_="http://www.w3.org/2000/svg",__="http://www.w3.org/1998/Math/MathML",Sn=typeof document<"u"?document:null,Eh=Sn&&Sn.createElement("template"),m_={insert:(n,o,u)=>{o.insertBefore(n,u||null)},remove:n=>{const o=n.parentNode;o&&o.removeChild(n)},createElement:(n,o,u,_)=>{const m=o==="svg"?Sn.createElementNS(p_,n):o==="mathml"?Sn.createElementNS(__,n):u?Sn.createElement(n,{is:u}):Sn.createElement(n);return n==="select"&&_&&_.multiple!=null&&m.setAttribute("multiple",_.multiple),m},createText:n=>Sn.createTextNode(n),createComment:n=>Sn.createComment(n),setText:(n,o)=>{n.nodeValue=o},setElementText:(n,o)=>{n.textContent=o},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Sn.querySelector(n),setScopeId(n,o){n.setAttribute(o,"")},insertStaticContent(n,o,u,_,m,c){const f=u?u.previousSibling:o.lastChild;if(m&&(m===c||m.nextSibling))for(;o.insertBefore(m.cloneNode(!0),u),!(m===c||!(m=m.nextSibling)););else{Eh.innerHTML=mf(_==="svg"?`<svg>${n}</svg>`:_==="mathml"?`<math>${n}</math>`:n);const y=Eh.content;if(_==="svg"||_==="mathml"){const b=y.firstChild;for(;b.firstChild;)y.appendChild(b.firstChild);y.removeChild(b)}o.insertBefore(y,u)}return[f?f.nextSibling:o.firstChild,u?u.previousSibling:o.lastChild]}},g_=Symbol("_vtc");function y_(n,o,u){const _=n[g_];_&&(o=(o?[o,..._]:[..._]).join(" ")),o==null?n.removeAttribute("class"):u?n.setAttribute("class",o):n.className=o}const Za=Symbol("_vod"),gf=Symbol("_vsh"),Bh={name:"show",beforeMount(n,{value:o},{transition:u}){n[Za]=n.style.display==="none"?"":n.style.display,u&&o?u.beforeEnter(n):no(n,o)},mounted(n,{value:o},{transition:u}){u&&o&&u.enter(n)},updated(n,{value:o,oldValue:u},{transition:_}){!o!=!u&&(_?o?(_.beforeEnter(n),no(n,!0),_.enter(n)):_.leave(n,()=>{no(n,!1)}):no(n,o))},beforeUnmount(n,{value:o}){no(n,o)}};function no(n,o){n.style.display=o?n[Za]:"none",n[gf]=!o}const v_=Symbol(""),L_=/(?:^|;)\s*display\s*:/;function b_(n,o,u){const _=n.style,m=Ze(u);let c=!1;if(u&&!m){if(o)if(Ze(o))for(const f of o.split(";")){const y=f.slice(0,f.indexOf(":")).trim();u[y]==null&&Ta(_,y,"")}else for(const f in o)u[f]==null&&Ta(_,f,"");for(const f in u)f==="display"&&(c=!0),Ta(_,f,u[f])}else if(m){if(o!==u){const f=_[v_];f&&(u+=";"+f),_.cssText=u,c=L_.test(u)}}else o&&n.removeAttribute("style");Za in n&&(n[Za]=c?_.display:"",n[gf]&&(_.display="none"))}const Ph=/\s*!important$/;function Ta(n,o,u){if(Xt(u))u.forEach(_=>Ta(n,o,_));else if(u==null&&(u=""),o.startsWith("--"))n.setProperty(o,u);else{const _=C_(n,o);Ph.test(u)?n.setProperty(Or(_),u.replace(Ph,""),"important"):n[_]=u}}const Sh=["Webkit","Moz","ms"],su={};function C_(n,o){const u=su[o];if(u)return u;let _=qi(o);if(_!=="filter"&&_ in n)return su[o]=_;_=Wa(_);for(let m=0;m<Sh.length;m++){const c=Sh[m]+_;if(c in n)return su[o]=c}return o}const Ah="http://www.w3.org/1999/xlink";function Th(n,o,u,_,m,c=Md(o)){_&&o.startsWith("xlink:")?u==null?n.removeAttributeNS(Ah,o.slice(6,o.length)):n.setAttributeNS(Ah,o,u):u==null||c&&!pc(u)?n.removeAttribute(o):n.setAttribute(o,c?"":gn(u)?String(u):u)}function Dh(n,o,u,_,m){if(o==="innerHTML"||o==="textContent"){u!=null&&(n[o]=o==="innerHTML"?mf(u):u);return}const c=n.tagName;if(o==="value"&&c!=="PROGRESS"&&!c.includes("-")){const y=c==="OPTION"?n.getAttribute("value")||"":n.value,b=u==null?n.type==="checkbox"?"on":"":String(u);(y!==b||!("_value"in n))&&(n.value=b),u==null&&n.removeAttribute(o),n._value=u;return}let f=!1;if(u===""||u==null){const y=typeof n[o];y==="boolean"?u=pc(u):u==null&&y==="string"?(u="",f=!0):y==="number"&&(u=0,f=!0)}try{n[o]=u}catch{}f&&n.removeAttribute(m||o)}function Sr(n,o,u,_){n.addEventListener(o,u,_)}function x_(n,o,u,_){n.removeEventListener(o,u,_)}const Oh=Symbol("_vei");function w_(n,o,u,_,m=null){const c=n[Oh]||(n[Oh]={}),f=c[o];if(_&&f)f.value=_;else{const[y,b]=k_(o);if(_){const k=c[o]=B_(_,m);Sr(n,y,k,b)}else f&&(x_(n,y,f,b),c[o]=void 0)}}const Rh=/(?:Once|Passive|Capture)$/;function k_(n){let o;if(Rh.test(n)){o={};let _;for(;_=n.match(Rh);)n=n.slice(0,n.length-_[0].length),o[_[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Or(n.slice(2)),o]}let ou=0;const M_=Promise.resolve(),E_=()=>ou||(M_.then(()=>ou=0),ou=Date.now());function B_(n,o){const u=_=>{if(!_._vts)_._vts=Date.now();else if(_._vts<=u.attached)return;yn(P_(_,u.value),o,5,[_])};return u.value=n,u.attached=E_(),u}function P_(n,o){if(Xt(o)){const u=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{u.call(n),n._stopped=!0},o.map(_=>m=>!m._stopped&&_&&_(m))}else return o}const Ih=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,S_=(n,o,u,_,m,c)=>{const f=m==="svg";o==="class"?y_(n,_,f):o==="style"?b_(n,u,_):Ha(o)?Pu(o)||w_(n,o,u,_,c):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):A_(n,o,_,f))?(Dh(n,o,_),!n.tagName.includes("-")&&(o==="value"||o==="checked"||o==="selected")&&Th(n,o,_,f,c,o!=="value")):n._isVueCE&&(/[A-Z]/.test(o)||!Ze(_))?Dh(n,qi(o),_,c,o):(o==="true-value"?n._trueValue=_:o==="false-value"&&(n._falseValue=_),Th(n,o,_,f))};function A_(n,o,u,_){if(_)return!!(o==="innerHTML"||o==="textContent"||o in n&&Ih(o)&&Qt(u));if(o==="spellcheck"||o==="draggable"||o==="translate"||o==="autocorrect"||o==="sandbox"&&n.tagName==="IFRAME"||o==="form"||o==="list"&&n.tagName==="INPUT"||o==="type"&&n.tagName==="TEXTAREA")return!1;if(o==="width"||o==="height"){const m=n.tagName;if(m==="IMG"||m==="VIDEO"||m==="CANVAS"||m==="SOURCE")return!1}return Ih(o)&&Ze(u)?!1:o in n}const Ua=n=>{const o=n.props["onUpdate:modelValue"]||!1;return Xt(o)?u=>Ba(o,u):o};function T_(n){n.target.composing=!0}function Fh(n){const o=n.target;o.composing&&(o.composing=!1,o.dispatchEvent(new Event("input")))}const fs=Symbol("_assign");function Nh(n,o,u){return o&&(n=n.trim()),u&&(n=Ya(n)),n}const D_={created(n,{modifiers:{lazy:o,trim:u,number:_}},m){n[fs]=Ua(m);const c=_||m.props&&m.props.type==="number";Sr(n,o?"change":"input",f=>{f.target.composing||n[fs](Nh(n.value,u,c))}),(u||c)&&Sr(n,"change",()=>{n.value=Nh(n.value,u,c)}),o||(Sr(n,"compositionstart",T_),Sr(n,"compositionend",Fh),Sr(n,"change",Fh))},mounted(n,{value:o}){n.value=o??""},beforeUpdate(n,{value:o,oldValue:u,modifiers:{lazy:_,trim:m,number:c}},f){if(n[fs]=Ua(f),n.composing)return;const y=(c||n.type==="number")&&!/^0\d/.test(n.value)?Ya(n.value):n.value,b=o??"";y!==b&&(document.activeElement===n&&n.type!=="range"&&(_&&o===u||m&&n.value.trim()===b)||(n.value=b))}},O_={deep:!0,created(n,{value:o,modifiers:{number:u}},_){const m=Ka(o);Sr(n,"change",()=>{const c=Array.prototype.filter.call(n.options,f=>f.selected).map(f=>u?Ya(Va(f)):Va(f));n[fs](n.multiple?m?new Set(c):c:c[0]),n._assigning=!0,Gu(()=>{n._assigning=!1})}),n[fs]=Ua(_)},mounted(n,{value:o}){zh(n,o)},beforeUpdate(n,o,u){n[fs]=Ua(u)},updated(n,{value:o}){n._assigning||zh(n,o)}};function zh(n,o){const u=n.multiple,_=Xt(o);if(!(u&&!_&&!Ka(o))){for(let m=0,c=n.options.length;m<c;m++){const f=n.options[m],y=Va(f);if(u)if(_){const b=typeof y;b==="string"||b==="number"?f.selected=o.some(k=>String(k)===String(y)):f.selected=Bd(o,y)>-1}else f.selected=o.has(y);else if(Ja(Va(f),o)){n.selectedIndex!==m&&(n.selectedIndex=m);return}}!u&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Va(n){return"_value"in n?n._value:n.value}const R_=["ctrl","shift","alt","meta"],I_={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,o)=>R_.some(u=>n[`${u}Key`]&&!o.includes(u))},Ma=(n,o)=>{const u=n._withMods||(n._withMods={}),_=o.join(".");return u[_]||(u[_]=((m,...c)=>{for(let f=0;f<o.length;f++){const y=I_[o[f]];if(y&&y(m,o))return}return n(m,...c)}))},F_=hi({patchProp:S_},m_);let Gh;function N_(){return Gh||(Gh=Wp(F_))}const z_=((...n)=>{const o=N_().createApp(...n),{mount:u}=o;return o.mount=_=>{const m=j_(_);if(!m)return;const c=o._component;!Qt(c)&&!c.render&&!c.template&&(c.template=m.innerHTML),m.nodeType===1&&(m.textContent="");const f=u(m,!1,G_(m));return m instanceof Element&&(m.removeAttribute("v-cloak"),m.setAttribute("data-v-app","")),f},o});function G_(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function j_(n){return Ze(n)?document.querySelector(n):n}const Z_={__name:"App",setup(n){return(o,u)=>{const _=wp("router-view");return Fe(),cf(_)}}},U_="modulepreload",V_=function(n){return"/"+n},jh={},H_=function(o,u,_){let m=Promise.resolve();if(u&&u.length>0){let b=function(k){return Promise.all(k.map(M=>Promise.resolve(M).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),y=f?.nonce||f?.getAttribute("nonce");m=b(u.map(k=>{if(k=V_(k),k in jh)return;jh[k]=!0;const M=k.endsWith(".css"),E=M?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${k}"]${E}`))return;const O=document.createElement("link");if(O.rel=M?"stylesheet":U_,M||(O.as="script"),O.crossOrigin="",O.href=k,y&&O.setAttribute("nonce",y),document.head.appendChild(O),M)return new Promise((I,et)=>{O.addEventListener("load",I),O.addEventListener("error",()=>et(new Error(`Unable to preload CSS for ${k}`)))})}))}function c(f){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=f,window.dispatchEvent(y),!y.defaultPrevented)throw f}return m.then(f=>{for(const y of f||[])y.status==="rejected"&&c(y.reason);return o().catch(c)})};const ss=typeof document<"u";function yf(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function K_(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&yf(n.default)}const ve=Object.assign;function au(n,o){const u={};for(const _ in o){const m=o[_];u[_]=Qi(m)?m.map(n):n(m)}return u}const go=()=>{},Qi=Array.isArray;function Zh(n,o){const u={};for(const _ in n)u[_]=_ in o?o[_]:n[_];return u}const vf=/#/g,q_=/&/g,W_=/\//g,Y_=/=/g,X_=/\?/g,Lf=/\+/g,J_=/%5B/g,$_=/%5D/g,bf=/%5E/g,Q_=/%60/g,Cf=/%7B/g,tm=/%7C/g,xf=/%7D/g,em=/%20/g;function qu(n){return n==null?"":encodeURI(""+n).replace(tm,"|").replace(J_,"[").replace($_,"]")}function im(n){return qu(n).replace(Cf,"{").replace(xf,"}").replace(bf,"^")}function xu(n){return qu(n).replace(Lf,"%2B").replace(em,"+").replace(vf,"%23").replace(q_,"%26").replace(Q_,"`").replace(Cf,"{").replace(xf,"}").replace(bf,"^")}function nm(n){return xu(n).replace(Y_,"%3D")}function rm(n){return qu(n).replace(vf,"%23").replace(X_,"%3F")}function sm(n){return rm(n).replace(W_,"%2F")}function wo(n){if(n==null)return null;try{return decodeURIComponent(""+n)}catch{}return""+n}const om=/\/$/,am=n=>n.replace(om,"");function lu(n,o,u="/"){let _,m={},c="",f="";const y=o.indexOf("#");let b=o.indexOf("?");return b=y>=0&&b>y?-1:b,b>=0&&(_=o.slice(0,b),c=o.slice(b,y>0?y:o.length),m=n(c.slice(1))),y>=0&&(_=_||o.slice(0,y),f=o.slice(y,o.length)),_=cm(_??o,u),{fullPath:_+c+f,path:_,query:m,hash:wo(f)}}function lm(n,o){const u=o.query?n(o.query):"";return o.path+(u&&"?")+u+(o.hash||"")}function Uh(n,o){return!o||!n.toLowerCase().startsWith(o.toLowerCase())?n:n.slice(o.length)||"/"}function um(n,o,u){const _=o.matched.length-1,m=u.matched.length-1;return _>-1&&_===m&&_s(o.matched[_],u.matched[m])&&wf(o.params,u.params)&&n(o.query)===n(u.query)&&o.hash===u.hash}function _s(n,o){return(n.aliasOf||n)===(o.aliasOf||o)}function wf(n,o){if(Object.keys(n).length!==Object.keys(o).length)return!1;for(var u in n)if(!hm(n[u],o[u]))return!1;return!0}function hm(n,o){return Qi(n)?Vh(n,o):Qi(o)?Vh(o,n):n?.valueOf()===o?.valueOf()}function Vh(n,o){return Qi(o)?n.length===o.length&&n.every((u,_)=>u===o[_]):n.length===1&&n[0]===o}function cm(n,o){if(n.startsWith("/"))return n;if(!n)return o;const u=o.split("/"),_=n.split("/"),m=_[_.length-1];(m===".."||m===".")&&_.push("");let c=u.length-1,f,y;for(f=0;f<_.length;f++)if(y=_[f],y!==".")if(y==="..")c>1&&c--;else break;return u.slice(0,c).join("/")+"/"+_.slice(f).join("/")}const Qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let wu=(function(n){return n.pop="pop",n.push="push",n})({}),uu=(function(n){return n.back="back",n.forward="forward",n.unknown="",n})({});function fm(n){if(!n)if(ss){const o=document.querySelector("base");n=o&&o.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),am(n)}const dm=/^[^#]+#/;function pm(n,o){return n.replace(dm,"#")+o}function _m(n,o){const u=document.documentElement.getBoundingClientRect(),_=n.getBoundingClientRect();return{behavior:o.behavior,left:_.left-u.left-(o.left||0),top:_.top-u.top-(o.top||0)}}const sl=()=>({left:window.scrollX,top:window.scrollY});function mm(n){let o;if("el"in n){const u=n.el,_=typeof u=="string"&&u.startsWith("#"),m=typeof u=="string"?_?document.getElementById(u.slice(1)):document.querySelector(u):u;if(!m)return;o=_m(m,n)}else o=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(o):window.scrollTo(o.left!=null?o.left:window.scrollX,o.top!=null?o.top:window.scrollY)}function Hh(n,o){return(history.state?history.state.position-o:-1)+n}const ku=new Map;function gm(n,o){ku.set(n,o)}function ym(n){const o=ku.get(n);return ku.delete(n),o}function vm(n){return typeof n=="string"||n&&typeof n=="object"}function kf(n){return typeof n=="string"||typeof n=="symbol"}let Ie=(function(n){return n[n.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",n[n.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",n[n.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",n[n.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",n[n.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",n})({});const Mf=Symbol("");Ie.MATCHER_NOT_FOUND+"",Ie.NAVIGATION_GUARD_REDIRECT+"",Ie.NAVIGATION_ABORTED+"",Ie.NAVIGATION_CANCELLED+"",Ie.NAVIGATION_DUPLICATED+"";function ms(n,o){return ve(new Error,{type:n,[Mf]:!0},o)}function Pn(n,o){return n instanceof Error&&Mf in n&&(o==null||!!(n.type&o))}const Lm=["params","query","hash"];function bm(n){if(typeof n=="string")return n;if(n.path!=null)return n.path;const o={};for(const u of Lm)u in n&&(o[u]=n[u]);return JSON.stringify(o,null,2)}function Cm(n){const o={};if(n===""||n==="?")return o;const u=(n[0]==="?"?n.slice(1):n).split("&");for(let _=0;_<u.length;++_){const m=u[_].replace(Lf," "),c=m.indexOf("="),f=wo(c<0?m:m.slice(0,c)),y=c<0?null:wo(m.slice(c+1));if(f in o){let b=o[f];Qi(b)||(b=o[f]=[b]),b.push(y)}else o[f]=y}return o}function Kh(n){let o="";for(let u in n){const _=n[u];if(u=nm(u),_==null){_!==void 0&&(o+=(o.length?"&":"")+u);continue}(Qi(_)?_.map(m=>m&&xu(m)):[_&&xu(_)]).forEach(m=>{m!==void 0&&(o+=(o.length?"&":"")+u,m!=null&&(o+="="+m))})}return o}function xm(n){const o={};for(const u in n){const _=n[u];_!==void 0&&(o[u]=Qi(_)?_.map(m=>m==null?null:""+m):_==null?_:""+_)}return o}const wm=Symbol(""),qh=Symbol(""),Wu=Symbol(""),Ef=Symbol(""),Mu=Symbol("");function ro(){let n=[];function o(_){return n.push(_),()=>{const m=n.indexOf(_);m>-1&&n.splice(m,1)}}function u(){n=[]}return{add:o,list:()=>n.slice(),reset:u}}function rr(n,o,u,_,m,c=f=>f()){const f=_&&(_.enterCallbacks[m]=_.enterCallbacks[m]||[]);return()=>new Promise((y,b)=>{const k=O=>{O===!1?b(ms(Ie.NAVIGATION_ABORTED,{from:u,to:o})):O instanceof Error?b(O):vm(O)?b(ms(Ie.NAVIGATION_GUARD_REDIRECT,{from:o,to:O})):(f&&_.enterCallbacks[m]===f&&typeof O=="function"&&f.push(O),y())},M=c(()=>n.call(_&&_.instances[m],o,u,k));let E=Promise.resolve(M);n.length<3&&(E=E.then(k)),E.catch(O=>b(O))})}function hu(n,o,u,_,m=c=>c()){const c=[];for(const f of n)for(const y in f.components){let b=f.components[y];if(!(o!=="beforeRouteEnter"&&!f.instances[y]))if(yf(b)){const k=(b.__vccOpts||b)[o];k&&c.push(rr(k,u,_,f,y,m))}else{let k=b();c.push(()=>k.then(M=>{if(!M)throw new Error(`Couldn't resolve component "${y}" at "${f.path}"`);const E=K_(M)?M.default:M;f.mods[y]=M,f.components[y]=E;const O=(E.__vccOpts||E)[o];return O&&rr(O,u,_,f,y,m)()}))}}return c}function km(n,o){const u=[],_=[],m=[],c=Math.max(o.matched.length,n.matched.length);for(let f=0;f<c;f++){const y=o.matched[f];y&&(n.matched.find(k=>_s(k,y))?_.push(y):u.push(y));const b=n.matched[f];b&&(o.matched.find(k=>_s(k,b))||m.push(b))}return[u,_,m]}let Mm=()=>location.protocol+"//"+location.host;function Bf(n,o){const{pathname:u,search:_,hash:m}=o,c=n.indexOf("#");if(c>-1){let f=m.includes(n.slice(c))?n.slice(c).length:1,y=m.slice(f);return y[0]!=="/"&&(y="/"+y),Uh(y,"")}return Uh(u,n)+_+m}function Em(n,o,u,_){let m=[],c=[],f=null;const y=({state:O})=>{const I=Bf(n,location),et=u.value,Q=o.value;let Et=0;if(O){if(u.value=I,o.value=O,f&&f===et){f=null;return}Et=Q?O.position-Q.position:0}else _(I);m.forEach(dt=>{dt(u.value,et,{delta:Et,type:wu.pop,direction:Et?Et>0?uu.forward:uu.back:uu.unknown})})};function b(){f=u.value}function k(O){m.push(O);const I=()=>{const et=m.indexOf(O);et>-1&&m.splice(et,1)};return c.push(I),I}function M(){if(document.visibilityState==="hidden"){const{history:O}=window;if(!O.state)return;O.replaceState(ve({},O.state,{scroll:sl()}),"")}}function E(){for(const O of c)O();c=[],window.removeEventListener("popstate",y),window.removeEventListener("pagehide",M),document.removeEventListener("visibilitychange",M)}return window.addEventListener("popstate",y),window.addEventListener("pagehide",M),document.addEventListener("visibilitychange",M),{pauseListeners:b,listen:k,destroy:E}}function Wh(n,o,u,_=!1,m=!1){return{back:n,current:o,forward:u,replaced:_,position:window.history.length,scroll:m?sl():null}}function Bm(n){const{history:o,location:u}=window,_={value:Bf(n,u)},m={value:o.state};m.value||c(_.value,{back:null,current:_.value,forward:null,position:o.length-1,replaced:!0,scroll:null},!0);function c(b,k,M){const E=n.indexOf("#"),O=E>-1?(u.host&&document.querySelector("base")?n:n.slice(E))+b:Mm()+n+b;try{o[M?"replaceState":"pushState"](k,"",O),m.value=k}catch(I){console.error(I),u[M?"replace":"assign"](O)}}function f(b,k){c(b,ve({},o.state,Wh(m.value.back,b,m.value.forward,!0),k,{position:m.value.position}),!0),_.value=b}function y(b,k){const M=ve({},m.value,o.state,{forward:b,scroll:sl()});c(M.current,M,!0),c(b,ve({},Wh(_.value,b,null),{position:M.position+1},k),!1),_.value=b}return{location:_,state:m,push:y,replace:f}}function Pm(n){n=fm(n);const o=Bm(n),u=Em(n,o.state,o.location,o.replace);function _(c,f=!0){f||u.pauseListeners(),history.go(c)}const m=ve({location:"",base:n,go:_,createHref:pm.bind(null,n)},o,u);return Object.defineProperty(m,"location",{enumerable:!0,get:()=>o.location.value}),Object.defineProperty(m,"state",{enumerable:!0,get:()=>o.state.value}),m}let Ar=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.Group=2]="Group",n})({});var Ye=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.ParamRegExp=2]="ParamRegExp",n[n.ParamRegExpEnd=3]="ParamRegExpEnd",n[n.EscapeNext=4]="EscapeNext",n})(Ye||{});const Sm={type:Ar.Static,value:""},Am=/[a-zA-Z0-9_]/;function Tm(n){if(!n)return[[]];if(n==="/")return[[Sm]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function o(I){throw new Error(`ERR (${u})/"${k}": ${I}`)}let u=Ye.Static,_=u;const m=[];let c;function f(){c&&m.push(c),c=[]}let y=0,b,k="",M="";function E(){k&&(u===Ye.Static?c.push({type:Ar.Static,value:k}):u===Ye.Param||u===Ye.ParamRegExp||u===Ye.ParamRegExpEnd?(c.length>1&&(b==="*"||b==="+")&&o(`A repeatable param (${k}) must be alone in its segment. eg: '/:ids+.`),c.push({type:Ar.Param,value:k,regexp:M,repeatable:b==="*"||b==="+",optional:b==="*"||b==="?"})):o("Invalid state to consume buffer"),k="")}function O(){k+=b}for(;y<n.length;){if(b=n[y++],b==="\\"&&u!==Ye.ParamRegExp){_=u,u=Ye.EscapeNext;continue}switch(u){case Ye.Static:b==="/"?(k&&E(),f()):b===":"?(E(),u=Ye.Param):O();break;case Ye.EscapeNext:O(),u=_;break;case Ye.Param:b==="("?u=Ye.ParamRegExp:Am.test(b)?O():(E(),u=Ye.Static,b!=="*"&&b!=="?"&&b!=="+"&&y--);break;case Ye.ParamRegExp:b===")"?M[M.length-1]=="\\"?M=M.slice(0,-1)+b:u=Ye.ParamRegExpEnd:M+=b;break;case Ye.ParamRegExpEnd:E(),u=Ye.Static,b!=="*"&&b!=="?"&&b!=="+"&&y--,M="";break;default:o("Unknown state");break}}return u===Ye.ParamRegExp&&o(`Unfinished custom RegExp for param "${k}"`),E(),f(),m}const Yh="[^/]+?",Dm={sensitive:!1,strict:!1,start:!0,end:!0};var gi=(function(n){return n[n._multiplier=10]="_multiplier",n[n.Root=90]="Root",n[n.Segment=40]="Segment",n[n.SubSegment=30]="SubSegment",n[n.Static=40]="Static",n[n.Dynamic=20]="Dynamic",n[n.BonusCustomRegExp=10]="BonusCustomRegExp",n[n.BonusWildcard=-50]="BonusWildcard",n[n.BonusRepeatable=-20]="BonusRepeatable",n[n.BonusOptional=-8]="BonusOptional",n[n.BonusStrict=.7000000000000001]="BonusStrict",n[n.BonusCaseSensitive=.25]="BonusCaseSensitive",n})(gi||{});const Om=/[.+*?^${}()[\]/\\]/g;function Rm(n,o){const u=ve({},Dm,o),_=[];let m=u.start?"^":"";const c=[];for(const k of n){const M=k.length?[]:[gi.Root];u.strict&&!k.length&&(m+="/");for(let E=0;E<k.length;E++){const O=k[E];let I=gi.Segment+(u.sensitive?gi.BonusCaseSensitive:0);if(O.type===Ar.Static)E||(m+="/"),m+=O.value.replace(Om,"\\$&"),I+=gi.Static;else if(O.type===Ar.Param){const{value:et,repeatable:Q,optional:Et,regexp:dt}=O;c.push({name:et,repeatable:Q,optional:Et});const mt=dt||Yh;if(mt!==Yh){I+=gi.BonusCustomRegExp;try{`${mt}`}catch(Bt){throw new Error(`Invalid custom RegExp for param "${et}" (${mt}): `+Bt.message)}}let Ct=Q?`((?:${mt})(?:/(?:${mt}))*)`:`(${mt})`;E||(Ct=Et&&k.length<2?`(?:/${Ct})`:"/"+Ct),Et&&(Ct+="?"),m+=Ct,I+=gi.Dynamic,Et&&(I+=gi.BonusOptional),Q&&(I+=gi.BonusRepeatable),mt===".*"&&(I+=gi.BonusWildcard)}M.push(I)}_.push(M)}if(u.strict&&u.end){const k=_.length-1;_[k][_[k].length-1]+=gi.BonusStrict}u.strict||(m+="/?"),u.end?m+="$":u.strict&&!m.endsWith("/")&&(m+="(?:/|$)");const f=new RegExp(m,u.sensitive?"":"i");function y(k){const M=k.match(f),E={};if(!M)return null;for(let O=1;O<M.length;O++){const I=M[O]||"",et=c[O-1];E[et.name]=I&&et.repeatable?I.split("/"):I}return E}function b(k){let M="",E=!1;for(const O of n){(!E||!M.endsWith("/"))&&(M+="/"),E=!1;for(const I of O)if(I.type===Ar.Static)M+=I.value;else if(I.type===Ar.Param){const{value:et,repeatable:Q,optional:Et}=I,dt=et in k?k[et]:"";if(Qi(dt)&&!Q)throw new Error(`Provided param "${et}" is an array but it is not repeatable (* or + modifiers)`);const mt=Qi(dt)?dt.join("/"):dt;if(!mt)if(Et)O.length<2&&(M.endsWith("/")?M=M.slice(0,-1):E=!0);else throw new Error(`Missing required param "${et}"`);M+=mt}}return M||"/"}return{re:f,score:_,keys:c,parse:y,stringify:b}}function Im(n,o){let u=0;for(;u<n.length&&u<o.length;){const _=o[u]-n[u];if(_)return _;u++}return n.length<o.length?n.length===1&&n[0]===gi.Static+gi.Segment?-1:1:n.length>o.length?o.length===1&&o[0]===gi.Static+gi.Segment?1:-1:0}function Pf(n,o){let u=0;const _=n.score,m=o.score;for(;u<_.length&&u<m.length;){const c=Im(_[u],m[u]);if(c)return c;u++}if(Math.abs(m.length-_.length)===1){if(Xh(_))return 1;if(Xh(m))return-1}return m.length-_.length}function Xh(n){const o=n[n.length-1];return n.length>0&&o[o.length-1]<0}const Fm={strict:!1,end:!0,sensitive:!1};function Nm(n,o,u){const _=Rm(Tm(n.path),u),m=ve(_,{record:n,parent:o,children:[],alias:[]});return o&&!m.record.aliasOf==!o.record.aliasOf&&o.children.push(m),m}function zm(n,o){const u=[],_=new Map;o=Zh(Fm,o);function m(E){return _.get(E)}function c(E,O,I){const et=!I,Q=$h(E);Q.aliasOf=I&&I.record;const Et=Zh(o,E),dt=[Q];if("alias"in E){const Bt=typeof E.alias=="string"?[E.alias]:E.alias;for(const qt of Bt)dt.push($h(ve({},Q,{components:I?I.record.components:Q.components,path:qt,aliasOf:I?I.record:Q})))}let mt,Ct;for(const Bt of dt){const{path:qt}=Bt;if(O&&qt[0]!=="/"){const se=O.record.path,ue=se[se.length-1]==="/"?"":"/";Bt.path=O.record.path+(qt&&ue+qt)}if(mt=Nm(Bt,O,Et),I?I.alias.push(mt):(Ct=Ct||mt,Ct!==mt&&Ct.alias.push(mt),et&&E.name&&!Qh(mt)&&f(E.name)),Sf(mt)&&b(mt),Q.children){const se=Q.children;for(let ue=0;ue<se.length;ue++)c(se[ue],mt,I&&I.children[ue])}I=I||mt}return Ct?()=>{f(Ct)}:go}function f(E){if(kf(E)){const O=_.get(E);O&&(_.delete(E),u.splice(u.indexOf(O),1),O.children.forEach(f),O.alias.forEach(f))}else{const O=u.indexOf(E);O>-1&&(u.splice(O,1),E.record.name&&_.delete(E.record.name),E.children.forEach(f),E.alias.forEach(f))}}function y(){return u}function b(E){const O=Zm(E,u);u.splice(O,0,E),E.record.name&&!Qh(E)&&_.set(E.record.name,E)}function k(E,O){let I,et={},Q,Et;if("name"in E&&E.name){if(I=_.get(E.name),!I)throw ms(Ie.MATCHER_NOT_FOUND,{location:E});Et=I.record.name,et=ve(Jh(O.params,I.keys.filter(Ct=>!Ct.optional).concat(I.parent?I.parent.keys.filter(Ct=>Ct.optional):[]).map(Ct=>Ct.name)),E.params&&Jh(E.params,I.keys.map(Ct=>Ct.name))),Q=I.stringify(et)}else if(E.path!=null)Q=E.path,I=u.find(Ct=>Ct.re.test(Q)),I&&(et=I.parse(Q),Et=I.record.name);else{if(I=O.name?_.get(O.name):u.find(Ct=>Ct.re.test(O.path)),!I)throw ms(Ie.MATCHER_NOT_FOUND,{location:E,currentLocation:O});Et=I.record.name,et=ve({},O.params,E.params),Q=I.stringify(et)}const dt=[];let mt=I;for(;mt;)dt.unshift(mt.record),mt=mt.parent;return{name:Et,path:Q,params:et,matched:dt,meta:jm(dt)}}n.forEach(E=>c(E));function M(){u.length=0,_.clear()}return{addRoute:c,resolve:k,removeRoute:f,clearRoutes:M,getRoutes:y,getRecordMatcher:m}}function Jh(n,o){const u={};for(const _ of o)_ in n&&(u[_]=n[_]);return u}function $h(n){const o={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:Gm(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(o,"mods",{value:{}}),o}function Gm(n){const o={},u=n.props||!1;if("component"in n)o.default=u;else for(const _ in n.components)o[_]=typeof u=="object"?u[_]:u;return o}function Qh(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function jm(n){return n.reduce((o,u)=>ve(o,u.meta),{})}function Zm(n,o){let u=0,_=o.length;for(;u!==_;){const c=u+_>>1;Pf(n,o[c])<0?_=c:u=c+1}const m=Um(n);return m&&(_=o.lastIndexOf(m,_-1)),_}function Um(n){let o=n;for(;o=o.parent;)if(Sf(o)&&Pf(n,o)===0)return o}function Sf({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function tc(n){const o=Dn(Wu),u=Dn(Ef),_=Fi(()=>{const b=ls(n.to);return o.resolve(b)}),m=Fi(()=>{const{matched:b}=_.value,{length:k}=b,M=b[k-1],E=u.matched;if(!M||!E.length)return-1;const O=E.findIndex(_s.bind(null,M));if(O>-1)return O;const I=ec(b[k-2]);return k>1&&ec(M)===I&&E[E.length-1].path!==I?E.findIndex(_s.bind(null,b[k-2])):O}),c=Fi(()=>m.value>-1&&Wm(u.params,_.value.params)),f=Fi(()=>m.value>-1&&m.value===u.matched.length-1&&wf(u.params,_.value.params));function y(b={}){if(qm(b)){const k=o[ls(n.replace)?"replace":"push"](ls(n.to)).catch(go);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>k),k}return Promise.resolve()}return{route:_,href:Fi(()=>_.value.href),isActive:c,isExactActive:f,navigate:y}}function Vm(n){return n.length===1?n[0]:n}const Hm=jc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:tc,setup(n,{slots:o}){const u=Qa(tc(n)),{options:_}=Dn(Wu),m=Fi(()=>({[ic(n.activeClass,_.linkActiveClass,"router-link-active")]:u.isActive,[ic(n.exactActiveClass,_.linkExactActiveClass,"router-link-exact-active")]:u.isExactActive}));return()=>{const c=o.default&&Vm(o.default(u));return n.custom?c:_f("a",{"aria-current":u.isExactActive?n.ariaCurrentValue:null,href:u.href,onClick:u.navigate,class:m.value},c)}}}),Km=Hm;function qm(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const o=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(o))return}return n.preventDefault&&n.preventDefault(),!0}}function Wm(n,o){for(const u in o){const _=o[u],m=n[u];if(typeof _=="string"){if(_!==m)return!1}else if(!Qi(m)||m.length!==_.length||_.some((c,f)=>c.valueOf()!==m[f].valueOf()))return!1}return!0}function ec(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const ic=(n,o,u)=>n??o??u,Ym=jc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:o,slots:u}){const _=Dn(Mu),m=Fi(()=>n.route||_.value),c=Dn(qh,0),f=Fi(()=>{let k=ls(c);const{matched:M}=m.value;let E;for(;(E=M[k])&&!E.components;)k++;return k}),y=Fi(()=>m.value.matched[f.value]);Sa(qh,Fi(()=>f.value+1)),Sa(wm,y),Sa(Mu,m);const b=Ri();return hs(()=>[b.value,y.value,n.name],([k,M,E],[O,I,et])=>{M&&(M.instances[E]=k,I&&I!==M&&k&&k===O&&(M.leaveGuards.size||(M.leaveGuards=I.leaveGuards),M.updateGuards.size||(M.updateGuards=I.updateGuards))),k&&M&&(!I||!_s(M,I)||!O)&&(M.enterCallbacks[E]||[]).forEach(Q=>Q(k))},{flush:"post"}),()=>{const k=m.value,M=n.name,E=y.value,O=E&&E.components[M];if(!O)return nc(u.default,{Component:O,route:k});const I=E.props[M],et=I?I===!0?k.params:typeof I=="function"?I(k):I:null,Et=_f(O,ve({},et,o,{onVnodeUnmounted:dt=>{dt.component.isUnmounted&&(E.instances[M]=null)},ref:b}));return nc(u.default,{Component:Et,route:k})||Et}}});function nc(n,o){if(!n)return null;const u=n(o);return u.length===1?u[0]:u}const Xm=Ym;function Jm(n){const o=zm(n.routes,n),u=n.parseQuery||Cm,_=n.stringifyQuery||Kh,m=n.history,c=ro(),f=ro(),y=ro(),b=Xd(Qn);let k=Qn;ss&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const M=au.bind(null,st=>""+st),E=au.bind(null,sm),O=au.bind(null,wo);function I(st,Mt){let wt,It;return kf(st)?(wt=o.getRecordMatcher(st),It=Mt):It=st,o.addRoute(It,wt)}function et(st){const Mt=o.getRecordMatcher(st);Mt&&o.removeRoute(Mt)}function Q(){return o.getRoutes().map(st=>st.record)}function Et(st){return!!o.getRecordMatcher(st)}function dt(st,Mt){if(Mt=ve({},Mt||b.value),typeof st=="string"){const W=lu(u,st,Mt.path),ot=o.resolve({path:W.path},Mt),lt=m.createHref(W.fullPath);return ve(W,ot,{params:O(ot.params),hash:wo(W.hash),redirectedFrom:void 0,href:lt})}let wt;if(st.path!=null)wt=ve({},st,{path:lu(u,st.path,Mt.path).path});else{const W=ve({},st.params);for(const ot in W)W[ot]==null&&delete W[ot];wt=ve({},st,{params:E(W)}),Mt.params=E(Mt.params)}const It=o.resolve(wt,Mt),Wt=st.hash||"";It.params=M(O(It.params));const F=lm(_,ve({},st,{hash:im(Wt),path:It.path})),j=m.createHref(F);return ve({fullPath:F,hash:Wt,query:_===Kh?xm(st.query):st.query||{}},It,{redirectedFrom:void 0,href:j})}function mt(st){return typeof st=="string"?lu(u,st,b.value.path):ve({},st)}function Ct(st,Mt){if(k!==st)return ms(Ie.NAVIGATION_CANCELLED,{from:Mt,to:st})}function Bt(st){return ue(st)}function qt(st){return Bt(ve(mt(st),{replace:!0}))}function se(st,Mt){const wt=st.matched[st.matched.length-1];if(wt&&wt.redirect){const{redirect:It}=wt;let Wt=typeof It=="function"?It(st,Mt):It;return typeof Wt=="string"&&(Wt=Wt.includes("?")||Wt.includes("#")?Wt=mt(Wt):{path:Wt},Wt.params={}),ve({query:st.query,hash:st.hash,params:Wt.path!=null?{}:st.params},Wt)}}function ue(st,Mt){const wt=k=dt(st),It=b.value,Wt=st.state,F=st.force,j=st.replace===!0,W=se(wt,It);if(W)return ue(ve(mt(W),{state:typeof W=="object"?ve({},Wt,W.state):Wt,force:F,replace:j}),Mt||wt);const ot=wt;ot.redirectedFrom=Mt;let lt;return!F&&um(_,It,wt)&&(lt=ms(Ie.NAVIGATION_DUPLICATED,{to:ot,from:It}),Ot(It,It,!0,!1)),(lt?Promise.resolve(lt):Ee(ot,It)).catch(at=>Pn(at)?Pn(at,Ie.NAVIGATION_GUARD_REDIRECT)?at:Pt(at):rt(at,ot,It)).then(at=>{if(at){if(Pn(at,Ie.NAVIGATION_GUARD_REDIRECT))return ue(ve({replace:j},mt(at.to),{state:typeof at.to=="object"?ve({},Wt,at.to.state):Wt,force:F}),Mt||ot)}else at=ye(ot,It,!0,j,Wt);return ae(ot,It,at),at})}function Ne(st,Mt){const wt=Ct(st,Mt);return wt?Promise.reject(wt):Promise.resolve()}function Ue(st){const Mt=oe.values().next().value;return Mt&&typeof Mt.runWithContext=="function"?Mt.runWithContext(st):st()}function Ee(st,Mt){let wt;const[It,Wt,F]=km(st,Mt);wt=hu(It.reverse(),"beforeRouteLeave",st,Mt);for(const W of It)W.leaveGuards.forEach(ot=>{wt.push(rr(ot,st,Mt))});const j=Ne.bind(null,st,Mt);return wt.push(j),Nt(wt).then(()=>{wt=[];for(const W of c.list())wt.push(rr(W,st,Mt));return wt.push(j),Nt(wt)}).then(()=>{wt=hu(Wt,"beforeRouteUpdate",st,Mt);for(const W of Wt)W.updateGuards.forEach(ot=>{wt.push(rr(ot,st,Mt))});return wt.push(j),Nt(wt)}).then(()=>{wt=[];for(const W of F)if(W.beforeEnter)if(Qi(W.beforeEnter))for(const ot of W.beforeEnter)wt.push(rr(ot,st,Mt));else wt.push(rr(W.beforeEnter,st,Mt));return wt.push(j),Nt(wt)}).then(()=>(st.matched.forEach(W=>W.enterCallbacks={}),wt=hu(F,"beforeRouteEnter",st,Mt,Ue),wt.push(j),Nt(wt))).then(()=>{wt=[];for(const W of f.list())wt.push(rr(W,st,Mt));return wt.push(j),Nt(wt)}).catch(W=>Pn(W,Ie.NAVIGATION_CANCELLED)?W:Promise.reject(W))}function ae(st,Mt,wt){y.list().forEach(It=>Ue(()=>It(st,Mt,wt)))}function ye(st,Mt,wt,It,Wt){const F=Ct(st,Mt);if(F)return F;const j=Mt===Qn,W=ss?history.state:{};wt&&(It||j?m.replace(st.fullPath,ve({scroll:j&&W&&W.scroll},Wt)):m.push(st.fullPath,Wt)),b.value=st,Ot(st,Mt,wt,j),Pt()}let Je;function Dt(){Je||(Je=m.listen((st,Mt,wt)=>{if(!Ut.listening)return;const It=dt(st),Wt=se(It,Ut.currentRoute.value);if(Wt){ue(ve(Wt,{replace:!0,force:!0}),It).catch(go);return}k=It;const F=b.value;ss&&gm(Hh(F.fullPath,wt.delta),sl()),Ee(It,F).catch(j=>Pn(j,Ie.NAVIGATION_ABORTED|Ie.NAVIGATION_CANCELLED)?j:Pn(j,Ie.NAVIGATION_GUARD_REDIRECT)?(ue(ve(mt(j.to),{force:!0}),It).then(W=>{Pn(W,Ie.NAVIGATION_ABORTED|Ie.NAVIGATION_DUPLICATED)&&!wt.delta&&wt.type===wu.pop&&m.go(-1,!1)}).catch(go),Promise.reject()):(wt.delta&&m.go(-wt.delta,!1),rt(j,It,F))).then(j=>{j=j||ye(It,F,!1),j&&(wt.delta&&!Pn(j,Ie.NAVIGATION_CANCELLED)?m.go(-wt.delta,!1):wt.type===wu.pop&&Pn(j,Ie.NAVIGATION_ABORTED|Ie.NAVIGATION_DUPLICATED)&&m.go(-1,!1)),ae(It,F,j)}).catch(go)}))}let ee=ro(),ut=ro(),_t;function rt(st,Mt,wt){Pt(st);const It=ut.list();return It.length?It.forEach(Wt=>Wt(st,Mt,wt)):console.error(st),Promise.reject(st)}function ce(){return _t&&b.value!==Qn?Promise.resolve():new Promise((st,Mt)=>{ee.add([st,Mt])})}function Pt(st){return _t||(_t=!st,Dt(),ee.list().forEach(([Mt,wt])=>st?wt(st):Mt()),ee.reset()),st}function Ot(st,Mt,wt,It){const{scrollBehavior:Wt}=n;if(!ss||!Wt)return Promise.resolve();const F=!wt&&ym(Hh(st.fullPath,0))||(It||!wt)&&history.state&&history.state.scroll||null;return Gu().then(()=>Wt(st,Mt,F)).then(j=>j&&mm(j)).catch(j=>rt(j,st,Mt))}const Ht=st=>m.go(st);let le;const oe=new Set,Ut={currentRoute:b,listening:!0,addRoute:I,removeRoute:et,clearRoutes:o.clearRoutes,hasRoute:Et,getRoutes:Q,resolve:dt,options:n,push:Bt,replace:qt,go:Ht,back:()=>Ht(-1),forward:()=>Ht(1),beforeEach:c.add,beforeResolve:f.add,afterEach:y.add,onError:ut.add,isReady:ce,install(st){st.component("RouterLink",Km),st.component("RouterView",Xm),st.config.globalProperties.$router=Ut,Object.defineProperty(st.config.globalProperties,"$route",{enumerable:!0,get:()=>ls(b)}),ss&&!le&&b.value===Qn&&(le=!0,Bt(m.location).catch(It=>{}));const Mt={};for(const It in Qn)Object.defineProperty(Mt,It,{get:()=>b.value[It],enumerable:!0});st.provide(Wu,Ut),st.provide(Ef,Ac(Mt)),st.provide(Mu,b);const wt=st.unmount;oe.add(st),st.unmount=function(){oe.delete(st),oe.size<1&&(k=Qn,Je&&Je(),Je=null,b.value=Qn,le=!1,_t=!1),wt()}}};function Nt(st){return st.reduce((Mt,wt)=>Mt.then(()=>Ue(wt)),Promise.resolve())}return Ut}const $m="/assets/title-BYJDK_tD.svg";var Ea=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var oo={exports:{}};var tg=oo.exports,rc;function eg(){return rc||(rc=1,(function(n,o){(function(u,_){_(o)})(tg,(function(u){var _="1.9.4";function m(t){var r,l,p,C;for(l=1,p=arguments.length;l<p;l++){C=arguments[l];for(r in C)t[r]=C[r]}return t}var c=Object.create||(function(){function t(){}return function(r){return t.prototype=r,new t}})();function f(t,r){var l=Array.prototype.slice;if(t.bind)return t.bind.apply(t,l.call(arguments,1));var p=l.call(arguments,2);return function(){return t.apply(r,p.length?p.concat(l.call(arguments)):arguments)}}var y=0;function b(t){return"_leaflet_id"in t||(t._leaflet_id=++y),t._leaflet_id}function k(t,r,l){var p,C,P,z;return z=function(){p=!1,C&&(P.apply(l,C),C=!1)},P=function(){p?C=arguments:(t.apply(l,arguments),setTimeout(z,r),p=!0)},P}function M(t,r,l){var p=r[1],C=r[0],P=p-C;return t===p&&l?t:((t-C)%P+P)%P+C}function E(){return!1}function O(t,r){if(r===!1)return t;var l=Math.pow(10,r===void 0?6:r);return Math.round(t*l)/l}function I(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function et(t){return I(t).split(/\s+/)}function Q(t,r){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?c(t.options):{});for(var l in r)t.options[l]=r[l];return t.options}function Et(t,r,l){var p=[];for(var C in t)p.push(encodeURIComponent(l?C.toUpperCase():C)+"="+encodeURIComponent(t[C]));return(!r||r.indexOf("?")===-1?"?":"&")+p.join("&")}var dt=/\{ *([\w_ -]+) *\}/g;function mt(t,r){return t.replace(dt,function(l,p){var C=r[p];if(C===void 0)throw new Error("No value provided for variable "+l);return typeof C=="function"&&(C=C(r)),C})}var Ct=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function Bt(t,r){for(var l=0;l<t.length;l++)if(t[l]===r)return l;return-1}var qt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function se(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ue=0;function Ne(t){var r=+new Date,l=Math.max(0,16-(r-ue));return ue=r+l,window.setTimeout(t,l)}var Ue=window.requestAnimationFrame||se("RequestAnimationFrame")||Ne,Ee=window.cancelAnimationFrame||se("CancelAnimationFrame")||se("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function ae(t,r,l){if(l&&Ue===Ne)t.call(r);else return Ue.call(window,f(t,r))}function ye(t){t&&Ee.call(window,t)}var Je={__proto__:null,extend:m,create:c,bind:f,get lastId(){return y},stamp:b,throttle:k,wrapNum:M,falseFn:E,formatNum:O,trim:I,splitWords:et,setOptions:Q,getParamString:Et,template:mt,isArray:Ct,indexOf:Bt,emptyImageUrl:qt,requestFn:Ue,cancelFn:Ee,requestAnimFrame:ae,cancelAnimFrame:ye};function Dt(){}Dt.extend=function(t){var r=function(){Q(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=r.__super__=this.prototype,p=c(l);p.constructor=r,r.prototype=p;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(r[C]=this[C]);return t.statics&&m(r,t.statics),t.includes&&(ee(t.includes),m.apply(null,[p].concat(t.includes))),m(p,t),delete p.statics,delete p.includes,p.options&&(p.options=l.options?c(l.options):{},m(p.options,t.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,z=p._initHooks.length;P<z;P++)p._initHooks[P].call(this)}},r},Dt.include=function(t){var r=this.prototype.options;return m(this.prototype,t),t.options&&(this.prototype.options=r,this.mergeOptions(t.options)),this},Dt.mergeOptions=function(t){return m(this.prototype.options,t),this},Dt.addInitHook=function(t){var r=Array.prototype.slice.call(arguments,1),l=typeof t=="function"?t:function(){this[t].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function ee(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=Ct(t)?t:[t];for(var r=0;r<t.length;r++)t[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ut={on:function(t,r,l){if(typeof t=="object")for(var p in t)this._on(p,t[p],r);else{t=et(t);for(var C=0,P=t.length;C<P;C++)this._on(t[C],r,l)}return this},off:function(t,r,l){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var p in t)this._off(p,t[p],r);else{t=et(t);for(var C=arguments.length===1,P=0,z=t.length;P<z;P++)C?this._off(t[P]):this._off(t[P],r,l)}return this},_on:function(t,r,l,p){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(t,r,l)===!1){l===this&&(l=void 0);var C={fn:r,ctx:l};p&&(C.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(C)}},_off:function(t,r,l){var p,C,P;if(this._events&&(p=this._events[t],!!p)){if(arguments.length===1){if(this._firingCount)for(C=0,P=p.length;C<P;C++)p[C].fn=E;delete this._events[t];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var z=this._listens(t,r,l);if(z!==!1){var Y=p[z];this._firingCount&&(Y.fn=E,this._events[t]=p=p.slice()),p.splice(z,1)}}},fire:function(t,r,l){if(!this.listens(t,l))return this;var p=m({},r,{type:t,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var C=this._events[t];if(C){this._firingCount=this._firingCount+1||1;for(var P=0,z=C.length;P<z;P++){var Y=C[P],tt=Y.fn;Y.once&&this.off(t,tt,Y.ctx),tt.call(Y.ctx||this,p)}this._firingCount--}}return l&&this._propagateEvent(p),this},listens:function(t,r,l,p){typeof t!="string"&&console.warn('"string" type argument expected');var C=r;typeof r!="function"&&(p=!!r,C=void 0,l=void 0);var P=this._events&&this._events[t];if(P&&P.length&&this._listens(t,C,l)!==!1)return!0;if(p){for(var z in this._eventParents)if(this._eventParents[z].listens(t,r,l,p))return!0}return!1},_listens:function(t,r,l){if(!this._events)return!1;var p=this._events[t]||[];if(!r)return!!p.length;l===this&&(l=void 0);for(var C=0,P=p.length;C<P;C++)if(p[C].fn===r&&p[C].ctx===l)return C;return!1},once:function(t,r,l){if(typeof t=="object")for(var p in t)this._on(p,t[p],r,!0);else{t=et(t);for(var C=0,P=t.length;C<P;C++)this._on(t[C],r,l,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[b(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[b(t)],this},_propagateEvent:function(t){for(var r in this._eventParents)this._eventParents[r].fire(t.type,m({layer:t.target,propagatedFrom:t.target},t),!0)}};ut.addEventListener=ut.on,ut.removeEventListener=ut.clearAllEventListeners=ut.off,ut.addOneTimeEventListener=ut.once,ut.fireEvent=ut.fire,ut.hasEventListeners=ut.listens;var _t=Dt.extend(ut);function rt(t,r,l){this.x=l?Math.round(t):t,this.y=l?Math.round(r):r}var ce=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};rt.prototype={clone:function(){return new rt(this.x,this.y)},add:function(t){return this.clone()._add(Pt(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Pt(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new rt(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new rt(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ce(this.x),this.y=ce(this.y),this},distanceTo:function(t){t=Pt(t);var r=t.x-this.x,l=t.y-this.y;return Math.sqrt(r*r+l*l)},equals:function(t){return t=Pt(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Pt(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function Pt(t,r,l){return t instanceof rt?t:Ct(t)?new rt(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new rt(t.x,t.y):new rt(t,r,l)}function Ot(t,r){if(t)for(var l=r?[t,r]:t,p=0,C=l.length;p<C;p++)this.extend(l[p])}Ot.prototype={extend:function(t){var r,l;if(!t)return this;if(t instanceof rt||typeof t[0]=="number"||"x"in t)r=l=Pt(t);else if(t=Ht(t),r=t.min,l=t.max,!r||!l)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=l.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(t){return Pt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return Pt(this.min.x,this.max.y)},getTopRight:function(){return Pt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var r,l;return typeof t[0]=="number"||t instanceof rt?t=Pt(t):t=Ht(t),t instanceof Ot?(r=t.min,l=t.max):r=l=t,r.x>=this.min.x&&l.x<=this.max.x&&r.y>=this.min.y&&l.y<=this.max.y},intersects:function(t){t=Ht(t);var r=this.min,l=this.max,p=t.min,C=t.max,P=C.x>=r.x&&p.x<=l.x,z=C.y>=r.y&&p.y<=l.y;return P&&z},overlaps:function(t){t=Ht(t);var r=this.min,l=this.max,p=t.min,C=t.max,P=C.x>r.x&&p.x<l.x,z=C.y>r.y&&p.y<l.y;return P&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var r=this.min,l=this.max,p=Math.abs(r.x-l.x)*t,C=Math.abs(r.y-l.y)*t;return Ht(Pt(r.x-p,r.y-C),Pt(l.x+p,l.y+C))},equals:function(t){return t?(t=Ht(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Ht(t,r){return!t||t instanceof Ot?t:new Ot(t,r)}function le(t,r){if(t)for(var l=r?[t,r]:t,p=0,C=l.length;p<C;p++)this.extend(l[p])}le.prototype={extend:function(t){var r=this._southWest,l=this._northEast,p,C;if(t instanceof Ut)p=t,C=t;else if(t instanceof le){if(p=t._southWest,C=t._northEast,!p||!C)return this}else return t?this.extend(Nt(t)||oe(t)):this;return!r&&!l?(this._southWest=new Ut(p.lat,p.lng),this._northEast=new Ut(C.lat,C.lng)):(r.lat=Math.min(p.lat,r.lat),r.lng=Math.min(p.lng,r.lng),l.lat=Math.max(C.lat,l.lat),l.lng=Math.max(C.lng,l.lng)),this},pad:function(t){var r=this._southWest,l=this._northEast,p=Math.abs(r.lat-l.lat)*t,C=Math.abs(r.lng-l.lng)*t;return new le(new Ut(r.lat-p,r.lng-C),new Ut(l.lat+p,l.lng+C))},getCenter:function(){return new Ut((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ut(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ut(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Ut||"lat"in t?t=Nt(t):t=oe(t);var r=this._southWest,l=this._northEast,p,C;return t instanceof le?(p=t.getSouthWest(),C=t.getNorthEast()):p=C=t,p.lat>=r.lat&&C.lat<=l.lat&&p.lng>=r.lng&&C.lng<=l.lng},intersects:function(t){t=oe(t);var r=this._southWest,l=this._northEast,p=t.getSouthWest(),C=t.getNorthEast(),P=C.lat>=r.lat&&p.lat<=l.lat,z=C.lng>=r.lng&&p.lng<=l.lng;return P&&z},overlaps:function(t){t=oe(t);var r=this._southWest,l=this._northEast,p=t.getSouthWest(),C=t.getNorthEast(),P=C.lat>r.lat&&p.lat<l.lat,z=C.lng>r.lng&&p.lng<l.lng;return P&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,r){return t?(t=oe(t),this._southWest.equals(t.getSouthWest(),r)&&this._northEast.equals(t.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function oe(t,r){return t instanceof le?t:new le(t,r)}function Ut(t,r,l){if(isNaN(t)||isNaN(r))throw new Error("Invalid LatLng object: ("+t+", "+r+")");this.lat=+t,this.lng=+r,l!==void 0&&(this.alt=+l)}Ut.prototype={equals:function(t,r){if(!t)return!1;t=Nt(t);var l=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return l<=(r===void 0?1e-9:r)},toString:function(t){return"LatLng("+O(this.lat,t)+", "+O(this.lng,t)+")"},distanceTo:function(t){return Mt.distance(this,Nt(t))},wrap:function(){return Mt.wrapLatLng(this)},toBounds:function(t){var r=180*t/40075017,l=r/Math.cos(Math.PI/180*this.lat);return oe([this.lat-r,this.lng-l],[this.lat+r,this.lng+l])},clone:function(){return new Ut(this.lat,this.lng,this.alt)}};function Nt(t,r,l){return t instanceof Ut?t:Ct(t)&&typeof t[0]!="object"?t.length===3?new Ut(t[0],t[1],t[2]):t.length===2?new Ut(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Ut(t.lat,"lng"in t?t.lng:t.lon,t.alt):r===void 0?null:new Ut(t,r,l)}var st={latLngToPoint:function(t,r){var l=this.projection.project(t),p=this.scale(r);return this.transformation._transform(l,p)},pointToLatLng:function(t,r){var l=this.scale(r),p=this.transformation.untransform(t,l);return this.projection.unproject(p)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var r=this.projection.bounds,l=this.scale(t),p=this.transformation.transform(r.min,l),C=this.transformation.transform(r.max,l);return new Ot(p,C)},infinite:!1,wrapLatLng:function(t){var r=this.wrapLng?M(t.lng,this.wrapLng,!0):t.lng,l=this.wrapLat?M(t.lat,this.wrapLat,!0):t.lat,p=t.alt;return new Ut(l,r,p)},wrapLatLngBounds:function(t){var r=t.getCenter(),l=this.wrapLatLng(r),p=r.lat-l.lat,C=r.lng-l.lng;if(p===0&&C===0)return t;var P=t.getSouthWest(),z=t.getNorthEast(),Y=new Ut(P.lat-p,P.lng-C),tt=new Ut(z.lat-p,z.lng-C);return new le(Y,tt)}},Mt=m({},st,{wrapLng:[-180,180],R:6371e3,distance:function(t,r){var l=Math.PI/180,p=t.lat*l,C=r.lat*l,P=Math.sin((r.lat-t.lat)*l/2),z=Math.sin((r.lng-t.lng)*l/2),Y=P*P+Math.cos(p)*Math.cos(C)*z*z,tt=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*tt}}),wt=6378137,It={R:wt,MAX_LATITUDE:85.0511287798,project:function(t){var r=Math.PI/180,l=this.MAX_LATITUDE,p=Math.max(Math.min(l,t.lat),-l),C=Math.sin(p*r);return new rt(this.R*t.lng*r,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(t){var r=180/Math.PI;return new Ut((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*r,t.x*r/this.R)},bounds:(function(){var t=wt*Math.PI;return new Ot([-t,-t],[t,t])})()};function Wt(t,r,l,p){if(Ct(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=r,this._c=l,this._d=p}Wt.prototype={transform:function(t,r){return this._transform(t.clone(),r)},_transform:function(t,r){return r=r||1,t.x=r*(this._a*t.x+this._b),t.y=r*(this._c*t.y+this._d),t},untransform:function(t,r){return r=r||1,new rt((t.x/r-this._b)/this._a,(t.y/r-this._d)/this._c)}};function F(t,r,l,p){return new Wt(t,r,l,p)}var j=m({},Mt,{code:"EPSG:3857",projection:It,transformation:(function(){var t=.5/(Math.PI*It.R);return F(t,.5,-t,.5)})()}),W=m({},j,{code:"EPSG:900913"});function ot(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function lt(t,r){var l="",p,C,P,z,Y,tt;for(p=0,P=t.length;p<P;p++){for(Y=t[p],C=0,z=Y.length;C<z;C++)tt=Y[C],l+=(C?"L":"M")+tt.x+" "+tt.y;l+=r?Gt.svg?"z":"x":""}return l||"M0 0"}var at=document.documentElement.style,kt="ActiveXObject"in window,xt=kt&&!document.addEventListener,Lt="msLaunchUri"in navigator&&!("documentMode"in document),pt=Pi("webkit"),Vt=Pi("android"),At=Pi("android 2")||Pi("android 3"),Zt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Yt=Vt&&Pi("Google")&&Zt<537&&!("AudioNode"in window),ne=!!window.opera,ge=!Lt&&Pi("chrome"),fe=Pi("gecko")&&!pt&&!ne&&!kt,Ve=!ge&&Pi("safari"),ze=Pi("phantom"),ci="OTransition"in at,He=navigator.platform.indexOf("Win")===0,tn=kt&&"transition"in at,vn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!At,Se="MozPerspective"in at,fi=!window.L_DISABLE_3D&&(tn||vn||Se)&&!ci&&!ze,Gi=typeof orientation<"u"||Pi("mobile"),Rr=Gi&&pt,ol=Gi&&vn,gs=!window.PointerEvent&&window.MSPointerEvent,Bo=!!(window.PointerEvent||gs),Po="ontouchstart"in window||!!window.TouchEvent,al=!window.L_NO_TOUCH&&(Po||Bo),ll=Gi&&ne,So=Gi&&fe,Ao=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ul=(function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",E,r),window.removeEventListener("testPassiveEventSupport",E,r)}catch{}return t})(),hl=(function(){return!!document.createElement("canvas").getContext})(),ys=!!(document.createElementNS&&ot("svg").createSVGRect),To=!!ys&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),cl=!ys&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var r=t.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}})(),fl=navigator.platform.indexOf("Mac")===0,dl=navigator.platform.indexOf("Linux")===0;function Pi(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Gt={ie:kt,ielt9:xt,edge:Lt,webkit:pt,android:Vt,android23:At,androidStock:Yt,opera:ne,chrome:ge,gecko:fe,safari:Ve,phantom:ze,opera12:ci,win:He,ie3d:tn,webkit3d:vn,gecko3d:Se,any3d:fi,mobile:Gi,mobileWebkit:Rr,mobileWebkit3d:ol,msPointer:gs,pointer:Bo,touch:al,touchNative:Po,mobileOpera:ll,mobileGecko:So,retina:Ao,passiveEvents:ul,canvas:hl,svg:ys,vml:cl,inlineSvg:To,mac:fl,linux:dl},Do=Gt.msPointer?"MSPointerDown":"pointerdown",Oo=Gt.msPointer?"MSPointerMove":"pointermove",vs=Gt.msPointer?"MSPointerUp":"pointerup",Ro=Gt.msPointer?"MSPointerCancel":"pointercancel",Ls={touchstart:Do,touchmove:Oo,touchend:vs,touchcancel:Ro},Io={touchstart:yl,touchmove:Fr,touchend:Fr,touchcancel:Fr},Nn={},Fo=!1;function pl(t,r,l){return r==="touchstart"&&bs(),Io[r]?(l=Io[r].bind(this,l),t.addEventListener(Ls[r],l,!1),l):(console.warn("wrong event specified:",r),E)}function _l(t,r,l){if(!Ls[r]){console.warn("wrong event specified:",r);return}t.removeEventListener(Ls[r],l,!1)}function ml(t){Nn[t.pointerId]=t}function gl(t){Nn[t.pointerId]&&(Nn[t.pointerId]=t)}function Ir(t){delete Nn[t.pointerId]}function bs(){Fo||(document.addEventListener(Do,ml,!0),document.addEventListener(Oo,gl,!0),document.addEventListener(vs,Ir,!0),document.addEventListener(Ro,Ir,!0),Fo=!0)}function Fr(t,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var l in Nn)r.touches.push(Nn[l]);r.changedTouches=[r],t(r)}}function yl(t,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&Ke(r),Fr(t,r)}function vl(t){var r={},l,p;for(p in t)l=t[p],r[p]=l&&l.bind?l.bind(t):l;return t=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Ll=200;function bl(t,r){t.addEventListener("dblclick",r);var l=0,p;function C(P){if(P.detail!==1){p=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var z=Zo(P);if(!(z.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!z.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var Y=Date.now();Y-l<=Ll?(p++,p===2&&r(vl(P))):p=1,l=Y}}}return t.addEventListener("click",C),{dblclick:r,simDblclick:C}}function Cl(t,r){t.removeEventListener("dblclick",r.dblclick),t.removeEventListener("click",r.simDblclick)}var Cs=zr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ar=zr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),No=ar==="webkitTransition"||ar==="OTransition"?ar+"End":"transitionend";function zo(t){return typeof t=="string"?document.getElementById(t):t}function en(t,r){var l=t.style[r]||t.currentStyle&&t.currentStyle[r];if((!l||l==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(t,null);l=p?p[r]:null}return l==="auto"?null:l}function de(t,r,l){var p=document.createElement(t);return p.className=r||"",l&&l.appendChild(p),p}function Me(t){var r=t.parentNode;r&&r.removeChild(t)}function lr(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function zn(t){var r=t.parentNode;r&&r.lastChild!==t&&r.appendChild(t)}function Gn(t){var r=t.parentNode;r&&r.firstChild!==t&&r.insertBefore(t,r.firstChild)}function xs(t,r){if(t.classList!==void 0)return t.classList.contains(r);var l=Nr(t);return l.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(l)}function te(t,r){if(t.classList!==void 0)for(var l=et(r),p=0,C=l.length;p<C;p++)t.classList.add(l[p]);else if(!xs(t,r)){var P=Nr(t);ws(t,(P?P+" ":"")+r)}}function Be(t,r){t.classList!==void 0?t.classList.remove(r):ws(t,I((" "+Nr(t)+" ").replace(" "+r+" "," ")))}function ws(t,r){t.className.baseVal===void 0?t.className=r:t.className.baseVal=r}function Nr(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Li(t,r){"opacity"in t.style?t.style.opacity=r:"filter"in t.style&&xl(t,r)}function xl(t,r){var l=!1,p="DXImageTransform.Microsoft.Alpha";try{l=t.filters.item(p)}catch{if(r===1)return}r=Math.round(r*100),l?(l.Enabled=r!==100,l.Opacity=r):t.style.filter+=" progid:"+p+"(opacity="+r+")"}function zr(t){for(var r=document.documentElement.style,l=0;l<t.length;l++)if(t[l]in r)return t[l];return!1}function Ln(t,r,l){var p=r||new rt(0,0);t.style[Cs]=(Gt.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(l?" scale("+l+")":"")}function Ae(t,r){t._leaflet_pos=r,Gt.any3d?Ln(t,r):(t.style.left=r.x+"px",t.style.top=r.y+"px")}function nn(t){return t._leaflet_pos||new rt(0,0)}var ur,hr,ks;if("onselectstart"in document)ur=function(){Jt(window,"selectstart",Ke)},hr=function(){_e(window,"selectstart",Ke)};else{var cr=zr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ur=function(){if(cr){var t=document.documentElement.style;ks=t[cr],t[cr]="none"}},hr=function(){cr&&(document.documentElement.style[cr]=ks,ks=void 0)}}function Ms(){Jt(window,"dragstart",Ke)}function Es(){_e(window,"dragstart",Ke)}var Gr,Bs;function Ps(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(jr(),Gr=t,Bs=t.style.outlineStyle,t.style.outlineStyle="none",Jt(window,"keydown",jr))}function jr(){Gr&&(Gr.style.outlineStyle=Bs,Gr=void 0,Bs=void 0,_e(window,"keydown",jr))}function Go(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ss(t){var r=t.getBoundingClientRect();return{x:r.width/t.offsetWidth||1,y:r.height/t.offsetHeight||1,boundingClientRect:r}}var wl={__proto__:null,TRANSFORM:Cs,TRANSITION:ar,TRANSITION_END:No,get:zo,getStyle:en,create:de,remove:Me,empty:lr,toFront:zn,toBack:Gn,hasClass:xs,addClass:te,removeClass:Be,setClass:ws,getClass:Nr,setOpacity:Li,testProp:zr,setTransform:Ln,setPosition:Ae,getPosition:nn,get disableTextSelection(){return ur},get enableTextSelection(){return hr},disableImageDrag:Ms,enableImageDrag:Es,preventOutline:Ps,restoreOutline:jr,getSizedParentNode:Go,getScale:Ss};function Jt(t,r,l,p){if(r&&typeof r=="object")for(var C in r)Ts(t,C,r[C],l);else{r=et(r);for(var P=0,z=r.length;P<z;P++)Ts(t,r[P],l,p)}return this}var ji="_leaflet_events";function _e(t,r,l,p){if(arguments.length===1)jo(t),delete t[ji];else if(r&&typeof r=="object")for(var C in r)Ds(t,C,r[C],l);else if(r=et(r),arguments.length===2)jo(t,function(Y){return Bt(r,Y)!==-1});else for(var P=0,z=r.length;P<z;P++)Ds(t,r[P],l,p);return this}function jo(t,r){for(var l in t[ji]){var p=l.split(/\d/)[0];(!r||r(p))&&Ds(t,p,null,null,l)}}var As={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ts(t,r,l,p){var C=r+b(l)+(p?"_"+b(p):"");if(t[ji]&&t[ji][C])return this;var P=function(Y){return l.call(p||t,Y||window.event)},z=P;!Gt.touchNative&&Gt.pointer&&r.indexOf("touch")===0?P=pl(t,r,P):Gt.touch&&r==="dblclick"?P=bl(t,P):"addEventListener"in t?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?t.addEventListener(As[r]||r,P,Gt.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(P=function(Y){Y=Y||window.event,Zr(t,Y)&&z(Y)},t.addEventListener(As[r],P,!1)):t.addEventListener(r,z,!1):t.attachEvent("on"+r,P),t[ji]=t[ji]||{},t[ji][C]=P}function Ds(t,r,l,p,C){C=C||r+b(l)+(p?"_"+b(p):"");var P=t[ji]&&t[ji][C];if(!P)return this;!Gt.touchNative&&Gt.pointer&&r.indexOf("touch")===0?_l(t,r,P):Gt.touch&&r==="dblclick"?Cl(t,P):"removeEventListener"in t?t.removeEventListener(As[r]||r,P,!1):t.detachEvent("on"+r,P),t[ji][C]=null}function bn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Os(t){return Ts(t,"wheel",bn),this}function fr(t){return Jt(t,"mousedown touchstart dblclick contextmenu",bn),t._leaflet_disable_click=!0,this}function Ke(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Cn(t){return Ke(t),bn(t),this}function Zo(t){if(t.composedPath)return t.composedPath();for(var r=[],l=t.target;l;)r.push(l),l=l.parentNode;return r}function dr(t,r){if(!r)return new rt(t.clientX,t.clientY);var l=Ss(r),p=l.boundingClientRect;return new rt((t.clientX-p.left)/l.x-r.clientLeft,(t.clientY-p.top)/l.y-r.clientTop)}var kl=Gt.linux&&Gt.chrome?window.devicePixelRatio:Gt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Uo(t){return Gt.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/kl:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Zr(t,r){var l=r.relatedTarget;if(!l)return!0;try{for(;l&&l!==t;)l=l.parentNode}catch{return!1}return l!==t}var he={__proto__:null,on:Jt,off:_e,stopPropagation:bn,disableScrollPropagation:Os,disableClickPropagation:fr,preventDefault:Ke,stop:Cn,getPropagationPath:Zo,getMousePosition:dr,getWheelDelta:Uo,isExternalTarget:Zr,addListener:Jt,removeListener:_e},Ur=_t.extend({run:function(t,r,l,p){this.stop(),this._el=t,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=nn(t),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ae(this._animate,this),this._step()},_step:function(t){var r=+new Date-this._startTime,l=this._duration*1e3;r<l?this._runFrame(this._easeOut(r/l),t):(this._runFrame(1),this._complete())},_runFrame:function(t,r){var l=this._startPos.add(this._offset.multiplyBy(t));r&&l._round(),Ae(this._el,l),this.fire("step")},_complete:function(){ye(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),re=_t.extend({options:{crs:j,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,r){r=Q(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(Nt(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ar&&Gt.any3d&&!Gt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Jt(this._proxy,No,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,r,l){if(r=r===void 0?this._zoom:this._limitZoom(r),t=this._limitCenter(Nt(t),r,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=m({animate:l.animate},l.zoom),l.pan=m({animate:l.animate,duration:l.duration},l.pan));var p=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,r,l.zoom):this._tryAnimatedPan(t,l.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(t,r,l.pan&&l.pan.noMoveStart),this},setZoom:function(t,r){return this._loaded?this.setView(this.getCenter(),t,{zoom:r}):(this._zoom=t,this)},zoomIn:function(t,r){return t=t||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,r)},zoomOut:function(t,r){return t=t||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,r)},setZoomAround:function(t,r,l){var p=this.getZoomScale(r),C=this.getSize().divideBy(2),P=t instanceof rt?t:this.latLngToContainerPoint(t),z=P.subtract(C).multiplyBy(1-1/p),Y=this.containerPointToLatLng(C.add(z));return this.setView(Y,r,{zoom:l})},_getBoundsCenterZoom:function(t,r){r=r||{},t=t.getBounds?t.getBounds():oe(t);var l=Pt(r.paddingTopLeft||r.padding||[0,0]),p=Pt(r.paddingBottomRight||r.padding||[0,0]),C=this.getBoundsZoom(t,!1,l.add(p));if(C=typeof r.maxZoom=="number"?Math.min(r.maxZoom,C):C,C===1/0)return{center:t.getCenter(),zoom:C};var P=p.subtract(l).divideBy(2),z=this.project(t.getSouthWest(),C),Y=this.project(t.getNorthEast(),C),tt=this.unproject(z.add(Y).divideBy(2).add(P),C);return{center:tt,zoom:C}},fitBounds:function(t,r){if(t=oe(t),!t.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(t,r);return this.setView(l.center,l.zoom,r)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,r){return this.setView(t,this._zoom,{pan:r})},panBy:function(t,r){if(t=Pt(t).round(),r=r||{},!t.x&&!t.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ur,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){te(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,l,r.duration||.25,r.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,r,l){if(l=l||{},l.animate===!1||!Gt.any3d)return this.setView(t,r,l);this._stop();var p=this.project(this.getCenter()),C=this.project(t),P=this.getSize(),z=this._zoom;t=Nt(t),r=r===void 0?z:r;var Y=Math.max(P.x,P.y),tt=Y*this.getZoomScale(z,r),ct=C.distanceTo(p)||1,Tt=1.42,Kt=Tt*Tt;function ie(Rt){var Jn=Rt?-1:1,Xs=Rt?tt:Y,un=tt*tt-Y*Y+Jn*Kt*Kt*ct*ct,je=2*Xs*Kt*ct,es=un/je,pi=Math.sqrt(es*es+1)-es,Ei=pi<1e-9?-18:Math.log(pi);return Ei}function $e(Rt){return(Math.exp(Rt)-Math.exp(-Rt))/2}function De(Rt){return(Math.exp(Rt)+Math.exp(-Rt))/2}function wi(Rt){return $e(Rt)/De(Rt)}var si=ie(0);function Xn(Rt){return Y*(De(si)/De(si+Tt*Rt))}function Vl(Rt){return Y*(De(si)*wi(si+Tt*Rt)-$e(si))/Kt}function Ys(Rt){return 1-Math.pow(1-Rt,1.5)}var ki=Date.now(),ei=(ie(1)-si)/Tt,ca=l.duration?1e3*l.duration:1e3*ei*.8;function Mi(){var Rt=(Date.now()-ki)/ca,Jn=Ys(Rt)*ei;Rt<=1?(this._flyToFrame=ae(Mi,this),this._move(this.unproject(p.add(C.subtract(p).multiplyBy(Vl(Jn)/ct)),z),this.getScaleZoom(Y/Xn(Jn),z),{flyTo:!0})):this._move(t,r)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),Mi.call(this),this},flyToBounds:function(t,r){var l=this._getBoundsCenterZoom(t,r);return this.flyTo(l.center,l.zoom,r)},setMaxBounds:function(t){return t=oe(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var r=this.options.minZoom;return this.options.minZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var r=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,r){this._enforcingBounds=!0;var l=this.getCenter(),p=this._limitCenter(l,this._zoom,oe(t));return l.equals(p)||this.panTo(p,r),this._enforcingBounds=!1,this},panInside:function(t,r){r=r||{};var l=Pt(r.paddingTopLeft||r.padding||[0,0]),p=Pt(r.paddingBottomRight||r.padding||[0,0]),C=this.project(this.getCenter()),P=this.project(t),z=this.getPixelBounds(),Y=Ht([z.min.add(l),z.max.subtract(p)]),tt=Y.getSize();if(!Y.contains(P)){this._enforcingBounds=!0;var ct=P.subtract(Y.getCenter()),Tt=Y.extend(P).getSize().subtract(tt);C.x+=ct.x<0?-Tt.x:Tt.x,C.y+=ct.y<0?-Tt.y:Tt.y,this.panTo(this.unproject(C),r),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=m({animate:!1,pan:!0},t===!0?{animate:!0}:t);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),p=r.divideBy(2).round(),C=l.divideBy(2).round(),P=p.subtract(C);return!P.x&&!P.y?this:(t.animate&&t.pan?this.panBy(P):(t.pan&&this._rawPanBy(P),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=m({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=f(this._handleGeolocationResponse,this),l=f(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,l,t):navigator.geolocation.getCurrentPosition(r,l,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var r=t.code,l=t.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var r=t.coords.latitude,l=t.coords.longitude,p=new Ut(r,l),C=p.toBounds(t.coords.accuracy*2),P=this._locateOptions;if(P.setView){var z=this.getBoundsZoom(C);this.setView(p,P.maxZoom?Math.min(z,P.maxZoom):z)}var Y={latlng:p,bounds:C,timestamp:t.timestamp};for(var tt in t.coords)typeof t.coords[tt]=="number"&&(Y[tt]=t.coords[tt]);this.fire("locationfound",Y)}},addHandler:function(t,r){if(!r)return this;var l=this[t]=new r(this);return this._handlers.push(l),this.options[t]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Me(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ye(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Me(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,r){var l="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),p=de("div",l,r||this._mapPane);return t&&(this._panes[t]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),r=this.unproject(t.getBottomLeft()),l=this.unproject(t.getTopRight());return new le(r,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,r,l){t=oe(t),l=Pt(l||[0,0]);var p=this.getZoom()||0,C=this.getMinZoom(),P=this.getMaxZoom(),z=t.getNorthWest(),Y=t.getSouthEast(),tt=this.getSize().subtract(l),ct=Ht(this.project(Y,p),this.project(z,p)).getSize(),Tt=Gt.any3d?this.options.zoomSnap:1,Kt=tt.x/ct.x,ie=tt.y/ct.y,$e=r?Math.max(Kt,ie):Math.min(Kt,ie);return p=this.getScaleZoom($e,p),Tt&&(p=Math.round(p/(Tt/100))*(Tt/100),p=r?Math.ceil(p/Tt)*Tt:Math.floor(p/Tt)*Tt),Math.max(C,Math.min(P,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new rt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,r){var l=this._getTopLeftPoint(t,r);return new Ot(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,r){var l=this.options.crs;return r=r===void 0?this._zoom:r,l.scale(t)/l.scale(r)},getScaleZoom:function(t,r){var l=this.options.crs;r=r===void 0?this._zoom:r;var p=l.zoom(t*l.scale(r));return isNaN(p)?1/0:p},project:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(Nt(t),r)},unproject:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(Pt(t),r)},layerPointToLatLng:function(t){var r=Pt(t).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(t){var r=this.project(Nt(t))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(Nt(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(oe(t))},distance:function(t,r){return this.options.crs.distance(Nt(t),Nt(r))},containerPointToLayerPoint:function(t){return Pt(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Pt(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var r=this.containerPointToLayerPoint(Pt(t));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Nt(t)))},mouseEventToContainerPoint:function(t){return dr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var r=this._container=zo(t);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Jt(r,"scroll",this._onScroll,this),this._containerId=b(r)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Gt.any3d,te(t,"leaflet-container"+(Gt.touch?" leaflet-touch":"")+(Gt.retina?" leaflet-retina":"")+(Gt.ielt9?" leaflet-oldie":"")+(Gt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=en(t,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ae(this._mapPane,new rt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(te(t.markerPane,"leaflet-zoom-hide"),te(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,r,l){Ae(this._mapPane,new rt(0,0));var p=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var C=this._zoom!==r;this._moveStart(C,l)._move(t,r)._moveEnd(C),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(t,r){return t&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(t,r,l,p){r===void 0&&(r=this._zoom);var C=this._zoom!==r;return this._zoom=r,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),p?l&&l.pinch&&this.fire("zoom",l):((C||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ye(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ae(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[b(this._container)]=this;var r=t?_e:Jt;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),Gt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ye(this._resizeRequest),this._resizeRequest=ae(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,r){for(var l=[],p,C=r==="mouseout"||r==="mouseover",P=t.target||t.srcElement,z=!1;P;){if(p=this._targets[b(P)],p&&(r==="click"||r==="preclick")&&this._draggableMoved(p)){z=!0;break}if(p&&p.listens(r,!0)&&(C&&!Zr(P,t)||(l.push(p),C))||P===this._container)break;P=P.parentNode}return!l.length&&!z&&!C&&this.listens(r,!0)&&(l=[this]),l},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var r=t.target||t.srcElement;if(!(!this._loaded||r._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(r))){var l=t.type;l==="mousedown"&&Ps(r),this._fireDOMEvent(t,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,r,l){if(t.type==="click"){var p=m({},t);p.type="preclick",this._fireDOMEvent(p,p.type,l)}var C=this._findEventTargets(t,r);if(l){for(var P=[],z=0;z<l.length;z++)l[z].listens(r,!0)&&P.push(l[z]);C=P.concat(C)}if(C.length){r==="contextmenu"&&Ke(t);var Y=C[0],tt={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var ct=Y.getLatLng&&(!Y._radius||Y._radius<=10);tt.containerPoint=ct?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(t),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=ct?Y.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(z=0;z<C.length;z++)if(C[z].fire(r,tt,!0),tt.originalEvent._stopped||C[z].options.bubblingMouseEvents===!1&&Bt(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,r=this._handlers.length;t<r;t++)this._handlers[t].disable()},whenReady:function(t,r){return this._loaded?t.call(r||this,{target:this}):this.on("load",t,r),this},_getMapPanePos:function(){return nn(this._mapPane)||new rt(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,r){var l=t&&r!==void 0?this._getNewPixelOrigin(t,r):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,r){var l=this.getSize()._divideBy(2);return this.project(t,r)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,r,l){var p=this._getNewPixelOrigin(l,r);return this.project(t,r)._subtract(p)},_latLngBoundsToNewLayerBounds:function(t,r,l){var p=this._getNewPixelOrigin(l,r);return Ht([this.project(t.getSouthWest(),r)._subtract(p),this.project(t.getNorthWest(),r)._subtract(p),this.project(t.getSouthEast(),r)._subtract(p),this.project(t.getNorthEast(),r)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,r,l){if(!l)return t;var p=this.project(t,r),C=this.getSize().divideBy(2),P=new Ot(p.subtract(C),p.add(C)),z=this._getBoundsOffset(P,l,r);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?t:this.unproject(p.add(z),r)},_limitOffset:function(t,r){if(!r)return t;var l=this.getPixelBounds(),p=new Ot(l.min.add(t),l.max.add(t));return t.add(this._getBoundsOffset(p,r))},_getBoundsOffset:function(t,r,l){var p=Ht(this.project(r.getNorthEast(),l),this.project(r.getSouthWest(),l)),C=p.min.subtract(t.min),P=p.max.subtract(t.max),z=this._rebound(C.x,-P.x),Y=this._rebound(C.y,-P.y);return new rt(z,Y)},_rebound:function(t,r){return t+r>0?Math.round(t-r)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(r))},_limitZoom:function(t){var r=this.getMinZoom(),l=this.getMaxZoom(),p=Gt.any3d?this.options.zoomSnap:1;return p&&(t=Math.round(t/p)*p),Math.max(r,Math.min(l,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,r){var l=this._getCenterOffset(t)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,r),!0)},_createAnimProxy:function(){var t=this._proxy=de("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(r){var l=Cs,p=this._proxy.style[l];Ln(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),p===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Me(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),r=this.getZoom();Ln(this._proxy,this.project(t,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,r,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(r),C=this._getCenterOffset(t)._divideBy(1-1/p);return l.animate!==!0&&!this.getSize().contains(C)?!1:(ae(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(t,r,!0)},this),!0)},_animateZoom:function(t,r,l,p){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=r,te(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:r,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ml(t,r){return new re(t,r)}var bi=Dt.extend({options:{position:"topright"},initialize:function(t){Q(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var r=this._map;return r&&r.removeControl(this),this.options.position=t,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var r=this._container=this.onAdd(t),l=this.getPosition(),p=t._controlCorners[l];return te(r,"leaflet-control"),l.indexOf("bottom")!==-1?p.insertBefore(r,p.firstChild):p.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Me(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),pr=function(t){return new bi(t)};re.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},r="leaflet-",l=this._controlContainer=de("div",r+"control-container",this._container);function p(C,P){var z=r+C+" "+r+P;t[C+P]=de("div",z,l)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Me(this._controlCorners[t]);Me(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vr=bi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,r,l,p){return l<p?-1:p<l?1:0}},initialize:function(t,r,l){Q(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in t)this._addLayer(t[p],p);for(p in r)this._addLayer(r[p],p,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return bi.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,r){return this._addLayer(t,r),this._map?this._update():this},addOverlay:function(t,r){return this._addLayer(t,r,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var r=this._getLayer(b(t));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){te(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(te(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",r=this._container=de("div",t),l=this.options.collapsed;r.setAttribute("aria-haspopup",!0),fr(r),Os(r);var p=this._section=de("section",t+"-list");l&&(this._map.on("click",this.collapse,this),Jt(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=de("a",t+"-toggle",r);C.href="#",C.title="Layers",C.setAttribute("role","button"),Jt(C,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Ke(P),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=de("div",t+"-base",p),this._separator=de("div",t+"-separator",p),this._overlaysList=de("div",t+"-overlays",p),r.appendChild(p)},_getLayer:function(t){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&b(this._layers[r].layer)===t)return this._layers[r]},_addLayer:function(t,r,l){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:r,overlay:l}),this.options.sortLayers&&this._layers.sort(f(function(p,C){return this.options.sortFunction(p.layer,C.layer,p.name,C.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;lr(this._baseLayersList),lr(this._overlaysList),this._layerControlInputs=[];var t,r,l,p,C=0;for(l=0;l<this._layers.length;l++)p=this._layers[l],this._addItem(p),r=r||p.overlay,t=t||!p.overlay,C+=p.overlay?0:1;return this.options.hideSingleBase&&(t=t&&C>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=r&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var r=this._getLayer(b(t.target)),l=r.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;l&&this._map.fire(l,r)},_createRadioElement:function(t,r){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(r?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=l,p.firstChild},_addItem:function(t){var r=document.createElement("label"),l=this._map.hasLayer(t.layer),p;t.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=l):p=this._createRadioElement("leaflet-base-layers_"+b(this),l),this._layerControlInputs.push(p),p.layerId=b(t.layer),Jt(p,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+t.name;var P=document.createElement("span");r.appendChild(P),P.appendChild(p),P.appendChild(C);var z=t.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,r,l,p=[],C=[];this._handlingClick=!0;for(var P=t.length-1;P>=0;P--)r=t[P],l=this._getLayer(r.layerId).layer,r.checked?p.push(l):r.checked||C.push(l);for(P=0;P<C.length;P++)this._map.hasLayer(C[P])&&this._map.removeLayer(C[P]);for(P=0;P<p.length;P++)this._map.hasLayer(p[P])||this._map.addLayer(p[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,r,l,p=this._map.getZoom(),C=t.length-1;C>=0;C--)r=t[C],l=this._getLayer(r.layerId).layer,r.disabled=l.options.minZoom!==void 0&&p<l.options.minZoom||l.options.maxZoom!==void 0&&p>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Jt(t,"click",Ke),this.expand();var r=this;setTimeout(function(){_e(t,"click",Ke),r._preventClick=!1})}}),Hr=function(t,r,l){return new Vr(t,r,l)},Rs=bi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var r="leaflet-control-zoom",l=de("div",r+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,r+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,r+"-out",l,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,r,l,p,C){var P=de("a",l,p);return P.innerHTML=t,P.href="#",P.title=r,P.setAttribute("role","button"),P.setAttribute("aria-label",r),fr(P),Jt(P,"click",Cn),Jt(P,"click",C,this),Jt(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var t=this._map,r="leaflet-disabled";Be(this._zoomInButton,r),Be(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(te(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(te(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});re.mergeOptions({zoomControl:!0}),re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Rs,this.addControl(this.zoomControl))});var rn=function(t){return new Rs(t)},Is=bi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var r="leaflet-control-scale",l=de("div",r),p=this.options;return this._addScales(p,r+"-line",l),t.on(p.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),l},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,r,l){t.metric&&(this._mScale=de("div",r,l)),t.imperial&&(this._iScale=de("div",r,l))},_update:function(){var t=this._map,r=t.getSize().y/2,l=t.distance(t.containerPointToLatLng([0,r]),t.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(l)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var r=this._getRoundNum(t),l=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,l,r/t)},_updateImperial:function(t){var r=t*3.2808399,l,p,C;r>5280?(l=r/5280,p=this._getRoundNum(l),this._updateScale(this._iScale,p+" mi",p/l)):(C=this._getRoundNum(r),this._updateScale(this._iScale,C+" ft",C/r))},_updateScale:function(t,r,l){t.style.width=Math.round(this.options.maxWidth*l)+"px",t.innerHTML=r},_getRoundNum:function(t){var r=Math.pow(10,(Math.floor(t)+"").length-1),l=t/r;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,r*l}}),jn=function(t){return new Is(t)},El='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Fs=bi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Gt.inlineSvg?El+" ":"")+"Leaflet</a>"},initialize:function(t){Q(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=de("div","leaflet-control-attribution"),fr(this._container);for(var r in t._layers)t._layers[r].getAttribution&&this.addAttribution(t._layers[r].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var r in this._attributions)this._attributions[r]&&t.push(r);var l=[];this.options.prefix&&l.push(this.options.prefix),t.length&&l.push(t.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});re.mergeOptions({attributionControl:!0}),re.addInitHook(function(){this.options.attributionControl&&new Fs().addTo(this)});var Bl=function(t){return new Fs(t)};bi.Layers=Vr,bi.Zoom=Rs,bi.Scale=Is,bi.Attribution=Fs,pr.layers=Hr,pr.zoom=rn,pr.scale=jn,pr.attribution=Bl;var Zi=Dt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zi.addTo=function(t,r){return t.addHandler(r,this),this};var Pl={Events:ut},Vo=Gt.touch?"touchstart mousedown":"mousedown",sn=_t.extend({options:{clickTolerance:3},initialize:function(t,r,l,p){Q(this,p),this._element=t,this._dragStartTarget=r||t,this._preventOutline=l},enable:function(){this._enabled||(Jt(this._dragStartTarget,Vo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(sn._dragging===this&&this.finishDrag(!0),_e(this._dragStartTarget,Vo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!xs(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){sn._dragging===this&&this.finishDrag();return}if(!(sn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(sn._dragging=this,this._preventOutline&&Ps(this._element),Ms(),ur(),!this._moving)){this.fire("down");var r=t.touches?t.touches[0]:t,l=Go(this._element);this._startPoint=new rt(r.clientX,r.clientY),this._startPos=nn(this._element),this._parentScale=Ss(l);var p=t.type==="mousedown";Jt(document,p?"mousemove":"touchmove",this._onMove,this),Jt(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var r=t.touches&&t.touches.length===1?t.touches[0]:t,l=new rt(r.clientX,r.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,Ke(t),this._moved||(this.fire("dragstart"),this._moved=!0,te(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),te(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ae(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Be(document.body,"leaflet-dragging"),this._lastTarget&&(Be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_e(document,"mousemove touchmove",this._onMove,this),_e(document,"mouseup touchend touchcancel",this._onUp,this),Es(),hr();var r=this._moved&&this._moving;this._moving=!1,sn._dragging=!1,r&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Ho(t,r,l){var p,C=[1,4,2,8],P,z,Y,tt,ct,Tt,Kt,ie;for(P=0,Tt=t.length;P<Tt;P++)t[P]._code=Ci(t[P],r);for(Y=0;Y<4;Y++){for(Kt=C[Y],p=[],P=0,Tt=t.length,z=Tt-1;P<Tt;z=P++)tt=t[P],ct=t[z],tt._code&Kt?ct._code&Kt||(ie=_r(ct,tt,Kt,r,l),ie._code=Ci(ie,r),p.push(ie)):(ct._code&Kt&&(ie=_r(ct,tt,Kt,r,l),ie._code=Ci(ie,r),p.push(ie)),p.push(tt));t=p}return t}function Ko(t,r){var l,p,C,P,z,Y,tt,ct,Tt;if(!t||t.length===0)throw new Error("latlngs not passed");xi(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Kt=Nt([0,0]),ie=oe(t),$e=ie.getNorthWest().distanceTo(ie.getSouthWest())*ie.getNorthEast().distanceTo(ie.getNorthWest());$e<1700&&(Kt=Kr(t));var De=t.length,wi=[];for(l=0;l<De;l++){var si=Nt(t[l]);wi.push(r.project(Nt([si.lat-Kt.lat,si.lng-Kt.lng])))}for(Y=tt=ct=0,l=0,p=De-1;l<De;p=l++)C=wi[l],P=wi[p],z=C.y*P.x-P.y*C.x,tt+=(C.x+P.x)*z,ct+=(C.y+P.y)*z,Y+=z*3;Y===0?Tt=wi[0]:Tt=[tt/Y,ct/Y];var Xn=r.unproject(Pt(Tt));return Nt([Xn.lat+Kt.lat,Xn.lng+Kt.lng])}function Kr(t){for(var r=0,l=0,p=0,C=0;C<t.length;C++){var P=Nt(t[C]);r+=P.lat,l+=P.lng,p++}return Nt([r/p,l/p])}var Sl={__proto__:null,clipPolygon:Ho,polygonCenter:Ko,centroid:Kr};function Ge(t,r){if(!r||!t.length)return t.slice();var l=r*r;return t=Ns(t,l),t=Zn(t,l),t}function ni(t,r,l){return Math.sqrt(mr(t,r,l,!0))}function Al(t,r,l){return mr(t,r,l)}function Zn(t,r){var l=t.length,p=typeof Uint8Array<"u"?Uint8Array:Array,C=new p(l);C[0]=C[l-1]=1,on(t,C,r,0,l-1);var P,z=[];for(P=0;P<l;P++)C[P]&&z.push(t[P]);return z}function on(t,r,l,p,C){var P=0,z,Y,tt;for(Y=p+1;Y<=C-1;Y++)tt=mr(t[Y],t[p],t[C],!0),tt>P&&(z=Y,P=tt);P>l&&(r[z]=1,on(t,r,l,p,z),on(t,r,l,z,C))}function Ns(t,r){for(var l=[t[0]],p=1,C=0,P=t.length;p<P;p++)Wo(t[p],t[C])>r&&(l.push(t[p]),C=p);return C<P-1&&l.push(t[P-1]),l}var Si;function qo(t,r,l,p,C){var P=p?Si:Ci(t,l),z=Ci(r,l),Y,tt,ct;for(Si=z;;){if(!(P|z))return[t,r];if(P&z)return!1;Y=P||z,tt=_r(t,r,Y,l,C),ct=Ci(tt,l),Y===P?(t=tt,P=ct):(r=tt,z=ct)}}function _r(t,r,l,p,C){var P=r.x-t.x,z=r.y-t.y,Y=p.min,tt=p.max,ct,Tt;return l&8?(ct=t.x+P*(tt.y-t.y)/z,Tt=tt.y):l&4?(ct=t.x+P*(Y.y-t.y)/z,Tt=Y.y):l&2?(ct=tt.x,Tt=t.y+z*(tt.x-t.x)/P):l&1&&(ct=Y.x,Tt=t.y+z*(Y.x-t.x)/P),new rt(ct,Tt,C)}function Ci(t,r){var l=0;return t.x<r.min.x?l|=1:t.x>r.max.x&&(l|=2),t.y<r.min.y?l|=4:t.y>r.max.y&&(l|=8),l}function Wo(t,r){var l=r.x-t.x,p=r.y-t.y;return l*l+p*p}function mr(t,r,l,p){var C=r.x,P=r.y,z=l.x-C,Y=l.y-P,tt=z*z+Y*Y,ct;return tt>0&&(ct=((t.x-C)*z+(t.y-P)*Y)/tt,ct>1?(C=l.x,P=l.y):ct>0&&(C+=z*ct,P+=Y*ct)),z=t.x-C,Y=t.y-P,p?z*z+Y*Y:new rt(C,P)}function xi(t){return!Ct(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Yo(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),xi(t)}function gr(t,r){var l,p,C,P,z,Y,tt,ct;if(!t||t.length===0)throw new Error("latlngs not passed");xi(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Tt=Nt([0,0]),Kt=oe(t),ie=Kt.getNorthWest().distanceTo(Kt.getSouthWest())*Kt.getNorthEast().distanceTo(Kt.getNorthWest());ie<1700&&(Tt=Kr(t));var $e=t.length,De=[];for(l=0;l<$e;l++){var wi=Nt(t[l]);De.push(r.project(Nt([wi.lat-Tt.lat,wi.lng-Tt.lng])))}for(l=0,p=0;l<$e-1;l++)p+=De[l].distanceTo(De[l+1])/2;if(p===0)ct=De[0];else for(l=0,P=0;l<$e-1;l++)if(z=De[l],Y=De[l+1],C=z.distanceTo(Y),P+=C,P>p){tt=(P-p)/C,ct=[Y.x-tt*(Y.x-z.x),Y.y-tt*(Y.y-z.y)];break}var si=r.unproject(Pt(ct));return Nt([si.lat+Tt.lat,si.lng+Tt.lng])}var Xo={__proto__:null,simplify:Ge,pointToSegmentDistance:ni,closestPointOnSegment:Al,clipSegment:qo,_getEdgeIntersection:_r,_getBitCode:Ci,_sqClosestPointOnSegment:mr,isFlat:xi,_flat:Yo,polylineCenter:gr},zs={project:function(t){return new rt(t.lng,t.lat)},unproject:function(t){return new Ut(t.y,t.x)},bounds:new Ot([-180,-90],[180,90])},qr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ot([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var r=Math.PI/180,l=this.R,p=t.lat*r,C=this.R_MINOR/l,P=Math.sqrt(1-C*C),z=P*Math.sin(p),Y=Math.tan(Math.PI/4-p/2)/Math.pow((1-z)/(1+z),P/2);return p=-l*Math.log(Math.max(Y,1e-10)),new rt(t.lng*r*l,p)},unproject:function(t){for(var r=180/Math.PI,l=this.R,p=this.R_MINOR/l,C=Math.sqrt(1-p*p),P=Math.exp(-t.y/l),z=Math.PI/2-2*Math.atan(P),Y=0,tt=.1,ct;Y<15&&Math.abs(tt)>1e-7;Y++)ct=C*Math.sin(z),ct=Math.pow((1-ct)/(1+ct),C/2),tt=Math.PI/2-2*Math.atan(P*ct)-z,z+=tt;return new Ut(z*r,t.x*r/l)}},Tl={__proto__:null,LonLat:zs,Mercator:qr,SphericalMercator:It},Jo=m({},Mt,{code:"EPSG:3395",projection:qr,transformation:(function(){var t=.5/(Math.PI*qr.R);return F(t,.5,-t,.5)})()}),$o=m({},Mt,{code:"EPSG:4326",projection:zs,transformation:F(1/180,1,-1/180,.5)}),Wr=m({},st,{projection:zs,transformation:F(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,r){var l=r.lng-t.lng,p=r.lat-t.lat;return Math.sqrt(l*l+p*p)},infinite:!0});st.Earth=Mt,st.EPSG3395=Jo,st.EPSG3857=j,st.EPSG900913=W,st.EPSG4326=$o,st.Simple=Wr;var ri=_t.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[b(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[b(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var r=t.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var l=this.getEvents();r.on(l,this),this.once("remove",function(){r.off(l,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});re.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var r=b(t);return this._layers[r]?this:(this._layers[r]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var r=b(t);return this._layers[r]?(this._loaded&&t.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return b(t)in this._layers},eachLayer:function(t,r){for(var l in this._layers)t.call(r,this._layers[l]);return this},_addLayers:function(t){t=t?Ct(t)?t:[t]:[];for(var r=0,l=t.length;r<l;r++)this.addLayer(t[r])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[b(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var r=b(t);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,r=-1/0,l=this._getZoomSpan();for(var p in this._zoomBoundLayers){var C=this._zoomBoundLayers[p].options;t=C.minZoom===void 0?t:Math.min(t,C.minZoom),r=C.maxZoom===void 0?r:Math.max(r,C.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=t===1/0?void 0:t,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wi=ri.extend({initialize:function(t,r){Q(this,r),this._layers={};var l,p;if(t)for(l=0,p=t.length;l<p;l++)this.addLayer(t[l])},addLayer:function(t){var r=this.getLayerId(t);return this._layers[r]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var r=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(t){var r=typeof t=="number"?t:this.getLayerId(t);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var r=Array.prototype.slice.call(arguments,1),l,p;for(l in this._layers)p=this._layers[l],p[t]&&p[t].apply(p,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,r){for(var l in this._layers)t.call(r,this._layers[l]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return b(t)}}),Qo=function(t,r){return new Wi(t,r)},Yi=Wi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Wi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Wi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new le;for(var r in this._layers){var l=this._layers[r];t.extend(l.getBounds?l.getBounds():l.getLatLng())}return t}}),Dl=function(t,r){return new Yi(t,r)},Un=Dt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){Q(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,r){var l=this._getIconUrl(t);if(!l){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(l,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(p,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(t,r){var l=this.options,p=l[r+"Size"];typeof p=="number"&&(p=[p,p]);var C=Pt(p),P=Pt(r==="shadow"&&l.shadowAnchor||l.iconAnchor||C&&C.divideBy(2,!0));t.className="leaflet-marker-"+r+" "+(l.className||""),P&&(t.style.marginLeft=-P.x+"px",t.style.marginTop=-P.y+"px"),C&&(t.style.width=C.x+"px",t.style.height=C.y+"px")},_createImg:function(t,r){return r=r||document.createElement("img"),r.src=t,r},_getIconUrl:function(t){return Gt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Ol(t){return new Un(t)}var yr=Un.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof yr.imagePath!="string"&&(yr.imagePath=this._detectIconPath()),(this.options.imagePath||yr.imagePath)+Un.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var r=function(l,p,C){var P=p.exec(l);return P&&P[C]};return t=r(t,/^url\((['"])?(.+)\1\)$/,2),t&&r(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=de("div","leaflet-default-icon-path",document.body),r=en(t,"background-image")||en(t,"backgroundImage");if(document.body.removeChild(t),r=this._stripUrl(r),r)return r;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),ta=Zi.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new sn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),te(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var r=this._marker,l=r._map,p=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,P=nn(r._icon),z=l.getPixelBounds(),Y=l.getPixelOrigin(),tt=Ht(z.min._subtract(Y).add(C),z.max._subtract(Y).subtract(C));if(!tt.contains(P)){var ct=Pt((Math.max(tt.max.x,P.x)-tt.max.x)/(z.max.x-tt.max.x)-(Math.min(tt.min.x,P.x)-tt.min.x)/(z.min.x-tt.min.x),(Math.max(tt.max.y,P.y)-tt.max.y)/(z.max.y-tt.max.y)-(Math.min(tt.min.y,P.y)-tt.min.y)/(z.min.y-tt.min.y)).multiplyBy(p);l.panBy(ct,{animate:!1}),this._draggable._newPos._add(ct),this._draggable._startPos._add(ct),Ae(r._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=ae(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(ye(this._panRequest),this._panRequest=ae(this._adjustPan.bind(this,t)))},_onDrag:function(t){var r=this._marker,l=r._shadow,p=nn(r._icon),C=r._map.layerPointToLatLng(p);l&&Ae(l,p),r._latlng=C,t.latlng=C,t.oldLatLng=this._oldLatLng,r.fire("move",t).fire("drag",t)},_onDragEnd:function(t){ye(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),vr=ri.extend({options:{icon:new yr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,r){Q(this,r),this._latlng=Nt(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var r=this._latlng;return this._latlng=Nt(t),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=t.icon.createIcon(this._icon),p=!1;l!==this._icon&&(this._icon&&this._removeIcon(),p=!0,t.title&&(l.title=t.title),l.tagName==="IMG"&&(l.alt=t.alt||"")),te(l,r),t.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Jt(l,"focus",this._panOnFocus,this);var C=t.icon.createShadow(this._shadow),P=!1;C!==this._shadow&&(this._removeShadow(),P=!0),C&&(te(C,r),C.alt=""),this._shadow=C,t.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&P&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(this._icon,"focus",this._panOnFocus,this),Me(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Me(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ae(this._icon,t),this._shadow&&Ae(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(te(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ta)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ta(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Li(this._icon,t),this._shadow&&Li(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var r=this.options.icon.options,l=r.iconSize?Pt(r.iconSize):Pt(0,0),p=r.iconAnchor?Pt(r.iconAnchor):Pt(0,0);t.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:l.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Lr(t,r){return new vr(t,r)}var qe=ri.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return Q(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vn=qe.extend({options:{fill:!0,radius:10},initialize:function(t,r){Q(this,r),this._latlng=Nt(t),this._radius=this.options.radius},setLatLng:function(t){var r=this._latlng;return this._latlng=Nt(t),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var r=t&&t.radius||this._radius;return qe.prototype.setStyle.call(this,t),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,r=this._radiusY||t,l=this._clickTolerance(),p=[t+l,r+l];this._pxBounds=new Ot(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Yr(t,r){return new Vn(t,r)}var Gs=Vn.extend({initialize:function(t,r,l){if(typeof r=="number"&&(r=m({},l,{radius:r})),Q(this,r),this._latlng=Nt(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new le(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:qe.prototype.setStyle,_project:function(){var t=this._latlng.lng,r=this._latlng.lat,l=this._map,p=l.options.crs;if(p.distance===Mt.distance){var C=Math.PI/180,P=this._mRadius/Mt.R/C,z=l.project([r+P,t]),Y=l.project([r-P,t]),tt=z.add(Y).divideBy(2),ct=l.unproject(tt).lat,Tt=Math.acos((Math.cos(P*C)-Math.sin(r*C)*Math.sin(ct*C))/(Math.cos(r*C)*Math.cos(ct*C)))/C;(isNaN(Tt)||Tt===0)&&(Tt=P/Math.cos(Math.PI/180*r)),this._point=tt.subtract(l.getPixelOrigin()),this._radius=isNaN(Tt)?0:tt.x-l.project([ct,t-Tt]).x,this._radiusY=tt.y-z.y}else{var Kt=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(Kt).x}this._updateBounds()}});function Rl(t,r,l){return new Gs(t,r,l)}var Ai=qe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,r){Q(this,r),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var r=1/0,l=null,p=mr,C,P,z=0,Y=this._parts.length;z<Y;z++)for(var tt=this._parts[z],ct=1,Tt=tt.length;ct<Tt;ct++){C=tt[ct-1],P=tt[ct];var Kt=p(t,C,P,!0);Kt<r&&(r=Kt,l=p(t,C,P))}return l&&(l.distance=Math.sqrt(r)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,r){return r=r||this._defaultShape(),t=Nt(t),r.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new le,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return xi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var r=[],l=xi(t),p=0,C=t.length;p<C;p++)l?(r[p]=Nt(t[p]),this._bounds.extend(r[p])):r[p]=this._convertLatLngs(t[p]);return r},_project:function(){var t=new Ot;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),r=new rt(t,t);this._rawPxBounds&&(this._pxBounds=new Ot([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(t,r,l){var p=t[0]instanceof Ut,C=t.length,P,z;if(p){for(z=[],P=0;P<C;P++)z[P]=this._map.latLngToLayerPoint(t[P]),l.extend(z[P]);r.push(z)}else for(P=0;P<C;P++)this._projectLatlngs(t[P],r,l)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,l,p,C,P,z,Y,tt;for(l=0,C=0,P=this._rings.length;l<P;l++)for(tt=this._rings[l],p=0,z=tt.length;p<z-1;p++)Y=qo(tt[p],tt[p+1],t,p,!0),Y&&(r[C]=r[C]||[],r[C].push(Y[0]),(Y[1]!==tt[p+1]||p===z-2)&&(r[C].push(Y[1]),C++))}},_simplifyPoints:function(){for(var t=this._parts,r=this.options.smoothFactor,l=0,p=t.length;l<p;l++)t[l]=Ge(t[l],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,r){var l,p,C,P,z,Y,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(l=0,P=this._parts.length;l<P;l++)for(Y=this._parts[l],p=0,z=Y.length,C=z-1;p<z;C=p++)if(!(!r&&p===0)&&ni(t,Y[C],Y[p])<=tt)return!0;return!1}});function Ui(t,r){return new Ai(t,r)}Ai._flat=Yo;var xn=Ai.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ko(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var r=Ai.prototype._convertLatLngs.call(this,t),l=r.length;return l>=2&&r[0]instanceof Ut&&r[0].equals(r[l-1])&&r.pop(),r},_setLatLngs:function(t){Ai.prototype._setLatLngs.call(this,t),xi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return xi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,r=this.options.weight,l=new rt(r,r);if(t=new Ot(t.min.subtract(l),t.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,C=this._rings.length,P;p<C;p++)P=Ho(this._rings[p],t,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var r=!1,l,p,C,P,z,Y,tt,ct;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(P=0,tt=this._parts.length;P<tt;P++)for(l=this._parts[P],z=0,ct=l.length,Y=ct-1;z<ct;Y=z++)p=l[z],C=l[Y],p.y>t.y!=C.y>t.y&&t.x<(C.x-p.x)*(t.y-p.y)/(C.y-p.y)+p.x&&(r=!r);return r||Ai.prototype._containsPoint.call(this,t,!0)}});function Il(t,r){return new xn(t,r)}var Xi=Yi.extend({initialize:function(t,r){Q(this,r),this._layers={},t&&this.addData(t)},addData:function(t){var r=Ct(t)?t:t.features,l,p,C;if(r){for(l=0,p=r.length;l<p;l++)C=r[l],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var P=this.options;if(P.filter&&!P.filter(t))return this;var z=di(t,P);return z?(z.feature=Jr(t),z.defaultOptions=z.options,this.resetStyle(z),P.onEachFeature&&P.onEachFeature(t,z),this.addLayer(z)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=m({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(r){this._setLayerStyle(r,t)},this)},_setLayerStyle:function(t,r){t.setStyle&&(typeof r=="function"&&(r=r(t.feature)),t.setStyle(r))}});function di(t,r){var l=t.type==="Feature"?t.geometry:t,p=l?l.coordinates:null,C=[],P=r&&r.pointToLayer,z=r&&r.coordsToLatLng||Hn,Y,tt,ct,Tt;if(!p&&!l)return null;switch(l.type){case"Point":return Y=z(p),an(P,t,Y,r);case"MultiPoint":for(ct=0,Tt=p.length;ct<Tt;ct++)Y=z(p[ct]),C.push(an(P,t,Y,r));return new Yi(C);case"LineString":case"MultiLineString":return tt=br(p,l.type==="LineString"?0:1,z),new Ai(tt,r);case"Polygon":case"MultiPolygon":return tt=br(p,l.type==="Polygon"?1:2,z),new xn(tt,r);case"GeometryCollection":for(ct=0,Tt=l.geometries.length;ct<Tt;ct++){var Kt=di({geometry:l.geometries[ct],type:"Feature",properties:t.properties},r);Kt&&C.push(Kt)}return new Yi(C);case"FeatureCollection":for(ct=0,Tt=l.features.length;ct<Tt;ct++){var ie=di(l.features[ct],r);ie&&C.push(ie)}return new Yi(C);default:throw new Error("Invalid GeoJSON object.")}}function an(t,r,l,p){return t?t(r,l):new vr(l,p&&p.markersInheritOptions&&p)}function Hn(t){return new Ut(t[1],t[0],t[2])}function br(t,r,l){for(var p=[],C=0,P=t.length,z;C<P;C++)z=r?br(t[C],r-1,l):(l||Hn)(t[C]),p.push(z);return p}function js(t,r){return t=Nt(t),t.alt!==void 0?[O(t.lng,r),O(t.lat,r),O(t.alt,r)]:[O(t.lng,r),O(t.lat,r)]}function Xr(t,r,l,p){for(var C=[],P=0,z=t.length;P<z;P++)C.push(r?Xr(t[P],xi(t[P])?0:r-1,l,p):js(t[P],p));return!r&&l&&C.length>0&&C.push(C[0].slice()),C}function Kn(t,r){return t.feature?m({},t.feature,{geometry:r}):Jr(r)}function Jr(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Cr={toGeoJSON:function(t){return Kn(this,{type:"Point",coordinates:js(this.getLatLng(),t)})}};vr.include(Cr),Gs.include(Cr),Vn.include(Cr),Ai.include({toGeoJSON:function(t){var r=!xi(this._latlngs),l=Xr(this._latlngs,r?1:0,!1,t);return Kn(this,{type:(r?"Multi":"")+"LineString",coordinates:l})}}),xn.include({toGeoJSON:function(t){var r=!xi(this._latlngs),l=r&&!xi(this._latlngs[0]),p=Xr(this._latlngs,l?2:r?1:0,!0,t);return r||(p=[p]),Kn(this,{type:(l?"Multi":"")+"Polygon",coordinates:p})}}),Wi.include({toMultiPoint:function(t){var r=[];return this.eachLayer(function(l){r.push(l.toGeoJSON(t).geometry.coordinates)}),Kn(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(t){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(t);var l=r==="GeometryCollection",p=[];return this.eachLayer(function(C){if(C.toGeoJSON){var P=C.toGeoJSON(t);if(l)p.push(P.geometry);else{var z=Jr(P);z.type==="FeatureCollection"?p.push.apply(p,z.features):p.push(z)}}}),l?Kn(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function ea(t,r){return new Xi(t,r)}var Fl=ea,$r=ri.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,r,l){this._url=t,this._bounds=oe(r),Q(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(te(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Me(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&zn(this._image),this},bringToBack:function(){return this._map&&Gn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=oe(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",r=this._image=t?this._url:de("img");if(te(r,"leaflet-image-layer"),this._zoomAnimated&&te(r,"leaflet-zoom-animated"),this.options.className&&te(r,this.options.className),r.onselectstart=E,r.onmousemove=E,r.onload=f(this.fire,this,"load"),r.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(t){var r=this._map.getZoomScale(t.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ln(this._image,l,r)},_reset:function(){var t=this._image,r=new Ot(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=r.getSize();Ae(t,r.min),t.style.width=l.x+"px",t.style.height=l.y+"px"},_updateOpacity:function(){Li(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),ia=function(t,r,l){return new $r(t,r,l)},na=$r.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",r=this._image=t?this._url:de("video");if(te(r,"leaflet-image-layer"),this._zoomAnimated&&te(r,"leaflet-zoom-animated"),this.options.className&&te(r,this.options.className),r.onselectstart=E,r.onmousemove=E,r.onloadeddata=f(this.fire,this,"load"),t){for(var l=r.getElementsByTagName("source"),p=[],C=0;C<l.length;C++)p.push(l[C].src);this._url=l.length>0?p:[r.src];return}Ct(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var z=de("source");z.src=this._url[P],r.appendChild(z)}}});function Nl(t,r,l){return new na(t,r,l)}var Zs=$r.extend({_initImage:function(){var t=this._image=this._url;te(t,"leaflet-image-layer"),this._zoomAnimated&&te(t,"leaflet-zoom-animated"),this.options.className&&te(t,this.options.className),t.onselectstart=E,t.onmousemove=E}});function ra(t,r,l){return new Zs(t,r,l)}var Ti=ri.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,r){t&&(t instanceof Ut||Ct(t))?(this._latlng=Nt(t),Q(this,r)):(Q(this,t),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Li(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Li(this._container,1),this.bringToFront(),this.options.interactive&&(te(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Li(this._container,0),this._removeTimeout=setTimeout(f(Me,void 0,this._container),200)):Me(this._container),this.options.interactive&&(Be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=Nt(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zn(this._container),this},bringToBack:function(){return this._map&&Gn(this._container),this},_prepareOpen:function(t){var r=this._source;if(!r._map)return!1;if(r instanceof Yi){r=null;var l=this._source._layers;for(var p in l)if(l[p]._map){r=l[p];break}if(!r)return!1;this._source=r}if(!t)if(r.getCenter)t=r.getCenter();else if(r.getLatLng)t=r.getLatLng();else if(r.getBounds)t=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")t.innerHTML=r;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),r=Pt(this.options.offset),l=this._getAnchor();this._zoomAnimated?Ae(this._container,t.add(l)):r=r.add(t).add(l);var p=this._containerBottom=-r.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=p+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});re.include({_initOverlay:function(t,r,l,p){var C=r;return C instanceof t||(C=new t(p).setContent(r)),l&&C.setLatLng(l),C}}),ri.include({_initOverlay:function(t,r,l,p){var C=l;return C instanceof t?(Q(C,p),C._source=this):(C=r&&!p?r:new t(p,this),C.setContent(l)),C}});var Qr=Ti.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ti.prototype.openOn.call(this,t)},onAdd:function(t){Ti.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof qe||this._source.on("preclick",bn))},onRemove:function(t){Ti.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof qe||this._source.off("preclick",bn))},getEvents:function(){var t=Ti.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",r=this._container=de("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=de("div",t+"-content-wrapper",r);if(this._contentNode=de("div",t+"-content",l),fr(r),Os(this._contentNode),Jt(r,"contextmenu",bn),this._tipContainer=de("div",t+"-tip-container",r),this._tip=de("div",t+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=de("a",t+"-close-button",r);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Jt(p,"click",function(C){Ke(C),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,r=t.style;r.width="",r.whiteSpace="nowrap";var l=t.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),r.width=l+1+"px",r.whiteSpace="",r.height="";var p=t.offsetHeight,C=this.options.maxHeight,P="leaflet-popup-scrolled";C&&p>C?(r.height=C+"px",te(t,P)):Be(t,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),l=this._getAnchor();Ae(this._container,r.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,r=parseInt(en(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+r,p=this._containerWidth,C=new rt(this._containerLeft,-l-this._containerBottom);C._add(nn(this._container));var P=t.layerPointToContainerPoint(C),z=Pt(this.options.autoPanPadding),Y=Pt(this.options.autoPanPaddingTopLeft||z),tt=Pt(this.options.autoPanPaddingBottomRight||z),ct=t.getSize(),Tt=0,Kt=0;P.x+p+tt.x>ct.x&&(Tt=P.x+p-ct.x+tt.x),P.x-Tt-Y.x<0&&(Tt=P.x-Y.x),P.y+l+tt.y>ct.y&&(Kt=P.y+l-ct.y+tt.y),P.y-Kt-Y.y<0&&(Kt=P.y-Y.y),(Tt||Kt)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Tt,Kt]))}},_getAnchor:function(){return Pt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),wn=function(t,r){return new Qr(t,r)};re.mergeOptions({closePopupOnClick:!0}),re.include({openPopup:function(t,r,l){return this._initOverlay(Qr,t,r,l).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),ri.include({bindPopup:function(t,r){return this._popup=this._initOverlay(Qr,this._popup,t,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Yi||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Cn(t);var r=t.layer||t.target;if(this._popup._source===r&&!(r instanceof qe)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=r,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ln=Ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ti.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ti.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ti.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",r=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=de("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var r,l,p=this._map,C=this._container,P=p.latLngToContainerPoint(p.getCenter()),z=p.layerPointToContainerPoint(t),Y=this.options.direction,tt=C.offsetWidth,ct=C.offsetHeight,Tt=Pt(this.options.offset),Kt=this._getAnchor();Y==="top"?(r=tt/2,l=ct):Y==="bottom"?(r=tt/2,l=0):Y==="center"?(r=tt/2,l=ct/2):Y==="right"?(r=0,l=ct/2):Y==="left"?(r=tt,l=ct/2):z.x<P.x?(Y="right",r=0,l=ct/2):(Y="left",r=tt+(Tt.x+Kt.x)*2,l=ct/2),t=t.subtract(Pt(r,l,!0)).add(Tt).add(Kt),Be(C,"leaflet-tooltip-right"),Be(C,"leaflet-tooltip-left"),Be(C,"leaflet-tooltip-top"),Be(C,"leaflet-tooltip-bottom"),te(C,"leaflet-tooltip-"+Y),Ae(C,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Li(this._container,t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(r)},_getAnchor:function(){return Pt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),zl=function(t,r){return new ln(t,r)};re.include({openTooltip:function(t,r,l){return this._initOverlay(ln,t,r,l).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),ri.include({bindTooltip:function(t,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ln,this._tooltip,t,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var r=t?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[r](l),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Yi||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var r=typeof t.getElement=="function"&&t.getElement();r&&(Jt(r,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Jt(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var r=typeof t.getElement=="function"&&t.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var r=t.latlng,l,p;this._tooltip.options.sticky&&t.originalEvent&&(l=this._map.mouseEventToContainerPoint(t.originalEvent),p=this._map.containerPointToLayerPoint(l),r=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(r)}});var Us=Un.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var r=t&&t.tagName==="DIV"?t:document.createElement("div"),l=this.options;if(l.html instanceof Element?(lr(r),r.appendChild(l.html)):r.innerHTML=l.html!==!1?l.html:"",l.bgPos){var p=Pt(l.bgPos);r.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Vs(t){return new Us(t)}Un.Default=yr;var xr=ri.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Gt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){Q(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Me(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=k(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof rt?t:new rt(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var r=this.getPane().children,l=-t(-1/0,1/0),p=0,C=r.length,P;p<C;p++)P=r[p].style.zIndex,r[p]!==this._container&&P&&(l=t(l,+P));isFinite(l)&&(this.options.zIndex=l+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Gt.ielt9){Li(this._container,this.options.opacity);var t=+new Date,r=!1,l=!1;for(var p in this._tiles){var C=this._tiles[p];if(!(!C.current||!C.loaded)){var P=Math.min(1,(t-C.loaded)/200);Li(C.el,P),P<1?r=!0:(C.active?l=!0:this._onOpaqueTile(C),C.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),r&&(ye(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=de("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,r=this.options.maxZoom;if(t!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===t?(this._levels[l].el.style.zIndex=r-Math.abs(t-l),this._onUpdateLevel(l)):(Me(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var p=this._levels[t],C=this._map;return p||(p=this._levels[t]={},p.el=de("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=r,p.origin=C.project(C.unproject(C.getPixelOrigin()),t).round(),p.zoom=t,this._setZoomTransform(p,C.getCenter(),C.getZoom()),E(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var t,r,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)r=this._tiles[t],r.retain=r.current;for(t in this._tiles)if(r=this._tiles[t],r.current&&!r.active){var p=r.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var r in this._tiles)this._tiles[r].coords.z===t&&this._removeTile(r)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Me(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,r,l,p){var C=Math.floor(t/2),P=Math.floor(r/2),z=l-1,Y=new rt(+C,+P);Y.z=+z;var tt=this._tileCoordsToKey(Y),ct=this._tiles[tt];return ct&&ct.active?(ct.retain=!0,!0):(ct&&ct.loaded&&(ct.retain=!0),z>p?this._retainParent(C,P,z,p):!1)},_retainChildren:function(t,r,l,p){for(var C=2*t;C<2*t+2;C++)for(var P=2*r;P<2*r+2;P++){var z=new rt(C,P);z.z=l+1;var Y=this._tileCoordsToKey(z),tt=this._tiles[Y];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);l+1<p&&this._retainChildren(C,P,l+1,p)}},_resetView:function(t){var r=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var r=this.options;return r.minNativeZoom!==void 0&&t<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<t?r.maxNativeZoom:t},_setView:function(t,r,l,p){var C=Math.round(r);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var P=this.options.updateWhenZooming&&C!==this._tileZoom;(!p||P)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(t),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(t,r)},_setZoomTransforms:function(t,r){for(var l in this._levels)this._setZoomTransform(this._levels[l],t,r)},_setZoomTransform:function(t,r,l){var p=this._map.getZoomScale(l,t.zoom),C=t.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(r,l)).round();Gt.any3d?Ln(t.el,C,p):Ae(t.el,C)},_resetGrid:function(){var t=this._map,r=t.options.crs,l=this._tileSize=this.getTileSize(),p=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,r.wrapLng[0]],p).x/l.x),Math.ceil(t.project([0,r.wrapLng[1]],p).x/l.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([r.wrapLat[0],0],p).y/l.x),Math.ceil(t.project([r.wrapLat[1],0],p).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var r=this._map,l=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),p=r.getZoomScale(l,this._tileZoom),C=r.project(t,this._tileZoom).floor(),P=r.getSize().divideBy(p*2);return new Ot(C.subtract(P),C.add(P))},_update:function(t){var r=this._map;if(r){var l=this._clampZoom(r.getZoom());if(t===void 0&&(t=r.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(t),C=this._pxBoundsToTileRange(p),P=C.getCenter(),z=[],Y=this.options.keepBuffer,tt=new Ot(C.getBottomLeft().subtract([Y,-Y]),C.getTopRight().add([Y,-Y]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ct in this._tiles){var Tt=this._tiles[ct].coords;(Tt.z!==this._tileZoom||!tt.contains(new rt(Tt.x,Tt.y)))&&(this._tiles[ct].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(t,l);return}for(var Kt=C.min.y;Kt<=C.max.y;Kt++)for(var ie=C.min.x;ie<=C.max.x;ie++){var $e=new rt(ie,Kt);if($e.z=this._tileZoom,!!this._isValidTile($e)){var De=this._tiles[this._tileCoordsToKey($e)];De?De.current=!0:z.push($e)}}if(z.sort(function(si,Xn){return si.distanceTo(P)-Xn.distanceTo(P)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wi=document.createDocumentFragment();for(ie=0;ie<z.length;ie++)this._addTile(z[ie],wi);this._level.el.appendChild(wi)}}}},_isValidTile:function(t){var r=this._map.options.crs;if(!r.infinite){var l=this._globalTileRange;if(!r.wrapLng&&(t.x<l.min.x||t.x>l.max.x)||!r.wrapLat&&(t.y<l.min.y||t.y>l.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(t);return oe(this.options.bounds).overlaps(p)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var r=this._map,l=this.getTileSize(),p=t.scaleBy(l),C=p.add(l),P=r.unproject(p,t.z),z=r.unproject(C,t.z);return[P,z]},_tileCoordsToBounds:function(t){var r=this._tileCoordsToNwSe(t),l=new le(r[0],r[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var r=t.split(":"),l=new rt(+r[0],+r[1]);return l.z=+r[2],l},_removeTile:function(t){var r=this._tiles[t];r&&(Me(r.el),delete this._tiles[t],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){te(t,"leaflet-tile");var r=this.getTileSize();t.style.width=r.x+"px",t.style.height=r.y+"px",t.onselectstart=E,t.onmousemove=E,Gt.ielt9&&this.options.opacity<1&&Li(t,this.options.opacity)},_addTile:function(t,r){var l=this._getTilePos(t),p=this._tileCoordsToKey(t),C=this.createTile(this._wrapCoords(t),f(this._tileReady,this,t));this._initTile(C),this.createTile.length<2&&ae(f(this._tileReady,this,t,null,C)),Ae(C,l),this._tiles[p]={el:C,coords:t,current:!0},r.appendChild(C),this.fire("tileloadstart",{tile:C,coords:t})},_tileReady:function(t,r,l){r&&this.fire("tileerror",{error:r,tile:l,coords:t});var p=this._tileCoordsToKey(t);l=this._tiles[p],l&&(l.loaded=+new Date,this._map._fadeAnimated?(Li(l.el,0),ye(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),r||(te(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Gt.ielt9||!this._map._fadeAnimated?ae(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var r=new rt(this._wrapX?M(t.x,this._wrapX):t.x,this._wrapY?M(t.y,this._wrapY):t.y);return r.z=t.z,r},_pxBoundsToTileRange:function(t){var r=this.getTileSize();return new Ot(t.min.unscaleBy(r).floor(),t.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Gl(t){return new xr(t)}var qn=xr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,r){this._url=t,r=Q(this,r),r.detectRetina&&Gt.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,r){return this._url===t&&r===void 0&&(r=!0),this._url=t,r||this.redraw(),this},createTile:function(t,r){var l=document.createElement("img");return Jt(l,"load",f(this._tileOnLoad,this,r,l)),Jt(l,"error",f(this._tileOnError,this,r,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(t),l},getTileUrl:function(t){var r={r:Gt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-t.y;this.options.tms&&(r.y=l),r["-y"]=l}return mt(this._url,m(r,this.options))},_tileOnLoad:function(t,r){Gt.ielt9?setTimeout(f(t,this,null,r),0):t(null,r)},_tileOnError:function(t,r,l){var p=this.options.errorTileUrl;p&&r.getAttribute("src")!==p&&(r.src=p),t(l,r)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,r=this.options.maxZoom,l=this.options.zoomReverse,p=this.options.zoomOffset;return l&&(t=r-t),t+p},_getSubdomain:function(t){var r=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var t,r;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(r=this._tiles[t].el,r.onload=E,r.onerror=E,!r.complete)){r.src=qt;var l=this._tiles[t].coords;Me(r),delete this._tiles[t],this.fire("tileabort",{tile:r,coords:l})}},_removeTile:function(t){var r=this._tiles[t];if(r)return r.el.setAttribute("src",qt),xr.prototype._removeTile.call(this,t)},_tileReady:function(t,r,l){if(!(!this._map||l&&l.getAttribute("src")===qt))return xr.prototype._tileReady.call(this,t,r,l)}});function Hs(t,r){return new qn(t,r)}var ts=qn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,r){this._url=t;var l=m({},this.defaultWmsParams);for(var p in r)p in this.options||(l[p]=r[p]);r=Q(this,r);var C=r.detectRetina&&Gt.retina?2:1,P=this.getTileSize();l.width=P.x*C,l.height=P.y*C,this.wmsParams=l},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,qn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var r=this._tileCoordsToNwSe(t),l=this._crs,p=Ht(l.project(r[0]),l.project(r[1])),C=p.min,P=p.max,z=(this._wmsVersion>=1.3&&this._crs===$o?[C.y,C.x,P.y,P.x]:[C.x,C.y,P.x,P.y]).join(","),Y=qn.prototype.getTileUrl.call(this,t);return Y+Et(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(t,r){return m(this.wmsParams,t),r||this.redraw(),this}});function sa(t,r){return new ts(t,r)}qn.WMS=ts,Hs.wms=sa;var Di=ri.extend({options:{padding:.1},initialize:function(t){Q(this,t),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),te(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,r){var l=this._map.getZoomScale(r,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,r),P=p.multiplyBy(-l).add(C).subtract(this._map._getNewPixelOrigin(t,r));Gt.any3d?Ln(this._container,P,l):Ae(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,r=this._map.getSize(),l=this._map.containerPointToLayerPoint(r.multiplyBy(-t)).round();this._bounds=new Ot(l,l.add(r.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),oa=Di.extend({options:{tolerance:0},getEvents:function(){var t=Di.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Di.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Jt(t,"mousemove",this._onMouseMove,this),Jt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Jt(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){ye(this._redrawRequest),delete this._ctx,Me(this._container),_e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var r in this._layers)t=this._layers[r],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Di.prototype._update.call(this);var t=this._bounds,r=this._container,l=t.getSize(),p=Gt.retina?2:1;Ae(r,t.min),r.width=p*l.x,r.height=p*l.y,r.style.width=l.x+"px",r.style.height=l.y+"px",Gt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Di.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[b(t)]=t;var r=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var r=t._order,l=r.next,p=r.prev;l?l.prev=p:this._drawLast=p,p?p.next=l:this._drawFirst=l,delete t._order,delete this._layers[b(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var r=t.options.dashArray.split(/[, ]+/),l=[],p,C;for(C=0;C<r.length;C++){if(p=Number(r[C]),isNaN(p))return;l.push(p)}t.options._dashArray=l}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||ae(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var r=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ot,this._redrawBounds.extend(t._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(t._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var r=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,r=this._redrawBounds;if(this._ctx.save(),r){var l=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)t=p.layer,(!r||t._pxBounds&&t._pxBounds.intersects(r))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,r){if(this._drawing){var l,p,C,P,z=t._parts,Y=z.length,tt=this._ctx;if(Y){for(tt.beginPath(),l=0;l<Y;l++){for(p=0,C=z[l].length;p<C;p++)P=z[l][p],tt[p?"lineTo":"moveTo"](P.x,P.y);r&&tt.closePath()}this._fillStroke(tt,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var r=t._point,l=this._ctx,p=Math.max(Math.round(t._radius),1),C=(Math.max(Math.round(t._radiusY),1)||p)/p;C!==1&&(l.save(),l.scale(1,C)),l.beginPath(),l.arc(r.x,r.y/C,p,0,Math.PI*2,!1),C!==1&&l.restore(),this._fillStroke(l,t)}},_fillStroke:function(t,r){var l=r.options;l.fill&&(t.globalAlpha=l.fillOpacity,t.fillStyle=l.fillColor||l.color,t.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(t.setLineDash&&t.setLineDash(r.options&&r.options._dashArray||[]),t.globalAlpha=l.opacity,t.lineWidth=l.weight,t.strokeStyle=l.color,t.lineCap=l.lineCap,t.lineJoin=l.lineJoin,t.stroke())},_onClick:function(t){for(var r=this._map.mouseEventToLayerPoint(t),l,p,C=this._drawFirst;C;C=C.next)l=C.layer,l.options.interactive&&l._containsPoint(r)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(l))&&(p=l);this._fireEvent(p?[p]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,r)}},_handleMouseOut:function(t){var r=this._hoveredLayer;r&&(Be(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,r){if(!this._mouseHoverThrottled){for(var l,p,C=this._drawFirst;C;C=C.next)l=C.layer,l.options.interactive&&l._containsPoint(r)&&(p=l);p!==this._hoveredLayer&&(this._handleMouseOut(t),p&&(te(this._container,"leaflet-interactive"),this._fireEvent([p],t,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,r,l){this._map._fireDOMEvent(r,l||r.type,t)},_bringToFront:function(t){var r=t._order;if(r){var l=r.next,p=r.prev;if(l)l.prev=p;else return;p?p.next=l:l&&(this._drawFirst=l),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(t)}},_bringToBack:function(t){var r=t._order;if(r){var l=r.next,p=r.prev;if(p)p.next=l;else return;l?l.prev=p:p&&(this._drawLast=p),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(t)}}});function Vi(t){return Gt.canvas?new oa(t):null}var Te=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),jl={_initContainer:function(){this._container=de("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Di.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var r=t._container=Te("shape");te(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",t._path=Te("path"),r.appendChild(t._path),this._updateStyle(t),this._layers[b(t)]=t},_addPath:function(t){var r=t._container;this._container.appendChild(r),t.options.interactive&&t.addInteractiveTarget(r)},_removePath:function(t){var r=t._container;Me(r),t.removeInteractiveTarget(r),delete this._layers[b(t)]},_updateStyle:function(t){var r=t._stroke,l=t._fill,p=t.options,C=t._container;C.stroked=!!p.stroke,C.filled=!!p.fill,p.stroke?(r||(r=t._stroke=Te("stroke")),C.appendChild(r),r.weight=p.weight+"px",r.color=p.color,r.opacity=p.opacity,p.dashArray?r.dashStyle=Ct(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=p.lineCap.replace("butt","flat"),r.joinstyle=p.lineJoin):r&&(C.removeChild(r),t._stroke=null),p.fill?(l||(l=t._fill=Te("fill")),C.appendChild(l),l.color=p.fillColor||p.color,l.opacity=p.fillOpacity):l&&(C.removeChild(l),t._fill=null)},_updateCircle:function(t){var r=t._point.round(),l=Math.round(t._radius),p=Math.round(t._radiusY||l);this._setPath(t,t._empty()?"M0 0":"AL "+r.x+","+r.y+" "+l+","+p+" 0,"+65535*360)},_setPath:function(t,r){t._path.v=r},_bringToFront:function(t){zn(t._container)},_bringToBack:function(t){Gn(t._container)}},Wn=Gt.vml?Te:ot,wr=Di.extend({_initContainer:function(){this._container=Wn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Me(this._container),_e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Di.prototype._update.call(this);var t=this._bounds,r=t.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,l.setAttribute("width",r.x),l.setAttribute("height",r.y)),Ae(l,t.min),l.setAttribute("viewBox",[t.min.x,t.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(t){var r=t._path=Wn("path");t.options.className&&te(r,t.options.className),t.options.interactive&&te(r,"leaflet-interactive"),this._updateStyle(t),this._layers[b(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Me(t._path),t.removeInteractiveTarget(t._path),delete this._layers[b(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var r=t._path,l=t.options;r&&(l.stroke?(r.setAttribute("stroke",l.color),r.setAttribute("stroke-opacity",l.opacity),r.setAttribute("stroke-width",l.weight),r.setAttribute("stroke-linecap",l.lineCap),r.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?r.setAttribute("stroke-dasharray",l.dashArray):r.removeAttribute("stroke-dasharray"),l.dashOffset?r.setAttribute("stroke-dashoffset",l.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),l.fill?(r.setAttribute("fill",l.fillColor||l.color),r.setAttribute("fill-opacity",l.fillOpacity),r.setAttribute("fill-rule",l.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(t,r){this._setPath(t,lt(t._parts,r))},_updateCircle:function(t){var r=t._point,l=Math.max(Math.round(t._radius),1),p=Math.max(Math.round(t._radiusY),1)||l,C="a"+l+","+p+" 0 1,0 ",P=t._empty()?"M0 0":"M"+(r.x-l)+","+r.y+C+l*2+",0 "+C+-l*2+",0 ";this._setPath(t,P)},_setPath:function(t,r){t._path.setAttribute("d",r)},_bringToFront:function(t){zn(t._path)},_bringToBack:function(t){Gn(t._path)}});Gt.vml&&wr.include(jl);function Yn(t){return Gt.svg||Gt.vml?new wr(t):null}re.include({getRenderer:function(t){var r=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var r=this._paneRenderers[t];return r===void 0&&(r=this._createRenderer({pane:t}),this._paneRenderers[t]=r),r},_createRenderer:function(t){return this.options.preferCanvas&&Vi(t)||Yn(t)}});var aa=xn.extend({initialize:function(t,r){xn.prototype.initialize.call(this,this._boundsToLatLngs(t),r)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=oe(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Zl(t,r){return new aa(t,r)}wr.create=Wn,wr.pointsToPath=lt,Xi.geometryToLayer=di,Xi.coordsToLatLng=Hn,Xi.coordsToLatLngs=br,Xi.latLngToCoords=js,Xi.latLngsToCoords=Xr,Xi.getFeature=Kn,Xi.asFeature=Jr,re.mergeOptions({boxZoom:!0});var la=Zi.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Jt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Me(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ur(),Ms(),this._startPoint=this._map.mouseEventToContainerPoint(t),Jt(document,{contextmenu:Cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=de("div","leaflet-zoom-box",this._container),te(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var r=new Ot(this._point,this._startPoint),l=r.getSize();Ae(this._box,r.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Me(this._box),Be(this._container,"leaflet-crosshair")),hr(),Es(),_e(document,{contextmenu:Cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var r=new le(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});re.addInitHook("addHandler","boxZoom",la),re.mergeOptions({doubleClickZoom:!0});var kn=Zi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var r=this._map,l=r.getZoom(),p=r.options.zoomDelta,C=t.originalEvent.shiftKey?l-p:l+p;r.options.doubleClickZoom==="center"?r.setZoom(C):r.setZoomAround(t.containerPoint,C)}});re.addInitHook("addHandler","doubleClickZoom",kn),re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ks=Zi.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new sn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}te(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Be(this._map._container,"leaflet-grab"),Be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=oe(this._map.options.maxBounds);this._offsetLimit=Ht(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var r=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(r),this._prunePositions(r)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,r){return t-(t-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;t.x<r.min.x&&(t.x=this._viscousLimit(t.x,r.min.x)),t.y<r.min.y&&(t.y=this._viscousLimit(t.y,r.min.y)),t.x>r.max.x&&(t.x=this._viscousLimit(t.x,r.max.x)),t.y>r.max.y&&(t.y=this._viscousLimit(t.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,r=Math.round(t/2),l=this._initialWorldOffset,p=this._draggable._newPos.x,C=(p-r+l)%t+r-l,P=(p+r+l)%t-r-l,z=Math.abs(C+l)<Math.abs(P+l)?C:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(t){var r=this._map,l=r.options,p=!l.inertia||t.noInertia||this._times.length<2;if(r.fire("dragend",t),p)r.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,z=l.easeLinearity,Y=C.multiplyBy(z/P),tt=Y.distanceTo([0,0]),ct=Math.min(l.inertiaMaxSpeed,tt),Tt=Y.multiplyBy(ct/tt),Kt=ct/(l.inertiaDeceleration*z),ie=Tt.multiplyBy(-Kt/2).round();!ie.x&&!ie.y?r.fire("moveend"):(ie=r._limitOffset(ie,r.options.maxBounds),ae(function(){r.panBy(ie,{duration:Kt,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});re.addInitHook("addHandler","dragging",Ks),re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qs=Zi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Jt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,r=document.documentElement,l=t.scrollTop||r.scrollTop,p=t.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(p,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var r=this._panKeys={},l=this.keyCodes,p,C;for(p=0,C=l.left.length;p<C;p++)r[l.left[p]]=[-1*t,0];for(p=0,C=l.right.length;p<C;p++)r[l.right[p]]=[t,0];for(p=0,C=l.down.length;p<C;p++)r[l.down[p]]=[0,t];for(p=0,C=l.up.length;p<C;p++)r[l.up[p]]=[0,-1*t]},_setZoomDelta:function(t){var r=this._zoomKeys={},l=this.keyCodes,p,C;for(p=0,C=l.zoomIn.length;p<C;p++)r[l.zoomIn[p]]=t;for(p=0,C=l.zoomOut.length;p<C;p++)r[l.zoomOut[p]]=-t},_addHooks:function(){Jt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var r=t.keyCode,l=this._map,p;if(r in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(p=this._panKeys[r],t.shiftKey&&(p=Pt(p).multiplyBy(3)),l.options.maxBounds&&(p=l._limitOffset(Pt(p),l.options.maxBounds)),l.options.worldCopyJump){var C=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(p)));l.panTo(C)}else l.panBy(p)}else if(r in this._zoomKeys)l.setZoom(l.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;Cn(t)}}});re.addInitHook("addHandler","keyboard",qs),re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ws=Zi.extend({addHooks:function(){Jt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var r=Uo(t),l=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var p=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),p),Cn(t)},_performZoom:function(){var t=this._map,r=t.getZoom(),l=this._map.options.zoomSnap||0;t._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,P=l?Math.ceil(C/l)*l:C,z=t._limitZoom(r+(this._delta>0?P:-P))-r;this._delta=0,this._startTime=null,z&&(t.options.scrollWheelZoom==="center"?t.setZoom(r+z):t.setZoomAround(this._lastMousePos,r+z))}});re.addInitHook("addHandler","scrollWheelZoom",Ws);var ti=600;re.mergeOptions({tapHold:Gt.touchNative&&Gt.safari&&Gt.mobile,tapTolerance:15});var ua=Zi.extend({addHooks:function(){Jt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var r=t.touches[0];this._startPos=this._newPos=new rt(r.clientX,r.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Jt(document,"touchend",Ke),Jt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),ti),Jt(document,"touchend touchcancel contextmenu",this._cancel,this),Jt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){_e(document,"touchend",Ke),_e(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)},_onMove:function(t){var r=t.touches[0];this._newPos=new rt(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,r){var l=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});l._simulated=!0,r.target.dispatchEvent(l)}});re.addInitHook("addHandler","tapHold",ua),re.mergeOptions({touchZoom:Gt.touch,bounceAtZoomLimits:!0});var ha=Zi.extend({addHooks:function(){te(this._map._container,"leaflet-touch-zoom"),Jt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Be(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var r=this._map;if(!(!t.touches||t.touches.length!==2||r._animatingZoom||this._zooming)){var l=r.mouseEventToContainerPoint(t.touches[0]),p=r.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(l.add(p)._divideBy(2))),this._startDist=l.distanceTo(p),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Jt(document,"touchmove",this._onTouchMove,this),Jt(document,"touchend touchcancel",this._onTouchEnd,this),Ke(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var r=this._map,l=r.mouseEventToContainerPoint(t.touches[0]),p=r.mouseEventToContainerPoint(t.touches[1]),C=l.distanceTo(p)/this._startDist;if(this._zoom=r.getScaleZoom(C,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&C<1||this._zoom>r.getMaxZoom()&&C>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var P=l._add(p)._divideBy(2)._subtract(this._centerPoint);if(C===1&&P.x===0&&P.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),ye(this._animRequest);var z=f(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ae(z,this,!0),Ke(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ye(this._animRequest),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});re.addInitHook("addHandler","touchZoom",ha),re.BoxZoom=la,re.DoubleClickZoom=kn,re.Drag=Ks,re.Keyboard=qs,re.ScrollWheelZoom=Ws,re.TapHold=ua,re.TouchZoom=ha,u.Bounds=Ot,u.Browser=Gt,u.CRS=st,u.Canvas=oa,u.Circle=Gs,u.CircleMarker=Vn,u.Class=Dt,u.Control=bi,u.DivIcon=Us,u.DivOverlay=Ti,u.DomEvent=he,u.DomUtil=wl,u.Draggable=sn,u.Evented=_t,u.FeatureGroup=Yi,u.GeoJSON=Xi,u.GridLayer=xr,u.Handler=Zi,u.Icon=Un,u.ImageOverlay=$r,u.LatLng=Ut,u.LatLngBounds=le,u.Layer=ri,u.LayerGroup=Wi,u.LineUtil=Xo,u.Map=re,u.Marker=vr,u.Mixin=Pl,u.Path=qe,u.Point=rt,u.PolyUtil=Sl,u.Polygon=xn,u.Polyline=Ai,u.Popup=Qr,u.PosAnimation=Ur,u.Projection=Tl,u.Rectangle=aa,u.Renderer=Di,u.SVG=wr,u.SVGOverlay=Zs,u.TileLayer=qn,u.Tooltip=ln,u.Transformation=Wt,u.Util=Je,u.VideoOverlay=na,u.bind=f,u.bounds=Ht,u.canvas=Vi,u.circle=Rl,u.circleMarker=Yr,u.control=pr,u.divIcon=Vs,u.extend=m,u.featureGroup=Dl,u.geoJSON=ea,u.geoJson=Fl,u.gridLayer=Gl,u.icon=Ol,u.imageOverlay=ia,u.latLng=Nt,u.latLngBounds=oe,u.layerGroup=Qo,u.map=Ml,u.marker=Lr,u.point=Pt,u.polygon=Il,u.polyline=Ui,u.popup=wn,u.rectangle=Zl,u.setOptions=Q,u.stamp=b,u.svg=Yn,u.svgOverlay=ra,u.tileLayer=Hs,u.tooltip=zl,u.transformation=F,u.version=_,u.videoOverlay=Nl;var Ul=window.L;u.noConflict=function(){return window.L=Ul,this},window.L=u}))})(oo,oo.exports)),oo.exports}var ig=eg();const pe=Qm(ig);var sc={},oc;function ng(){return oc||(oc=1,(()=>{var n=Object.create,o=Object.defineProperty,u=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,m=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,f=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports),y=(e,i,s,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let h of _(i))!c.call(e,h)&&h!==s&&o(e,h,{get:()=>i[h],enumerable:!(a=u(i,h))||a.enumerable});return e},b=(e,i,s)=>(s=e!=null?n(m(e)):{},y(i||!e||!e.__esModule?o(s,"default",{value:e,enumerable:!0}):s,e)),k=f((e,i)=>{function s(){this.__data__=[],this.size=0}i.exports=s}),M=f((e,i)=>{function s(a,h){return a===h||a!==a&&h!==h}i.exports=s}),E=f((e,i)=>{var s=M();function a(h,d){for(var g=h.length;g--;)if(s(h[g][0],d))return g;return-1}i.exports=a}),O=f((e,i)=>{var s=E(),a=Array.prototype,h=a.splice;function d(g){var v=this.__data__,x=s(v,g);if(x<0)return!1;var w=v.length-1;return x==w?v.pop():h.call(v,x,1),--this.size,!0}i.exports=d}),I=f((e,i)=>{var s=E();function a(h){var d=this.__data__,g=s(d,h);return g<0?void 0:d[g][1]}i.exports=a}),et=f((e,i)=>{var s=E();function a(h){return s(this.__data__,h)>-1}i.exports=a}),Q=f((e,i)=>{var s=E();function a(h,d){var g=this.__data__,v=s(g,h);return v<0?(++this.size,g.push([h,d])):g[v][1]=d,this}i.exports=a}),Et=f((e,i)=>{var s=k(),a=O(),h=I(),d=et(),g=Q();function v(x){var w=-1,R=x==null?0:x.length;for(this.clear();++w<R;){var A=x[w];this.set(A[0],A[1])}}v.prototype.clear=s,v.prototype.delete=a,v.prototype.get=h,v.prototype.has=d,v.prototype.set=g,i.exports=v}),dt=f((e,i)=>{var s=Et();function a(){this.__data__=new s,this.size=0}i.exports=a}),mt=f((e,i)=>{function s(a){var h=this.__data__,d=h.delete(a);return this.size=h.size,d}i.exports=s}),Ct=f((e,i)=>{function s(a){return this.__data__.get(a)}i.exports=s}),Bt=f((e,i)=>{function s(a){return this.__data__.has(a)}i.exports=s}),qt=f((e,i)=>{var s=typeof Ea=="object"&&Ea&&Ea.Object===Object&&Ea;i.exports=s}),se=f((e,i)=>{var s=qt(),a=typeof self=="object"&&self&&self.Object===Object&&self,h=s||a||Function("return this")();i.exports=h}),ue=f((e,i)=>{var s=se(),a=s.Symbol;i.exports=a}),Ne=f((e,i)=>{var s=ue(),a=Object.prototype,h=a.hasOwnProperty,d=a.toString,g=s?s.toStringTag:void 0;function v(x){var w=h.call(x,g),R=x[g];try{x[g]=void 0;var A=!0}catch{}var V=d.call(x);return A&&(w?x[g]=R:delete x[g]),V}i.exports=v}),Ue=f((e,i)=>{var s=Object.prototype,a=s.toString;function h(d){return a.call(d)}i.exports=h}),Ee=f((e,i)=>{var s=ue(),a=Ne(),h=Ue(),d="[object Null]",g="[object Undefined]",v=s?s.toStringTag:void 0;function x(w){return w==null?w===void 0?g:d:v&&v in Object(w)?a(w):h(w)}i.exports=x}),ae=f((e,i)=>{function s(a){var h=typeof a;return a!=null&&(h=="object"||h=="function")}i.exports=s}),ye=f((e,i)=>{var s=Ee(),a=ae(),h="[object AsyncFunction]",d="[object Function]",g="[object GeneratorFunction]",v="[object Proxy]";function x(w){if(!a(w))return!1;var R=s(w);return R==d||R==g||R==h||R==v}i.exports=x}),Je=f((e,i)=>{var s=se(),a=s["__core-js_shared__"];i.exports=a}),Dt=f((e,i)=>{var s=Je(),a=(function(){var d=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""})();function h(d){return!!a&&a in d}i.exports=h}),ee=f((e,i)=>{var s=Function.prototype,a=s.toString;function h(d){if(d!=null){try{return a.call(d)}catch{}try{return d+""}catch{}}return""}i.exports=h}),ut=f((e,i)=>{var s=ye(),a=Dt(),h=ae(),d=ee(),g=/[\\^$.*+?()[\]{}|]/g,v=/^\[object .+?Constructor\]$/,x=Function.prototype,w=Object.prototype,R=x.toString,A=w.hasOwnProperty,V=RegExp("^"+R.call(A).replace(g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function H(nt){if(!h(nt)||a(nt))return!1;var ft=s(nt)?V:v;return ft.test(d(nt))}i.exports=H}),_t=f((e,i)=>{function s(a,h){return a?.[h]}i.exports=s}),rt=f((e,i)=>{var s=ut(),a=_t();function h(d,g){var v=a(d,g);return s(v)?v:void 0}i.exports=h}),ce=f((e,i)=>{var s=rt(),a=se(),h=s(a,"Map");i.exports=h}),Pt=f((e,i)=>{var s=rt(),a=s(Object,"create");i.exports=a}),Ot=f((e,i)=>{var s=Pt();function a(){this.__data__=s?s(null):{},this.size=0}i.exports=a}),Ht=f((e,i)=>{function s(a){var h=this.has(a)&&delete this.__data__[a];return this.size-=h?1:0,h}i.exports=s}),le=f((e,i)=>{var s=Pt(),a="__lodash_hash_undefined__",h=Object.prototype,d=h.hasOwnProperty;function g(v){var x=this.__data__;if(s){var w=x[v];return w===a?void 0:w}return d.call(x,v)?x[v]:void 0}i.exports=g}),oe=f((e,i)=>{var s=Pt(),a=Object.prototype,h=a.hasOwnProperty;function d(g){var v=this.__data__;return s?v[g]!==void 0:h.call(v,g)}i.exports=d}),Ut=f((e,i)=>{var s=Pt(),a="__lodash_hash_undefined__";function h(d,g){var v=this.__data__;return this.size+=this.has(d)?0:1,v[d]=s&&g===void 0?a:g,this}i.exports=h}),Nt=f((e,i)=>{var s=Ot(),a=Ht(),h=le(),d=oe(),g=Ut();function v(x){var w=-1,R=x==null?0:x.length;for(this.clear();++w<R;){var A=x[w];this.set(A[0],A[1])}}v.prototype.clear=s,v.prototype.delete=a,v.prototype.get=h,v.prototype.has=d,v.prototype.set=g,i.exports=v}),st=f((e,i)=>{var s=Nt(),a=Et(),h=ce();function d(){this.size=0,this.__data__={hash:new s,map:new(h||a),string:new s}}i.exports=d}),Mt=f((e,i)=>{function s(a){var h=typeof a;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?a!=="__proto__":a===null}i.exports=s}),wt=f((e,i)=>{var s=Mt();function a(h,d){var g=h.__data__;return s(d)?g[typeof d=="string"?"string":"hash"]:g.map}i.exports=a}),It=f((e,i)=>{var s=wt();function a(h){var d=s(this,h).delete(h);return this.size-=d?1:0,d}i.exports=a}),Wt=f((e,i)=>{var s=wt();function a(h){return s(this,h).get(h)}i.exports=a}),F=f((e,i)=>{var s=wt();function a(h){return s(this,h).has(h)}i.exports=a}),j=f((e,i)=>{var s=wt();function a(h,d){var g=s(this,h),v=g.size;return g.set(h,d),this.size+=g.size==v?0:1,this}i.exports=a}),W=f((e,i)=>{var s=st(),a=It(),h=Wt(),d=F(),g=j();function v(x){var w=-1,R=x==null?0:x.length;for(this.clear();++w<R;){var A=x[w];this.set(A[0],A[1])}}v.prototype.clear=s,v.prototype.delete=a,v.prototype.get=h,v.prototype.has=d,v.prototype.set=g,i.exports=v}),ot=f((e,i)=>{var s=Et(),a=ce(),h=W(),d=200;function g(v,x){var w=this.__data__;if(w instanceof s){var R=w.__data__;if(!a||R.length<d-1)return R.push([v,x]),this.size=++w.size,this;w=this.__data__=new h(R)}return w.set(v,x),this.size=w.size,this}i.exports=g}),lt=f((e,i)=>{var s=Et(),a=dt(),h=mt(),d=Ct(),g=Bt(),v=ot();function x(w){var R=this.__data__=new s(w);this.size=R.size}x.prototype.clear=a,x.prototype.delete=h,x.prototype.get=d,x.prototype.has=g,x.prototype.set=v,i.exports=x}),at=f((e,i)=>{var s=rt(),a=(function(){try{var h=s(Object,"defineProperty");return h({},"",{}),h}catch{}})();i.exports=a}),kt=f((e,i)=>{var s=at();function a(h,d,g){d=="__proto__"&&s?s(h,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):h[d]=g}i.exports=a}),xt=f((e,i)=>{var s=kt(),a=M();function h(d,g,v){(v!==void 0&&!a(d[g],v)||v===void 0&&!(g in d))&&s(d,g,v)}i.exports=h}),Lt=f((e,i)=>{function s(a){return function(h,d,g){for(var v=-1,x=Object(h),w=g(h),R=w.length;R--;){var A=w[a?R:++v];if(d(x[A],A,x)===!1)break}return h}}i.exports=s}),pt=f((e,i)=>{var s=Lt(),a=s();i.exports=a}),Vt=f((e,i)=>{var s=se(),a=typeof e=="object"&&e&&!e.nodeType&&e,h=a&&typeof i=="object"&&i&&!i.nodeType&&i,d=h&&h.exports===a,g=d?s.Buffer:void 0,v=g?g.allocUnsafe:void 0;function x(w,R){if(R)return w.slice();var A=w.length,V=v?v(A):new w.constructor(A);return w.copy(V),V}i.exports=x}),At=f((e,i)=>{var s=se(),a=s.Uint8Array;i.exports=a}),Zt=f((e,i)=>{var s=At();function a(h){var d=new h.constructor(h.byteLength);return new s(d).set(new s(h)),d}i.exports=a}),Yt=f((e,i)=>{var s=Zt();function a(h,d){var g=d?s(h.buffer):h.buffer;return new h.constructor(g,h.byteOffset,h.length)}i.exports=a}),ne=f((e,i)=>{function s(a,h){var d=-1,g=a.length;for(h||(h=Array(g));++d<g;)h[d]=a[d];return h}i.exports=s}),ge=f((e,i)=>{var s=ae(),a=Object.create,h=(function(){function d(){}return function(g){if(!s(g))return{};if(a)return a(g);d.prototype=g;var v=new d;return d.prototype=void 0,v}})();i.exports=h}),fe=f((e,i)=>{function s(a,h){return function(d){return a(h(d))}}i.exports=s}),Ve=f((e,i)=>{var s=fe(),a=s(Object.getPrototypeOf,Object);i.exports=a}),ze=f((e,i)=>{var s=Object.prototype;function a(h){var d=h&&h.constructor,g=typeof d=="function"&&d.prototype||s;return h===g}i.exports=a}),ci=f((e,i)=>{var s=ge(),a=Ve(),h=ze();function d(g){return typeof g.constructor=="function"&&!h(g)?s(a(g)):{}}i.exports=d}),He=f((e,i)=>{function s(a){return a!=null&&typeof a=="object"}i.exports=s}),tn=f((e,i)=>{var s=Ee(),a=He(),h="[object Arguments]";function d(g){return a(g)&&s(g)==h}i.exports=d}),vn=f((e,i)=>{var s=tn(),a=He(),h=Object.prototype,d=h.hasOwnProperty,g=h.propertyIsEnumerable,v=s((function(){return arguments})())?s:function(x){return a(x)&&d.call(x,"callee")&&!g.call(x,"callee")};i.exports=v}),Se=f((e,i)=>{var s=Array.isArray;i.exports=s}),fi=f((e,i)=>{var s=9007199254740991;function a(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=s}i.exports=a}),Gi=f((e,i)=>{var s=ye(),a=fi();function h(d){return d!=null&&a(d.length)&&!s(d)}i.exports=h}),Rr=f((e,i)=>{var s=Gi(),a=He();function h(d){return a(d)&&s(d)}i.exports=h}),ol=f((e,i)=>{function s(){return!1}i.exports=s}),gs=f((e,i)=>{var s=se(),a=ol(),h=typeof e=="object"&&e&&!e.nodeType&&e,d=h&&typeof i=="object"&&i&&!i.nodeType&&i,g=d&&d.exports===h,v=g?s.Buffer:void 0,x=v?v.isBuffer:void 0,w=x||a;i.exports=w}),Bo=f((e,i)=>{var s=Ee(),a=Ve(),h=He(),d="[object Object]",g=Function.prototype,v=Object.prototype,x=g.toString,w=v.hasOwnProperty,R=x.call(Object);function A(V){if(!h(V)||s(V)!=d)return!1;var H=a(V);if(H===null)return!0;var nt=w.call(H,"constructor")&&H.constructor;return typeof nt=="function"&&nt instanceof nt&&x.call(nt)==R}i.exports=A}),Po=f((e,i)=>{var s=Ee(),a=fi(),h=He(),d="[object Arguments]",g="[object Array]",v="[object Boolean]",x="[object Date]",w="[object Error]",R="[object Function]",A="[object Map]",V="[object Number]",H="[object Object]",nt="[object RegExp]",ft="[object Set]",bt="[object String]",St="[object WeakMap]",D="[object ArrayBuffer]",X="[object DataView]",it="[object Float32Array]",vt="[object Float64Array]",gt="[object Int8Array]",yt="[object Int16Array]",B="[object Int32Array]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",Z="[object Uint16Array]",G="[object Uint32Array]",N={};N[it]=N[vt]=N[gt]=N[yt]=N[B]=N[S]=N[T]=N[Z]=N[G]=!0,N[d]=N[g]=N[D]=N[v]=N[X]=N[x]=N[w]=N[R]=N[A]=N[V]=N[H]=N[nt]=N[ft]=N[bt]=N[St]=!1;function q(U){return h(U)&&a(U.length)&&!!N[s(U)]}i.exports=q}),al=f((e,i)=>{function s(a){return function(h){return a(h)}}i.exports=s}),ll=f((e,i)=>{var s=qt(),a=typeof e=="object"&&e&&!e.nodeType&&e,h=a&&typeof i=="object"&&i&&!i.nodeType&&i,d=h&&h.exports===a,g=d&&s.process,v=(function(){try{var x=h&&h.require&&h.require("util").types;return x||g&&g.binding&&g.binding("util")}catch{}})();i.exports=v}),So=f((e,i)=>{var s=Po(),a=al(),h=ll(),d=h&&h.isTypedArray,g=d?a(d):s;i.exports=g}),Ao=f((e,i)=>{function s(a,h){if(!(h==="constructor"&&typeof a[h]=="function")&&h!="__proto__")return a[h]}i.exports=s}),ul=f((e,i)=>{var s=kt(),a=M(),h=Object.prototype,d=h.hasOwnProperty;function g(v,x,w){var R=v[x];(!(d.call(v,x)&&a(R,w))||w===void 0&&!(x in v))&&s(v,x,w)}i.exports=g}),hl=f((e,i)=>{var s=ul(),a=kt();function h(d,g,v,x){var w=!v;v||(v={});for(var R=-1,A=g.length;++R<A;){var V=g[R],H=x?x(v[V],d[V],V,v,d):void 0;H===void 0&&(H=d[V]),w?a(v,V,H):s(v,V,H)}return v}i.exports=h}),ys=f((e,i)=>{function s(a,h){for(var d=-1,g=Array(a);++d<a;)g[d]=h(d);return g}i.exports=s}),To=f((e,i)=>{var s=9007199254740991,a=/^(?:0|[1-9]\d*)$/;function h(d,g){var v=typeof d;return g=g??s,!!g&&(v=="number"||v!="symbol"&&a.test(d))&&d>-1&&d%1==0&&d<g}i.exports=h}),cl=f((e,i)=>{var s=ys(),a=vn(),h=Se(),d=gs(),g=To(),v=So(),x=Object.prototype,w=x.hasOwnProperty;function R(A,V){var H=h(A),nt=!H&&a(A),ft=!H&&!nt&&d(A),bt=!H&&!nt&&!ft&&v(A),St=H||nt||ft||bt,D=St?s(A.length,String):[],X=D.length;for(var it in A)(V||w.call(A,it))&&!(St&&(it=="length"||ft&&(it=="offset"||it=="parent")||bt&&(it=="buffer"||it=="byteLength"||it=="byteOffset")||g(it,X)))&&D.push(it);return D}i.exports=R}),fl=f((e,i)=>{function s(a){var h=[];if(a!=null)for(var d in Object(a))h.push(d);return h}i.exports=s}),dl=f((e,i)=>{var s=ae(),a=ze(),h=fl(),d=Object.prototype,g=d.hasOwnProperty;function v(x){if(!s(x))return h(x);var w=a(x),R=[];for(var A in x)A=="constructor"&&(w||!g.call(x,A))||R.push(A);return R}i.exports=v}),Pi=f((e,i)=>{var s=cl(),a=dl(),h=Gi();function d(g){return h(g)?s(g,!0):a(g)}i.exports=d}),Gt=f((e,i)=>{var s=hl(),a=Pi();function h(d){return s(d,a(d))}i.exports=h}),Do=f((e,i)=>{var s=xt(),a=Vt(),h=Yt(),d=ne(),g=ci(),v=vn(),x=Se(),w=Rr(),R=gs(),A=ye(),V=ae(),H=Bo(),nt=So(),ft=Ao(),bt=Gt();function St(D,X,it,vt,gt,yt,B){var S=ft(D,it),T=ft(X,it),Z=B.get(T);if(Z){s(D,it,Z);return}var G=yt?yt(S,T,it+"",D,X,B):void 0,N=G===void 0;if(N){var q=x(T),U=!q&&R(T),K=!q&&!U&&nt(T);G=T,q||U||K?x(S)?G=S:w(S)?G=d(S):U?(N=!1,G=a(T,!0)):K?(N=!1,G=h(T,!0)):G=[]:H(T)||v(T)?(G=S,v(S)?G=bt(S):(!V(S)||A(S))&&(G=g(T))):N=!1}N&&(B.set(T,G),gt(G,T,vt,yt,B),B.delete(T)),s(D,it,G)}i.exports=St}),Oo=f((e,i)=>{var s=lt(),a=xt(),h=pt(),d=Do(),g=ae(),v=Pi(),x=Ao();function w(R,A,V,H,nt){R!==A&&h(A,function(ft,bt){if(nt||(nt=new s),g(ft))d(R,A,bt,V,w,H,nt);else{var St=H?H(x(R,bt),ft,bt+"",R,A,nt):void 0;St===void 0&&(St=ft),a(R,bt,St)}},v)}i.exports=w}),vs=f((e,i)=>{function s(a){return a}i.exports=s}),Ro=f((e,i)=>{function s(a,h,d){switch(d.length){case 0:return a.call(h);case 1:return a.call(h,d[0]);case 2:return a.call(h,d[0],d[1]);case 3:return a.call(h,d[0],d[1],d[2])}return a.apply(h,d)}i.exports=s}),Ls=f((e,i)=>{var s=Ro(),a=Math.max;function h(d,g,v){return g=a(g===void 0?d.length-1:g,0),function(){for(var x=arguments,w=-1,R=a(x.length-g,0),A=Array(R);++w<R;)A[w]=x[g+w];w=-1;for(var V=Array(g+1);++w<g;)V[w]=x[w];return V[g]=v(A),s(d,this,V)}}i.exports=h}),Io=f((e,i)=>{function s(a){return function(){return a}}i.exports=s}),Nn=f((e,i)=>{var s=Io(),a=at(),h=vs(),d=a?function(g,v){return a(g,"toString",{configurable:!0,enumerable:!1,value:s(v),writable:!0})}:h;i.exports=d}),Fo=f((e,i)=>{var s=800,a=16,h=Date.now;function d(g){var v=0,x=0;return function(){var w=h(),R=a-(w-x);if(x=w,R>0){if(++v>=s)return arguments[0]}else v=0;return g.apply(void 0,arguments)}}i.exports=d}),pl=f((e,i)=>{var s=Nn(),a=Fo(),h=a(s);i.exports=h}),_l=f((e,i)=>{var s=vs(),a=Ls(),h=pl();function d(g,v){return h(a(g,v,s),g+"")}i.exports=d}),ml=f((e,i)=>{var s=M(),a=Gi(),h=To(),d=ae();function g(v,x,w){if(!d(w))return!1;var R=typeof x;return(R=="number"?a(w)&&h(x,w.length):R=="string"&&x in w)?s(w[x],v):!1}i.exports=g}),gl=f((e,i)=>{var s=_l(),a=ml();function h(d){return s(function(g,v){var x=-1,w=v.length,R=w>1?v[w-1]:void 0,A=w>2?v[2]:void 0;for(R=d.length>3&&typeof R=="function"?(w--,R):void 0,A&&a(v[0],v[1],A)&&(R=w<3?void 0:R,w=1),g=Object(g);++x<w;){var V=v[x];V&&d(g,V,x,R)}return g})}i.exports=h}),Ir=f((e,i)=>{var s=Oo(),a=gl(),h=a(function(d,g,v){s(d,g,v)});i.exports=h}),bs=f((e,i)=>{var s=Ee(),a=He(),h="[object Symbol]";function d(g){return typeof g=="symbol"||a(g)&&s(g)==h}i.exports=d}),Fr=f((e,i)=>{var s=Se(),a=bs(),h=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/;function g(v,x){if(s(v))return!1;var w=typeof v;return w=="number"||w=="symbol"||w=="boolean"||v==null||a(v)?!0:d.test(v)||!h.test(v)||x!=null&&v in Object(x)}i.exports=g}),yl=f((e,i)=>{var s=W(),a="Expected a function";function h(d,g){if(typeof d!="function"||g!=null&&typeof g!="function")throw new TypeError(a);var v=function(){var x=arguments,w=g?g.apply(this,x):x[0],R=v.cache;if(R.has(w))return R.get(w);var A=d.apply(this,x);return v.cache=R.set(w,A)||R,A};return v.cache=new(h.Cache||s),v}h.Cache=s,i.exports=h}),vl=f((e,i)=>{var s=yl(),a=500;function h(d){var g=s(d,function(x){return v.size===a&&v.clear(),x}),v=g.cache;return g}i.exports=h}),Ll=f((e,i)=>{var s=vl(),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,d=s(function(g){var v=[];return g.charCodeAt(0)===46&&v.push(""),g.replace(a,function(x,w,R,A){v.push(R?A.replace(h,"$1"):w||x)}),v});i.exports=d}),bl=f((e,i)=>{function s(a,h){for(var d=-1,g=a==null?0:a.length,v=Array(g);++d<g;)v[d]=h(a[d],d,a);return v}i.exports=s}),Cl=f((e,i)=>{var s=ue(),a=bl(),h=Se(),d=bs(),g=s?s.prototype:void 0,v=g?g.toString:void 0;function x(w){if(typeof w=="string")return w;if(h(w))return a(w,x)+"";if(d(w))return v?v.call(w):"";var R=w+"";return R=="0"&&1/w==-1/0?"-0":R}i.exports=x}),Cs=f((e,i)=>{var s=Cl();function a(h){return h==null?"":s(h)}i.exports=a}),ar=f((e,i)=>{var s=Se(),a=Fr(),h=Ll(),d=Cs();function g(v,x){return s(v)?v:a(v,x)?[v]:h(d(v))}i.exports=g}),No=f((e,i)=>{var s=bs();function a(h){if(typeof h=="string"||s(h))return h;var d=h+"";return d=="0"&&1/h==-1/0?"-0":d}i.exports=a}),zo=f((e,i)=>{var s=ar(),a=No();function h(d,g){g=s(g,d);for(var v=0,x=g.length;d!=null&&v<x;)d=d[a(g[v++])];return v&&v==x?d:void 0}i.exports=h}),en=f((e,i)=>{var s=zo();function a(h,d,g){var v=h==null?void 0:s(h,d);return v===void 0?g:v}i.exports=a}),de=f((e,i)=>{(function(s,a){typeof e=="object"&&typeof i<"u"?i.exports=a():(s=s||self).RBush=a()})(e,function(){function s(D,X,it,vt,gt){(function yt(B,S,T,Z,G){for(;Z>T;){if(Z-T>600){var N=Z-T+1,q=S-T+1,U=Math.log(N),K=.5*Math.exp(2*U/3),$=.5*Math.sqrt(U*K*(N-K)/N)*(q-N/2<0?-1:1),J=Math.max(T,Math.floor(S-q*K/N+$)),ht=Math.min(Z,Math.floor(S+(N-q)*K/N+$));yt(B,S,J,ht,G)}var Ft=B[S],zt=T,$t=Z;for(a(B,T,S),G(B[Z],Ft)>0&&a(B,T,Z);zt<$t;){for(a(B,zt,$t),zt++,$t--;G(B[zt],Ft)<0;)zt++;for(;G(B[$t],Ft)>0;)$t--}G(B[T],Ft)===0?a(B,T,$t):a(B,++$t,Z),$t<=S&&(T=$t+1),S<=$t&&(Z=$t-1)}})(D,X,it||0,vt||D.length-1,gt||h)}function a(D,X,it){var vt=D[X];D[X]=D[it],D[it]=vt}function h(D,X){return D<X?-1:D>X?1:0}var d=function(D){D===void 0&&(D=9),this._maxEntries=Math.max(4,D),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function g(D,X,it){if(!it)return X.indexOf(D);for(var vt=0;vt<X.length;vt++)if(it(D,X[vt]))return vt;return-1}function v(D,X){x(D,0,D.children.length,X,D)}function x(D,X,it,vt,gt){gt||(gt=bt(null)),gt.minX=1/0,gt.minY=1/0,gt.maxX=-1/0,gt.maxY=-1/0;for(var yt=X;yt<it;yt++){var B=D.children[yt];w(gt,D.leaf?vt(B):B)}return gt}function w(D,X){return D.minX=Math.min(D.minX,X.minX),D.minY=Math.min(D.minY,X.minY),D.maxX=Math.max(D.maxX,X.maxX),D.maxY=Math.max(D.maxY,X.maxY),D}function R(D,X){return D.minX-X.minX}function A(D,X){return D.minY-X.minY}function V(D){return(D.maxX-D.minX)*(D.maxY-D.minY)}function H(D){return D.maxX-D.minX+(D.maxY-D.minY)}function nt(D,X){return D.minX<=X.minX&&D.minY<=X.minY&&X.maxX<=D.maxX&&X.maxY<=D.maxY}function ft(D,X){return X.minX<=D.maxX&&X.minY<=D.maxY&&X.maxX>=D.minX&&X.maxY>=D.minY}function bt(D){return{children:D,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function St(D,X,it,vt,gt){for(var yt=[X,it];yt.length;)if(!((it=yt.pop())-(X=yt.pop())<=vt)){var B=X+Math.ceil((it-X)/vt/2)*vt;s(D,B,X,it,gt),yt.push(X,B,B,it)}}return d.prototype.all=function(){return this._all(this.data,[])},d.prototype.search=function(D){var X=this.data,it=[];if(!ft(D,X))return it;for(var vt=this.toBBox,gt=[];X;){for(var yt=0;yt<X.children.length;yt++){var B=X.children[yt],S=X.leaf?vt(B):B;ft(D,S)&&(X.leaf?it.push(B):nt(D,S)?this._all(B,it):gt.push(B))}X=gt.pop()}return it},d.prototype.collides=function(D){var X=this.data;if(!ft(D,X))return!1;for(var it=[];X;){for(var vt=0;vt<X.children.length;vt++){var gt=X.children[vt],yt=X.leaf?this.toBBox(gt):gt;if(ft(D,yt)){if(X.leaf||nt(D,yt))return!0;it.push(gt)}}X=it.pop()}return!1},d.prototype.load=function(D){if(!D||!D.length)return this;if(D.length<this._minEntries){for(var X=0;X<D.length;X++)this.insert(D[X]);return this}var it=this._build(D.slice(),0,D.length-1,0);if(this.data.children.length)if(this.data.height===it.height)this._splitRoot(this.data,it);else{if(this.data.height<it.height){var vt=this.data;this.data=it,it=vt}this._insert(it,this.data.height-it.height-1,!0)}else this.data=it;return this},d.prototype.insert=function(D){return D&&this._insert(D,this.data.height-1),this},d.prototype.clear=function(){return this.data=bt([]),this},d.prototype.remove=function(D,X){if(!D)return this;for(var it,vt,gt,yt=this.data,B=this.toBBox(D),S=[],T=[];yt||S.length;){if(yt||(yt=S.pop(),vt=S[S.length-1],it=T.pop(),gt=!0),yt.leaf){var Z=g(D,yt.children,X);if(Z!==-1)return yt.children.splice(Z,1),S.push(yt),this._condense(S),this}gt||yt.leaf||!nt(yt,B)?vt?(it++,yt=vt.children[it],gt=!1):yt=null:(S.push(yt),T.push(it),it=0,vt=yt,yt=yt.children[0])}return this},d.prototype.toBBox=function(D){return D},d.prototype.compareMinX=function(D,X){return D.minX-X.minX},d.prototype.compareMinY=function(D,X){return D.minY-X.minY},d.prototype.toJSON=function(){return this.data},d.prototype.fromJSON=function(D){return this.data=D,this},d.prototype._all=function(D,X){for(var it=[];D;)D.leaf?X.push.apply(X,D.children):it.push.apply(it,D.children),D=it.pop();return X},d.prototype._build=function(D,X,it,vt){var gt,yt=it-X+1,B=this._maxEntries;if(yt<=B)return v(gt=bt(D.slice(X,it+1)),this.toBBox),gt;vt||(vt=Math.ceil(Math.log(yt)/Math.log(B)),B=Math.ceil(yt/Math.pow(B,vt-1))),(gt=bt([])).leaf=!1,gt.height=vt;var S=Math.ceil(yt/B),T=S*Math.ceil(Math.sqrt(B));St(D,X,it,T,this.compareMinX);for(var Z=X;Z<=it;Z+=T){var G=Math.min(Z+T-1,it);St(D,Z,G,S,this.compareMinY);for(var N=Z;N<=G;N+=S){var q=Math.min(N+S-1,G);gt.children.push(this._build(D,N,q,vt-1))}}return v(gt,this.toBBox),gt},d.prototype._chooseSubtree=function(D,X,it,vt){for(;vt.push(X),!X.leaf&&vt.length-1!==it;){for(var gt=1/0,yt=1/0,B=void 0,S=0;S<X.children.length;S++){var T=X.children[S],Z=V(T),G=(N=D,q=T,(Math.max(q.maxX,N.maxX)-Math.min(q.minX,N.minX))*(Math.max(q.maxY,N.maxY)-Math.min(q.minY,N.minY))-Z);G<yt?(yt=G,gt=Z<gt?Z:gt,B=T):G===yt&&Z<gt&&(gt=Z,B=T)}X=B||X.children[0]}var N,q;return X},d.prototype._insert=function(D,X,it){var vt=it?D:this.toBBox(D),gt=[],yt=this._chooseSubtree(vt,this.data,X,gt);for(yt.children.push(D),w(yt,vt);X>=0&&gt[X].children.length>this._maxEntries;)this._split(gt,X),X--;this._adjustParentBBoxes(vt,gt,X)},d.prototype._split=function(D,X){var it=D[X],vt=it.children.length,gt=this._minEntries;this._chooseSplitAxis(it,gt,vt);var yt=this._chooseSplitIndex(it,gt,vt),B=bt(it.children.splice(yt,it.children.length-yt));B.height=it.height,B.leaf=it.leaf,v(it,this.toBBox),v(B,this.toBBox),X?D[X-1].children.push(B):this._splitRoot(it,B)},d.prototype._splitRoot=function(D,X){this.data=bt([D,X]),this.data.height=D.height+1,this.data.leaf=!1,v(this.data,this.toBBox)},d.prototype._chooseSplitIndex=function(D,X,it){for(var vt,gt,yt,B,S,T,Z,G=1/0,N=1/0,q=X;q<=it-X;q++){var U=x(D,0,q,this.toBBox),K=x(D,q,it,this.toBBox),$=(gt=U,yt=K,B=void 0,S=void 0,T=void 0,Z=void 0,B=Math.max(gt.minX,yt.minX),S=Math.max(gt.minY,yt.minY),T=Math.min(gt.maxX,yt.maxX),Z=Math.min(gt.maxY,yt.maxY),Math.max(0,T-B)*Math.max(0,Z-S)),J=V(U)+V(K);$<G?(G=$,vt=q,N=J<N?J:N):$===G&&J<N&&(N=J,vt=q)}return vt||it-X},d.prototype._chooseSplitAxis=function(D,X,it){var vt=D.leaf?this.compareMinX:R,gt=D.leaf?this.compareMinY:A;this._allDistMargin(D,X,it,vt)<this._allDistMargin(D,X,it,gt)&&D.children.sort(vt)},d.prototype._allDistMargin=function(D,X,it,vt){D.children.sort(vt);for(var gt=this.toBBox,yt=x(D,0,X,gt),B=x(D,it-X,it,gt),S=H(yt)+H(B),T=X;T<it-X;T++){var Z=D.children[T];w(yt,D.leaf?gt(Z):Z),S+=H(yt)}for(var G=it-X-1;G>=X;G--){var N=D.children[G];w(B,D.leaf?gt(N):N),S+=H(B)}return S},d.prototype._adjustParentBBoxes=function(D,X,it){for(var vt=it;vt>=0;vt--)w(X[vt],D)},d.prototype._condense=function(D){for(var X=D.length-1,it=void 0;X>=0;X--)D[X].children.length===0?X>0?(it=D[X-1].children).splice(it.indexOf(D[X]),1):this.clear():v(D[X],this.toBBox)},d})});Array.prototype.findIndex=Array.prototype.findIndex||function(e){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof e!="function")throw new TypeError("callback must be a function");for(var i=Object(this),s=i.length>>>0,a=arguments[1],h=0;h<s;h++)if(e.call(a,i[h],h,i))return h;return-1},Array.prototype.find=Array.prototype.find||function(e){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof e!="function")throw new TypeError("callback must be a function");for(var i=Object(this),s=i.length>>>0,a=arguments[1],h=0;h<s;h++){var d=i[h];if(e.call(a,d,h,i))return d}},typeof Object.assign!="function"&&(Object.assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var i=1;i<arguments.length;i++){var s=arguments[i];if(s!=null)for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}),(function(e){e.forEach(function(i){i.hasOwnProperty("remove")||Object.defineProperty(i,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,i){if(this==null)throw new TypeError('"this" is null or not defined');var s=Object(this),a=s.length>>>0;if(a===0)return!1;var h=i|0,d=Math.max(h>=0?h:a-Math.abs(h),0);function g(v,x){return v===x||typeof v=="number"&&typeof x=="number"&&isNaN(v)&&isNaN(x)}for(;d<a;){if(g(s[d],e))return!0;d++}return!1}});var Me={version:"2.19.0"},lr=b(Ir()),zn={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},Gn={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},xs={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},te={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},Be={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},ws={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},Nr={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},Li={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},xl={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},zr={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Ln={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Ae={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},nn={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},ur={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},hr={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},ks={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},cr={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},Ms={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},Es={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},Gr={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},Bs={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},Ps={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},jr={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},Go={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},Ss={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},wl={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},Jt={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},ji=nn,_e={en:zn,de:Gn,it:xs,id:te,ro:Be,ru:ws,es:Nr,nl:Li,fr:xl,pt:ji,pt_br:Ae,pt_pt:nn,zh:zr,zh_tw:Ln,pl:ur,sv:hr,el:ks,hu:cr,da:Ms,no:Es,fa:Gr,ua:Bs,tr:Ps,cz:jr,ja:Go,fi:Ss,ko:wl,ky:Jt},jo={_globalEditModeEnabled:!1,enableGlobalEditMode(e){let i={...e};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(s=>{this._isRelevantForEdit(s)&&s.pm.enable(i)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(e=>{e.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(e=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(e)},handleLayerAdditionInGlobalEditMode(){let e=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let i in e){let s=e[i];this._isRelevantForEdit(s)&&s.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:e}){this._addedLayersEdit[L.stamp(e)]=e},_isRelevantForEdit(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowEditing}},As=jo,Ts={_globalDragModeEnabled:!1,enableGlobalDragMode(){let e=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},e.forEach(i=>{this._isRelevantForDrag(i)&&i.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let e=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,e.forEach(i=>{i.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let e=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let i in e){let s=e[i];this._isRelevantForDrag(s)&&s.pm.enableLayerDrag()}},_layerAddedDrag({layer:e}){this._addedLayersDrag[L.stamp(e)]=e},_isRelevantForDrag(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.draggable}},Ds=Ts,bn={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(e=>{this._isRelevantForRemoval(e)&&(e.pm.enabled()&&e.pm.disable(),e.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(e=>{e.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(e){let i=e.target;this._isRelevantForRemoval(i)&&!i.pm.dragging()&&(i.removeFrom(this.map.pm._getContainingLayer()),i.remove(),i instanceof L.LayerGroup?(this._fireRemoveLayerGroup(i),this._fireRemoveLayerGroup(this.map,i)):(i.pm._fireRemove(i),i.pm._fireRemove(this.map,i)))},_isRelevantForRemoval(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let e=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let i in e){let s=e[i];this._isRelevantForRemoval(s)&&(s.pm.enabled()&&s.pm.disable(),s.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:e}){this._addedLayersRemoval[L.stamp(e)]=e}},Os=bn,fr={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(e=>e instanceof L.Polyline).forEach(e=>{this._isRelevantForRotate(e)&&e.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(e=>e instanceof L.Polyline).forEach(e=>{e.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(e){return e.pm&&e instanceof L.Polyline&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let e=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let i in e){let s=e[i];this._isRelevantForRemoval(s)&&s.pm.enableRotate()}},_layerAddedRotate({layer:e}){this._addedLayersRotate[L.stamp(e)]=e}},Ke=fr,Cn=b(Ir()),Zo={_fireDrawStart(e="Draw",i={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},e,i)},_fireDrawEnd(e="Draw",i={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},e,i)},_fireCreate(e,i="Draw",s={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:e,layer:e},i,s)},_fireCenterPlaced(e="Draw",i={}){let s=e==="Draw"?this._layer:void 0,a=e!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:s,layer:a,latlng:this._layer.getLatLng()},e,i)},_fireCut(e,i,s,a="Draw",h={}){this.__fire(e,"pm:cut",{shape:this._shape,layer:i,originalLayer:s},a,h)},_fireEdit(e=this._layer,i="Edit",s={}){this.__fire(e,"pm:edit",{layer:this._layer,shape:this.getShape()},i,s)},_fireEnable(e="Edit",i={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},e,i)},_fireDisable(e="Edit",i={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},e,i)},_fireUpdate(e="Edit",i={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},e,i)},_fireMarkerDragStart(e,i=void 0,s="Edit",a={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:i},s,a)},_fireMarkerDrag(e,i=void 0,s="Edit",a={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:i},s,a)},_fireMarkerDragEnd(e,i=void 0,s=void 0,a="Edit",h={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:i,intersectionReset:s},a,h)},_fireDragStart(e="Edit",i={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},e,i)},_fireDrag(e,i="Edit",s={}){this.__fire(this._layer,"pm:drag",{...e,shape:this.getShape()},i,s)},_fireDragEnd(e="Edit",i={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},e,i)},_fireDragEnable(e="Edit",i={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},e,i)},_fireDragDisable(e="Edit",i={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},e,i)},_fireRemove(e,i=e,s="Edit",a={}){this.__fire(e,"pm:remove",{layer:i,shape:this.getShape()},s,a)},_fireVertexAdded(e,i,s,a="Edit",h={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:e,indexPath:i,latlng:s,shape:this.getShape()},a,h)},_fireVertexRemoved(e,i,s="Edit",a={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:e,indexPath:i,shape:this.getShape()},s,a)},_fireVertexClick(e,i,s="Edit",a={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:e,indexPath:i,shape:this.getShape()},s,a)},_fireIntersect(e,i=this._layer,s="Edit",a={}){this.__fire(i,"pm:intersect",{layer:this._layer,intersection:e,shape:this.getShape()},s,a)},_fireLayerReset(e,i,s="Edit",a={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:e,indexPath:i,shape:this.getShape()},s,a)},_fireChange(e,i="Edit",s={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:e,shape:this.getShape()},i,s)},_fireTextChange(e,i="Edit",s={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:e,shape:this.getShape()},i,s)},_fireTextFocus(e="Edit",i={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},e,i)},_fireTextBlur(e="Edit",i={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},e,i)},_fireSnapDrag(e,i,s="Snapping",a={}){this.__fire(e,"pm:snapdrag",i,s,a)},_fireSnap(e,i,s="Snapping",a={}){this.__fire(e,"pm:snap",i,s,a)},_fireUnsnap(e,i,s="Snapping",a={}){this.__fire(e,"pm:unsnap",i,s,a)},_fireRotationEnable(e,i,s="Rotation",a={}){this.__fire(e,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},s,a)},_fireRotationDisable(e,i="Rotation",s={}){this.__fire(e,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},i,s)},_fireRotationStart(e,i,s="Rotation",a={}){this.__fire(e,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:i},s,a)},_fireRotation(e,i,s,a=this._rotationLayer,h="Rotation",d={}){this.__fire(e,"pm:rotate",{layer:a,helpLayer:this._layer,startAngle:this._startAngle,angle:a.pm.getAngle(),angleDiff:i,oldLatLngs:s,newLatLngs:a.getLatLngs()},h,d)},_fireRotationEnd(e,i,s,a="Rotation",h={}){this.__fire(e,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:i,angle:this._rotationLayer.pm.getAngle(),originLatLngs:s,newLatLngs:this._rotationLayer.getLatLngs()},a,h)},_fireActionClick(e,i,s,a="Toolbar",h={}){this.__fire(this._map,"pm:actionclick",{text:e.text,action:e,btnName:i,button:s},a,h)},_fireButtonClick(e,i,s="Toolbar",a={}){this.__fire(this._map,"pm:buttonclick",{btnName:e,button:i},s,a)},_fireLangChange(e,i,s,a,h="Global",d={}){this.__fire(this.map,"pm:langchange",{oldLang:e,activeLang:i,fallback:s,translations:a},h,d)},_fireGlobalDragModeToggled(e,i="Global",s={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:e,map:this.map},i,s)},_fireGlobalEditModeToggled(e,i="Global",s={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:e,map:this.map},i,s)},_fireGlobalRemovalModeToggled(e,i="Global",s={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:e,map:this.map},i,s)},_fireGlobalCutModeToggled(e="Global",i={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},e,i)},_fireGlobalDrawModeToggled(e="Global",i={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},e,i)},_fireGlobalRotateModeToggled(e="Global",i={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},e,i)},_fireRemoveLayerGroup(e,i=e,s="Edit",a={}){this.__fire(e,"pm:remove",{layer:i,shape:void 0},s,a)},_fireKeyeventEvent(e,i,s,a="Global",h={}){this.__fire(this.map,"pm:keyevent",{event:e,eventType:i,focusOn:s},a,h)},__fire(e,i,s,a,h={}){s=(0,Cn.default)(s,h,{source:a}),L.PM.Utils._fireEvent(e,i,s)}},dr=Zo,kl=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(e){this.map=e,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),e.once("unload",this._unbindKeyListenerEvents,this)},_handleEscapeKey(e){let i=this.map.pm;return!i.getGlobalOptions().exitModeOnEscape||!(i.globalDrawModeEnabled()||i.globalEditModeEnabled()||i.globalDragModeEnabled()||i.globalRemovalModeEnabled()||i.globalRotateModeEnabled()||i.globalCutModeEnabled())?!1:(e.preventDefault(),i.globalDrawModeEnabled()&&i.disableDraw(),i.globalEditModeEnabled()&&i.disableGlobalEditMode(),i.globalDragModeEnabled()&&i.disableGlobalDragMode(),i.globalRemovalModeEnabled()&&i.disableGlobalRemovalMode(),i.globalRotateModeEnabled()&&i.disableGlobalRotateMode(),i.globalCutModeEnabled()&&i.disableGlobalCutMode(),!0)},_handleEnterKey(e){let i=this.map.pm;if(!i.getGlobalOptions().finishOnEnter)return!1;let s=i.Draw.getActiveShape();if(!s)return!1;let a=i.Draw[s];return!a||!a._finishShape||!this._canFinishShape(a,s)?!1:(e.preventDefault(),a._finishShape(),!0)},_canFinishShape(e,i){if(["Marker","CircleMarker","Text"].includes(i))return!1;if(i==="Rectangle")return e._startMarker!==void 0;if(i==="Circle")return e._centerMarker&&e._layerGroup?.hasLayer(e._centerMarker);if(e._layer&&e._layer.getLatLngs){let s=e._layer.getLatLngs();if(i==="Line")return(s.flat?s.flat():s).length>=2;if(i==="Polygon"||i==="Cut")return s.length>=3}return!1},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(e){let i="document";this.map.getContainer().contains(e.target)&&(i="map");let s={event:e,eventType:e.type,focusOn:i};this._lastEvents[e.type]=s,this._lastEvents.current=s,this.map.pm._fireKeyeventEvent(e,e.type,i),e.type==="keydown"&&(e.key==="Escape"&&this._handleEscapeKey(e),e.key==="Enter"&&this._handleEnterKey(e))},_onBlur(e){e.altKey=!1;let i={event:e,eventType:e.type,focusOn:"document"};this._lastEvents[e.type]=i,this._lastEvents.current=i},getLastKeyEvent(e="current"){return this._lastEvents[e]},isShiftKeyPressed(){return this._lastEvents.current?.event.shiftKey},isAltKeyPressed(){return this._lastEvents.current?.event.altKey},isCtrlKeyPressed(){return this._lastEvents.current?.event.ctrlKey},isMetaKeyPressed(){return this._lastEvents.current?.event.metaKey},getPressedKey(){return this._lastEvents.current?.event.key}}),Uo=kl,Zr=b(en());function he(e){let i=L.PM.activeLang;return(0,Zr.default)(_e[i],e)||(0,Zr.default)(_e.en,e)||e}function Ur(e){for(let i=0;i<e.length;i+=1){let s=e[i];if(Array.isArray(s)){if(Ur(s))return!0}else if(s!=null&&s!=="")return!0}return!1}function re(e){return e.reduce((i,s)=>{if(s.length!==0){let a=Array.isArray(s)?re(s):s;Array.isArray(a)?a.length!==0&&i.push(a):i.push(a)}return i},[])}function Ml(e,i,s){let a={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:h,b:d,f:g}=a,v=e.lng,x=e.lat,w=s,R=Math.PI,A=i*R/180,V=Math.sin(A),H=Math.cos(A),nt=(1-g)*Math.tan(x*R/180),ft=1/Math.sqrt(1+nt*nt),bt=nt*ft,St=Math.atan2(nt,H),D=ft*V,X=1-D*D,it=X*(h*h-d*d)/(d*d),vt=1+it/16384*(4096+it*(-768+it*(320-175*it))),gt=it/1024*(256+it*(-128+it*(74-47*it))),yt=w/(d*vt),B=2*Math.PI,S,T,Z;for(;Math.abs(yt-B)>1e-12;){S=Math.cos(2*St+yt),T=Math.sin(yt),Z=Math.cos(yt);let ht=gt*T*(S+gt/4*(Z*(-1+2*S*S)-gt/6*S*(-3+4*T*T)*(-3+4*S*S)));B=yt,yt=w/(d*vt)+ht}let G=bt*T-ft*Z*H,N=Math.atan2(bt*Z+ft*T*H,(1-g)*Math.sqrt(D*D+G*G)),q=Math.atan2(T*V,ft*Z-bt*T*H),U=g/16*X*(4+g*(4-3*X)),K=q-(1-U)*g*D*(yt+U*T*(S+U*Z*(-1+2*S*S))),$=v+K*180/R,J=N*180/R;return L.latLng($,J)}function bi(e,i,s,a,h=!0){let d,g,v,x=[];for(let w=0;w<s;w+=1){if(h)d=w*360/s+a,g=Ml(e,d,i),v=L.latLng(g.lng,g.lat);else{let R=e.lat+Math.cos(2*w*Math.PI/s)*i,A=e.lng+Math.sin(2*w*Math.PI/s)*i;v=L.latLng(R,A)}x.push(v)}return x}function pr(e,i,s){i=(i+360)%360;let a=Math.PI/180,h=180/Math.PI,{R:d}=L.CRS.Earth,g=e.lng*a,v=e.lat*a,x=i*a,w=Math.sin(v),R=Math.cos(v),A=Math.cos(s/d),V=Math.sin(s/d),H=Math.asin(w*A+R*V*Math.cos(x)),nt=g+Math.atan2(Math.sin(x)*V*R,A-w*Math.sin(H));nt*=h;let ft=nt-360,bt=nt<-180?nt+360:nt;return nt=nt>180?ft:bt,L.latLng([H*h,nt])}function Vr(e,i,s){let a=e.latLngToContainerPoint(i),h=e.latLngToContainerPoint(s),d=Math.atan2(h.y-a.y,h.x-a.x)*180/Math.PI+90;return d+=d<0?360:0,d}function Hr(e,i,s,a){let h=Vr(e,i,s);return pr(i,h,a)}function Rs(e,i,s="asc"){if(!i||Object.keys(i).length===0)return(x,w)=>x-w;let a=Object.keys(i),h,d=a.length-1,g={};for(;d>=0;)h=a[d],g[h.toLowerCase()]=i[h],d-=1;function v(x){if(x instanceof L.Marker)return"Marker";if(x instanceof L.Circle)return"Circle";if(x instanceof L.CircleMarker)return"CircleMarker";if(x instanceof L.Rectangle)return"Rectangle";if(x instanceof L.Polygon)return"Polygon";if(x instanceof L.Polyline)return"Line"}return(x,w)=>{let R,A;if(R=v(x.layer).toLowerCase(),A=v(w.layer).toLowerCase(),!R||!A)return 0;let V=R in g?g[R]:Number.MAX_SAFE_INTEGER,H=A in g?g[A]:Number.MAX_SAFE_INTEGER,nt=0;return V<H?nt=-1:V>H&&(nt=1),s==="desc"?nt*-1:nt}}function rn(e,i=e.getLatLngs()){return e instanceof L.Polygon?L.polygon(i).getLatLngs():L.polyline(i).getLatLngs()}function Is(e,i){if(i.options.crs?.projection?.MAX_LATITUDE){let s=i.options.crs?.projection?.MAX_LATITUDE;e.lat=Math.max(Math.min(s,e.lat),-s)}return e}function jn(e){return e.options.renderer||e._map&&(e._map._getPaneRenderer(e.options.pane)||e._map.options.renderer||e._map._renderer)||e._renderer}function El(e,i){if(e=e.trim().toLowerCase(),i[e])return e;let s=e.replace(/[-_\s]/g,"_").match(/^([a-z]{2,3})(?:_([a-z]{2,3}))?$/);if(s){let a=[];s[2]&&a.push(`${s[1]}_${s[2]}`),a.push(s[1]);for(let h of a)if(i[h])return h}return e}var Fs=L.Class.extend({includes:[As,Ds,Os,Ke,dr],initialize(e){this.map=e,this.Draw=new L.PM.Draw(e),this.Toolbar=new L.PM.Toolbar(e),this.Keyboard=Uo(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0,exitModeOnEscape:!1,finishOnEnter:!1},this.Keyboard._initKeyListener(e)},setLang(e="en",i,s="en"){e=El(e,_e);let a=L.PM.activeLang;i&&(_e[e]=(0,lr.default)(_e[s],i)),L.PM.activeLang=e,this.map.pm.Toolbar.reinit(),this._fireLangChange(a,e,s,_e[e])},addControls(e){this.Toolbar.addControls(e)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(e="Polygon",i){e==="Poly"&&(e="Polygon"),this.Draw.enable(e,i)},disableDraw(e="Polygon"){e==="Poly"&&(e="Polygon"),this.Draw.disable(e)},setPathOptions(e,i={}){let s=i.ignoreShapes||[],a=i.merge||!1;this.map.pm.Draw.shapes.forEach(h=>{s.indexOf(h)===-1&&this.map.pm.Draw[h].setPathOptions(e,a)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(e){let i=(0,lr.default)(this.globalOptions,e);i.editable&&(i.resizeableCircleMarker=i.editable,delete i.editable);let s=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!i.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),s=!0);let a=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!i.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),a=!0),this.map.pm.Draw.shapes.forEach(h=>{this.map.pm.Draw[h].setOptions(i)}),s&&this.map.pm.Draw.CircleMarker.enable(),a&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(h=>{h.pm.setOptions(i)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=i,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(e=>{e.pm.enabled()&&e.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(e){return this.Draw.Cut.enable(e)},toggleGlobalCutMode(e){return this.Draw.Cut.toggle(e)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(e=!1){let i=L.PM.Utils.findLayers(this.map);if(!e)return i;let s=L.featureGroup();return s._pmTempLayer=!0,i.forEach(a=>{s.addLayer(a)}),s},getGeomanDrawLayers(e=!1){let i=L.PM.Utils.findLayers(this.map).filter(a=>a._drawnByGeoman===!0);if(!e)return i;let s=L.featureGroup();return s._pmTempLayer=!0,i.forEach(a=>{s.addLayer(a)}),s},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(e){this._touchEventCounter===0&&(L.DomEvent.on(e,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(e,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(e){this._touchEventCounter===1&&(L.DomEvent.off(e,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(e,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(e){jn(this.map)._onMouseMove(this._createMouseEvent("mousemove",e))},_canvasTouchClick(e){let i="";e.type==="touchstart"||e.type==="pointerdown"?i="mousedown":(e.type==="touchend"||e.type==="pointerup"||e.type==="touchcancel"||e.type==="pointercancel")&&(i="mouseup"),i&&jn(this.map)._onClick(this._createMouseEvent(i,e))},_createMouseEvent(e,i){let s,a=i.touches[0]||i.changedTouches[0];try{s=new MouseEvent(e,{bubbles:i.bubbles,cancelable:i.cancelable,view:i.view,detail:a.detail,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,ctrlKey:i.ctrlKey,altKey:i.altKey,shiftKey:i.shiftKey,metaKey:i.metaKey,button:i.button,relatedTarget:i.relatedTarget})}catch{s=document.createEvent("MouseEvents"),s.initMouseEvent(e,i.bubbles,i.cancelable,i.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget)}return s}}),Bl=Fs,Zi=L.Control.extend({includes:[dr],options:{position:"topleft",disableByOtherButtons:!0},initialize(e){this._button=L.Util.extend({},this.options,e)},onAdd(e){return this._map=e,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let e=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),e?e.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(e){return typeof e=="boolean"?this._button.toggleStatus=e:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(e){e&&e.preventDefault(),!this._button.disabled&&(this._button.onClick(e,{button:this,event:e}),this._clicked(e),this._button.afterClick(e,{button:this,event:e}))},_makeButton(e){let i=this.options.position.indexOf("right")>-1?"pos-right":"",s=L.DomUtil.create("div",`button-container  ${i}`,this._container);e.title&&s.setAttribute("title",e.title);let a=L.DomUtil.create("a","leaflet-buttons-control-button",s);a.setAttribute("role","button"),a.setAttribute("tabindex","0"),a.href="#";let h=L.DomUtil.create("div",`leaflet-pm-actions-container ${i}`,s),d=e.actions,g={cancel:{text:he("actions.cancel"),title:he("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:he("actions.finish"),title:he("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:he("actions.removeLastVertex"),title:he("actions.removeLastVertex"),onClick(){this._map.pm.Draw[e.jsClass]._removeLastVertex()}},finish:{text:he("actions.finish"),title:he("actions.finish"),onClick(x){this._map.pm.Draw[e.jsClass]._finishShape(x)}}};e._preparedActions=d.map(x=>{let w=typeof x=="string"?x:x.name,R;if(g[w])R=g[w];else if(x.text)R=x;else return R;let A=L.DomUtil.create("a",`leaflet-pm-action ${i} action-${w}`,h);if(A.setAttribute("role","button"),A.setAttribute("tabindex","0"),A.href="#",R.title&&(A.title=R.title),A.innerHTML=R.text,L.DomEvent.disableClickPropagation(A),L.DomEvent.on(A,"click",L.DomEvent.stop),R._node=A,!e.disabled&&R.onClick){let V=H=>{H.preventDefault();let nt="",{buttons:ft}=this._map.pm.Toolbar;for(let bt in ft)if(ft[bt]._button===e){nt=bt;break}this._fireActionClick(R,nt,e)};L.DomEvent.addListener(A,"click",V,this),L.DomEvent.addListener(A,"click",R.onClick,this),L.DomEvent.addListener(A,"click",()=>this._updateActiveAction(e))}return R}),this._updateActiveAction(e),e.toggleStatus&&L.DomUtil.addClass(s,"active");let v=L.DomUtil.create("div","control-icon",a);return e.iconUrl&&v.setAttribute("src",e.iconUrl),e.className&&L.DomUtil.addClass(v,e.className),L.DomEvent.disableClickPropagation(a),L.DomEvent.on(a,"click",L.DomEvent.stop),e.disabled||(L.DomEvent.addListener(a,"click",this._onBtnClick,this),L.DomEvent.addListener(a,"click",this._triggerClick,this)),e.disabled&&(L.DomUtil.addClass(a,"pm-disabled"),a.setAttribute("aria-disabled","true")),s},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let e="",{buttons:i}=this._map.pm.Toolbar;for(let s in i)if(i[s]._button===this._button){e=s;break}this._fireButtonClick(e,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let e="pm-disabled",i=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(i,e),i.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(i,e),i.setAttribute("aria-disabled","false"))},_updateActiveAction(e){e._preparedActions?.forEach(i=>{i?._node&&(i.isActive&&i.isActive.call(this)?L.DomUtil.addClass(i._node,"active-action"):L.DomUtil.removeClass(i._node,"active-action"))})}}),Pl=Zi;L.Control.PMButton=Pl;var Vo=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(e){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(e)},reinit(){let e=this.isVisible;this.removeControls(),this._defineButtons(),e&&this.addControls()},init(e){this.map=e,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(e){let i=`${e}Container`;return this[i]||(this[i]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${e} leaflet-bar leaflet-control`)),this[i]},getButtons(){return this.buttons},addControls(e=this.options){typeof e.editPolygon<"u"&&(e.editMode=e.editPolygon),typeof e.deleteLayer<"u"&&(e.removalMode=e.deleteLayer),L.Util.setOptions(this,e),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let e=this.getButtons(),i={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let s in e){let a=e[s];L.Util.setOptions(a,{className:i.geomanIcons[s]})}},removeControls(){let e=this.getButtons();for(let i in e)e[i].remove();this.isVisible=!1},deleteControl(e){let i=this._btnNameMapping(e);this.buttons[i]&&(this.buttons[i].remove(),delete this.buttons[i])},toggleControls(e=this.options){this.isVisible?this.removeControls():this.addControls(e)},_addButton(e,i){return this.buttons[e]=i,this.options[e]=!!this.options[e]||!1,this.buttons[e]},triggerClickOnToggledButtons(e){for(let i in this.buttons){let s=this.buttons[i];s._button.disableByOtherButtons&&s!==e&&s.toggled()&&s._triggerClick()}},toggleButton(e,i,s=!0){e==="editPolygon"&&(e="editMode"),e==="deleteLayer"&&(e="removalMode");let a=e;return s&&this.triggerClickOnToggledButtons(this.buttons[a]),this.buttons[a]?this.buttons[a].toggle(i):!1},_defineButtons(){let e={className:"control-icon leaflet-pm-icon-marker",title:he("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(V,H)=>{this.map.pm.Draw[H.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},i={title:he("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(V,H)=>{this.map.pm.Draw[H.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},s={className:"control-icon leaflet-pm-icon-polyline",title:he("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(V,H)=>{this.map.pm.Draw[H.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},a={title:he("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(V,H)=>{this.map.pm.Draw[H.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},h={title:he("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(V,H)=>{this.map.pm.Draw[H.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},d={title:he("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(V,H)=>{this.map.pm.Draw[H.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},g={title:he("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},v={title:he("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},x={title:he("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(V,H)=>{this.map.pm.Draw[H.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},w={title:he("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},R={title:he("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},A={className:"control-icon leaflet-pm-icon-text",title:he("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(V,H)=>{this.map.pm.Draw[H.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(e)),this._addButton("drawPolyline",new L.Control.PMButton(s)),this._addButton("drawRectangle",new L.Control.PMButton(d)),this._addButton("drawPolygon",new L.Control.PMButton(i)),this._addButton("drawCircle",new L.Control.PMButton(a)),this._addButton("drawCircleMarker",new L.Control.PMButton(h)),this._addButton("drawText",new L.Control.PMButton(A)),this._addButton("editMode",new L.Control.PMButton(g)),this._addButton("dragMode",new L.Control.PMButton(v)),this._addButton("cutPolygon",new L.Control.PMButton(x)),this._addButton("removalMode",new L.Control.PMButton(w)),this._addButton("rotateMode",new L.Control.PMButton(R))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let e=this.getButtons(),i=[];this.options.drawControls===!1&&(i=i.concat(Object.keys(e).filter(s=>!e[s]._button.tool))),this.options.editControls===!1&&(i=i.concat(Object.keys(e).filter(s=>e[s]._button.tool==="edit"))),this.options.optionsControls===!1&&(i=i.concat(Object.keys(e).filter(s=>e[s]._button.tool==="options"))),this.options.customControls===!1&&(i=i.concat(Object.keys(e).filter(s=>e[s]._button.tool==="custom")));for(let s in e)if(this.options[s]&&i.indexOf(s)===-1){let a=e[s]._button.tool;a||(a="draw"),e[s].setPosition(this._getBtnPosition(a)),e[s].addTo(this.map)}},_getBtnPosition(e){return this.options.positions&&this.options.positions[e]?this.options.positions[e]:this.options.position},setBlockPosition(e,i){this.options.positions[e]=i,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(e,i){if(i)typeof i!="object"&&(i={name:i});else throw new TypeError("Button has no name");let s=this._btnNameMapping(e);if(!i.name)throw new TypeError("Button has no name");if(this.buttons[i.name])throw new TypeError("Button with this name already exists");let a=this.map.pm.Draw.createNewDrawInstance(i.name,s);i={...this.buttons[s]._button,...i};let h=this.createCustomControl(i);return{drawInstance:a,control:h}},createCustomControl(e){if(!e.name)throw new TypeError("Button has no name");if(this.buttons[e.name])throw new TypeError("Button with this name already exists");e.onClick||(e.onClick=()=>{}),e.afterClick||(e.afterClick=()=>{}),e.toggle!==!1&&(e.toggle=!0),e.block&&(e.block=e.block.toLowerCase()),(!e.block||e.block==="draw")&&(e.block=""),e.className?e.className.indexOf("control-icon")===-1&&(e.className=`control-icon ${e.className}`):e.className="control-icon";let i={tool:e.block,className:e.className,title:e.title||"",jsClass:e.name,onClick:e.onClick,afterClick:e.afterClick,doToggle:e.toggle,toggleStatus:!1,disableOtherButtons:e.disableOtherButtons??!0,disableByOtherButtons:e.disableByOtherButtons??!0,cssToggle:e.toggle,position:this.options.position,actions:e.actions||[],disabled:!!e.disabled};this.options[e.name]!==!1&&(this.options[e.name]=!0);let s=this._addButton(e.name,new L.Control.PMButton(i));return this.changeControlOrder(),s},controlExists(e){return!!this.getButton(e)},getButton(e){return this.getButtons()[e]},getButtonsInBlock(e){let i={};if(e)for(let s in this.getButtons()){let a=this.getButtons()[s];(a._button.tool===e||e==="draw"&&!a._button.tool)&&(i[s]=a)}return i},changeControlOrder(e=[]){let i=this._shapeMapping(),s=[];e.forEach(d=>{i[d]?s.push(i[d]):s.push(d)});let a=this.getButtons(),h={};s.forEach(d=>{a[d]&&(h[d]=a[d])}),Object.keys(a).filter(d=>!a[d]._button.tool||a[d]._button.tool==="draw").forEach(d=>{s.indexOf(d)===-1&&(h[d]=a[d])}),Object.keys(a).filter(d=>a[d]._button.tool==="edit").forEach(d=>{s.indexOf(d)===-1&&(h[d]=a[d])}),Object.keys(a).filter(d=>a[d]._button.tool==="options").forEach(d=>{s.indexOf(d)===-1&&(h[d]=a[d])}),Object.keys(a).filter(d=>a[d]._button.tool==="custom").forEach(d=>{s.indexOf(d)===-1&&(h[d]=a[d])}),Object.keys(a).forEach(d=>{s.indexOf(d)===-1&&(h[d]=a[d])}),this.map.pm.Toolbar.buttons=h,this._showHideButtons()},getControlOrder(){let e=this.getButtons(),i=[];for(let s in e)i.push(s);return i},changeActionsOfControl(e,i){let s=this._btnNameMapping(e);if(!s)throw new TypeError("No name passed");if(!i)throw new TypeError("No actions passed");if(!this.buttons[s])throw new TypeError("Button with this name not exists");this.buttons[s]._button.actions=i,this.changeControlOrder()},setButtonDisabled(e,i){let s=this._btnNameMapping(e);i?this.buttons[s].disable():this.buttons[s].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(e){let i=this._shapeMapping();return i[e]?i[e]:e}}),sn=Vo,Ho=b(Ir()),Ko={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(e){e.forEach(i=>{if(Array.isArray(i)){this._assignEvents(i);return}i.off("drag",this._handleSnapping,this),i.on("drag",this._handleSnapping,this),i.off("dragend",this._cleanupSnapping,this),i.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(e){if(e){let i=e.target;i._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(i=>{i.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(e){let i=e.target;if(i._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),e?.originalEvent?.altKey||this._map?.pm?.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let s=this._calcClosestLayer(i.getLatLng(),this._snapList);if(Object.keys(s).length===0)return!1;let a=s.layer instanceof L.Marker||s.layer instanceof L.CircleMarker||!this.options.snapSegment,h;a?h=s.latlng:h=this._checkPrioritiySnapping(s);let d=this.options.snapDistance,g={marker:i,shape:this._shape,snapLatLng:h,segment:s.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:s.layer,distance:s.distance};if(this._fireSnapDrag(g.marker,g),this._fireSnapDrag(this._layer,g),s.distance<d){i._orgLatLng=i.getLatLng(),i.setLatLng(h),i._snapped=!0,i._snapInfo=g;let v=()=>{this._snapLatLng=h,this._fireSnap(i,g),this._fireSnap(this._layer,g)},x=this._snapLatLng||{},w=h||{};(x.lat!==w.lat||x.lng!==w.lng)&&v()}else this._snapLatLng&&(this._unsnap(g),i._snapped=!1,i._snapInfo=void 0,this._fireUnsnap(g.marker,g),this._fireUnsnap(this._layer,g));return!0},_createSnapList(){let e=[],i=[],s=this._map;s.off("layerremove",this._handleSnapLayerRemoval,this),s.on("layerremove",this._handleSnapLayerRemoval,this),s.eachLayer(a=>{if((a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&a.options.snapIgnore!==!0){if(a.options.snapIgnore===void 0&&(!L.PM.optIn&&a.options.pmIgnore===!0||L.PM.optIn&&a.options.pmIgnore!==!1))return;(a instanceof L.Circle||a instanceof L.CircleMarker)&&a.pm&&a.pm._hiddenPolyCircle?e.push(a.pm._hiddenPolyCircle):a instanceof L.ImageOverlay&&(a=L.rectangle(a.getBounds())),e.push(a);let h=L.polyline([],{color:"red",pmIgnore:!0});h._pmTempLayer=!0,i.push(h),(a instanceof L.Circle||a instanceof L.CircleMarker)&&i.push(h)}}),e=e.filter(a=>this._layer!==a),e=e.filter(a=>a._latlng||a._latlngs&&Ur(a._latlngs)),e=e.filter(a=>!a._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let a=L.polyline([],{color:"red",pmIgnore:!0});a._pmTempLayer=!0,i.push(a)}),this._snapList=e.concat(this._otherSnapLayers)):this._snapList=e,this.debugIndicatorLines=i},_handleSnapLayerRemoval({layer:e}){if(!e._leaflet_id)return;let i=this._snapList.findIndex(s=>s._leaflet_id===e._leaflet_id);i>-1&&this._snapList.splice(i,1)},_calcClosestLayer(e,i){return this._calcClosestLayers(e,i,1)[0]},_calcClosestLayers(e,i,s=1){let a=[],h={};i.forEach((g,v)=>{if(g._parentCopy&&g._parentCopy===this._layer||g.getLatLngs?.().flat(5).length<2)return;let x=this._calcLayerDistances(e,g);if(x.distance=Math.floor(x.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[v]){let w=L.polyline([],{color:"red",pmIgnore:!0});w._pmTempLayer=!0,this.debugIndicatorLines[v]=w}this.debugIndicatorLines[v].setLatLngs([e,x.latlng])}s===1&&(h.distance===void 0||x.distance-5<=h.distance)?(x.distance+5<h.distance&&(a=[]),h=x,h.layer=g,a.push(h)):s!==1&&(h={},h=x,h.layer=g,a.push(h))}),s!==1&&(a=a.sort((g,v)=>g.distance-v.distance)),s===-1&&(s=a.length);let d=this._getClosestLayerByPriority(a,s);return L.Util.isArray(d)?d:[d]},_calcLayerDistances(e,i){let s=this._map,a=i instanceof L.Marker||i instanceof L.CircleMarker,h=i instanceof L.Polygon,d=e;if(a){let g=i.getLatLng();return{latlng:{...g},distance:this._getDistance(s,g,d)}}return this._calcLatLngDistances(d,i.getLatLngs(),s,h)},_calcLatLngDistances(e,i,s,a=!1){let h,d,g,v=x=>{x.forEach((w,R)=>{if(Array.isArray(w)){v(w);return}if(this.options.snapSegment){let A=w,V;a?V=R+1===x.length?0:R+1:V=R+1===x.length?void 0:R+1;let H=x[V];if(H){let nt=this._getDistanceToSegment(s,e,A,H);(d===void 0||nt<d)&&(d=nt,g=[A,H])}}else{let A=this._getDistance(s,e,w);(d===void 0||A<d)&&(d=A,h=w)}})};return v(i),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(s,e,g[0],g[1])},segment:g,distance:d}:{latlng:h,distance:d}},_getClosestLayerByPriority(e,i=1){e=e.sort((g,v)=>g._leaflet_id-v._leaflet_id);let s=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],a=this._map.pm.globalOptions.snappingOrder||[],h=0,d={};return a.concat(s).forEach(g=>{d[g]||(h+=1,d[g]=h)}),e.sort(Rs("instanceofShape",d)),i===1?e[0]||{}:e.slice(0,i)},_checkPrioritiySnapping(e){let i=this._map,s=e.segment[0],a=e.segment[1],h=e.latlng,d=h;if(this.options.snapVertex){let g=this._getDistance(i,s,h),v=this._getDistance(i,a,h),x=g<v?s:a,w=g<v?g:v;if(this.options.snapMiddle){let A=L.PM.Utils.calcMiddleLatLng(i,s,a),V=this._getDistance(i,A,h);V<g&&V<v&&(x=A,w=V)}let R=this.options.snapDistance;w<R&&(d=x)}return{...d}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(e,i,s,a){let h=e.getMaxZoom();h===1/0&&(h=e.getZoom());let d=e.project(i,h),g=e.project(s,h),v=e.project(a,h),x=L.LineUtil.closestPointOnSegment(d,g,v);return e.unproject(x,h)},_getDistanceToSegment(e,i,s,a){let h=e.latLngToContainerPoint(i),d=e.latLngToContainerPoint(s),g=e.latLngToContainerPoint(a);return L.LineUtil.pointToSegmentDistance(h,d,g)},_getDistance(e,i,s){return e.latLngToContainerPoint(i).distanceTo(e.latLngToContainerPoint(s))}},Kr=Ko,Sl=L.Class.extend({includes:[Kr,dr],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(e){L.Util.setOptions(this,e),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(e){let i=new L.Icon.Default;i.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=i,this._map=e,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(s=>{this[s]=new L.PM.Draw[s](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(e,i=!1){i?this.options.pathOptions=(0,Ho.default)(this.options.pathOptions,e):this.options.pathOptions=e},getShapes(){return this.shapes},getShape(){return this._shape},enable(e,i){if(!e)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[e].enable(i)},disable(){this.shapes.forEach(e=>{this[e].disable()})},addControls(){this.shapes.forEach(e=>{this[e].addButton()})},getActiveShape(){let e;return this.shapes.forEach(i=>{this[i]._enabled&&(e=i)}),e},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let e=[];this._map.eachLayer(i=>{(i instanceof L.Polyline||i instanceof L.Marker||i instanceof L.Circle||i instanceof L.CircleMarker||i instanceof L.ImageOverlay)&&(i._pmTempLayer||e.push(i))}),this._enabled?e.forEach(i=>{L.PM.Utils.disablePopup(i)}):e.forEach(i=>{L.PM.Utils.enablePopup(i)})},createNewDrawInstance(e,i){let s=this._getShapeFromBtnName(i);if(this[e])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[s])throw new TypeError(`There is no class L.PM.Draw.${s}`);return this[e]=new L.PM.Draw[s](this._map),this[e].toolbarButtonName=e,this[e]._shape=e,this.shapes.push(e),this[i]&&this[e].setOptions(this[i].options),this[e].setOptions(this[e].options),this[e]},_getShapeFromBtnName(e){let i={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return i[e]?i[e]:this[e]?this[e]._shape:e},_finishLayer(e){e.pm&&(e.pm.setOptions(this.options),e.pm._shape=this._shape,e.pm._map=this._map),this._addDrawnLayerProp(e)},_addDrawnLayerProp(e){e._drawnByGeoman=!0},_setPane(e,i){i==="layerPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":i==="vertexPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":i==="markerPane"&&(e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),Ge=Sl;Ge.Marker=Ge.extend({initialize(e){this._map=e,this._shape="Marker",this.toolbarButtonName="drawMarker",this._layerIsDragging=!1},enable(e){L.Util.setOptions(this,e),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(he("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(i=>{this.isRelevantMarker(i)&&i.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(e=>{this.isRelevantMarker(e)&&e.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},isRelevantMarker(e){return e instanceof L.Marker&&e.pm&&!e._pmTempLayer&&!e.pm._initTextMarker},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){let i=e;i.target=this._hintMarker,this._handleSnapping(i)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(e){if(!e.latlng||this._layerIsDragging||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let i=this._hintMarker.getLatLng(),s=new L.Marker(i,this.options.markerStyle);this._setPane(s,"markerPane"),this._finishLayer(s),s.pm||(s.options.draggable=!1),s.addTo(this._map.pm._getContainingLayer()),s.pm&&this.options.markerEditable?s.pm.enable():s.dragging&&s.dragging.disable(),this._fireCreate(s),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){this.options.markerStyle?.icon&&this._hintMarker?.setIcon(this.options.markerStyle.icon)}});var ni=63710088e-1,Al={centimeters:ni*100,centimetres:ni*100,degrees:360/(2*Math.PI),feet:ni*3.28084,inches:ni*39.37,kilometers:ni/1e3,kilometres:ni/1e3,meters:ni,metres:ni,miles:ni/1609.344,millimeters:ni*1e3,millimetres:ni*1e3,nauticalmiles:ni/1852,radians:1,yards:ni*1.0936};function Zn(e,i,s={}){let a={type:"Feature"};return(s.id===0||s.id)&&(a.id=s.id),s.bbox&&(a.bbox=s.bbox),a.properties=i||{},a.geometry=e,a}function on(e,i,s={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Wo(e[0])||!Wo(e[1]))throw new Error("coordinates must contain numbers");return Zn({type:"Point",coordinates:e},i,s)}function Ns(e,i,s={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return Zn({type:"LineString",coordinates:e},i,s)}function Si(e,i={}){let s={type:"FeatureCollection"};return i.id&&(s.id=i.id),i.bbox&&(s.bbox=i.bbox),s.features=e,s}function qo(e,i="kilometers"){let s=Al[i];if(!s)throw new Error(i+" units is invalid");return e*s}function _r(e){return e%(2*Math.PI)*180/Math.PI}function Ci(e){return e%360*Math.PI/180}function Wo(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function mr(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function xi(e){let i,s,a={type:"FeatureCollection",features:[]};if(e.type==="Feature"?s=e.geometry:s=e,s.type==="LineString")i=[s.coordinates];else if(s.type==="MultiLineString")i=s.coordinates;else if(s.type==="MultiPolygon")i=[].concat(...s.coordinates);else if(s.type==="Polygon")i=s.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return i.forEach(h=>{i.forEach(d=>{for(let g=0;g<h.length-1;g++)for(let v=g;v<d.length-1;v++){if(h===d&&(Math.abs(g-v)===1||g===0&&v===h.length-2&&h[g][0]===h[h.length-1][0]&&h[g][1]===h[h.length-1][1]))continue;let x=Yo(h[g][0],h[g][1],h[g+1][0],h[g+1][1],d[v][0],d[v][1],d[v+1][0],d[v+1][1]);x&&a.features.push(on([x[0],x[1]]))}})}),a}function Yo(e,i,s,a,h,d,g,v){let x,w,R,A,V,H={x:null,y:null,onLine1:!1,onLine2:!1};return x=(v-d)*(s-e)-(g-h)*(a-i),x===0?H.x!==null&&H.y!==null?H:!1:(w=i-d,R=e-h,A=(g-h)*w-(v-d)*R,V=(s-e)*w-(a-i)*R,w=A/x,R=V/x,H.x=e+w*(s-e),H.y=i+w*(a-i),w>=0&&w<=1&&(H.onLine1=!0),R>=0&&R<=1&&(H.onLine2=!0),H.onLine1&&H.onLine2?[H.x,H.y]:!1)}var gr=xi;Ge.Line=Ge.extend({initialize(e){this._map=e,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(e){L.Util.setOptions(this,e),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(he("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},_syncHintLine(){let e=this._layer.getLatLngs();if(e.length>0){let i=e[e.length-1];this._hintline.setLatLngs([i,this._hintMarker.getLatLng()])}},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){let s=e;s.target=this._hintMarker,this._handleSnapping(s)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let i=this._layer._defaultShape().slice();i.push(this._hintMarker.getLatLng()),this._change(i)},hasSelfIntersection(){return gr(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(e,i){let s=L.polyline(this._layer.getLatLngs());e&&(i||(i=this._hintMarker.getLatLng()),s.addLatLng(i));let a=gr(s.toGeoJSON(15));this._doesSelfIntersect=a.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(a,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(e){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,e.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let i=this._hintMarker.getLatLng(),s=this._layer.getLatLngs(),a=s[s.length-1];if(i.equals(s[0])||s.length>0&&i.equals(a)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:i,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(i);let h=this._createMarker(i);this._setTooltipText(),this._setHintLineAfterNewVertex(i),this._fireVertexAdded(h,void 0,i,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(e)},_setHintLineAfterNewVertex(e){this._hintline.setLatLngs([e,e])},_removeLastVertex(){let e=this._markers;if(e.length<=1){this.disable();return}let i=this._layer.getLatLngs(),s=e[e.length-1],{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(e,s);e.pop(),this._layerGroup.removeLayer(s);let h=e[e.length-1],d=i.indexOf(h.getLatLng());i=i.slice(0,d+1),this._layer.setLatLngs(i),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(s,a,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let e=this._layer.getLatLngs();if(e.length<=1)return;let i=L.polyline(e,this.options.pathOptions);this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),this._fireCreate(i),this.options.snappable&&this._cleanupSnapping();let s=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(s))},_createMarker(e){let i=new L.Marker(e,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._markers.push(i),i.on("click",this._finishShape,this),i},_setTooltipText(){let{length:e}=this._layer.getLatLngs().flat(),i="";e<=1?i=he("tooltips.continueLine"):i=he("tooltips.finishLine"),this._hintMarker.setTooltipContent(i)},_change(e){this._fireChange(e,"Draw")},setStyle(){this._layer?.setStyle(this.options.templineStyle),this._hintline?.setStyle(this.options.hintlineStyle)}}),Ge.Polygon=Ge.Line.extend({initialize(e){this._map=e,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(e){L.PM.Draw.Line.prototype.enable.call(this,e),this._layer.pm._shape="Polygon"},_createMarker(e){let i=new L.Marker(e,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._markers.push(i),this._layer.getLatLngs().flat().length===1?(i.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(i)-1,this.options.snappable&&this._cleanupSnapping()):i.on("click",()=>1),i},_setTooltipText(){let{length:e}=this._layer.getLatLngs().flat(),i="";e<=2?i=he("tooltips.continueLine"):i=he("tooltips.finishPoly"),this._hintMarker.setTooltipContent(i)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let e=this._layer.getLatLngs();if(e.length<=2)return;let i=L.polygon(e,this.options.pathOptions);this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),this._fireCreate(i),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let s=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(s))}}),Ge.Rectangle=Ge.extend({initialize(e){this._map=e,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(e){if(L.Util.setOptions(this,e),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(he("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let i=0;i<2;i+=1){let s=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(s,"vertexPane"),s._pmTempLayer=!0,this._layerGroup.addLayer(s),this._styleMarkers.push(s)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},_placeStartingMarkers(e){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let i=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(i),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(s=>{L.DomUtil.addClass(s._icon,"visible"),s.setLatLng(i)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(he("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let e=this._startMarker.getLatLng();e&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([e,e]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){let s=e;s.target=this._hintMarker,this._handleSnapping(s)}let i=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(i,"Draw")},_syncRectangleSize(){let e=Is(this._startMarker.getLatLng(),this._map),i=Is(this._hintMarker.getLatLng(),this._map),s=L.PM.Utils._getRotatedRectangle(e,i,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(s),this.options.cursorMarker&&this._styleMarkers){let a=[];s.forEach(h=>{!h.equals(e,1e-8)&&!h.equals(i,1e-8)&&a.push(h)}),a.forEach((h,d)=>{try{this._styleMarkers[d].setLatLng(h)}catch{}})}},_findCorners(){let e=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(e[0],e[2],this.options.rectangleAngle||0,this._map)},_finishShape(e){e?.latlng&&!this._hintMarker._snapped&&this._hintMarker.setLatLng(e.latlng);let i=this._hintMarker.getLatLng(),s=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||s.equals(i))return;let a=L.rectangle([s,i],this.options.pathOptions);if(this.options.rectangleAngle){let d=L.PM.Utils._getRotatedRectangle(s,i,this.options.rectangleAngle||0,this._map);a.setLatLngs(d),a.pm&&a.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a);let h=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(h))},setStyle(){this._layer?.setStyle(this.options.pathOptions)}}),Ge.CircleMarker=Ge.extend({initialize(e){this._map=e,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(e){if(L.Util.setOptions(this,e),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let i={};L.extend(i,this.options.templineStyle),i.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),i),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(he("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(he("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(e=>{this.isRelevantMarker(e)&&e.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(e=>{this.isRelevantMarker(e)&&e.pm.disable()})},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},_placeCenterMarker(e){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let i=this._hintMarker.getLatLng();this._centerMarker.setLatLng(i),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let e=this._centerMarker.getLatLng();e&&(this._layer.setLatLng(e),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(he("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let e=this._centerMarker.getLatLng(),i=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([e,i])},_syncCircleRadius(){let e=this._centerMarker.getLatLng(),i=this._hintMarker.getLatLng(),s=this._distanceCalculation(e,i);this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(s)},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let s=e;s.target=this._hintMarker,this._handleSnapping(s)}this._handleHintMarkerSnapping();let i=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(i,"Draw")},isRelevantMarker(e){return e instanceof L.CircleMarker&&!(e instanceof L.Circle)&&e.pm&&!e._pmTempLayer},_createMarker(e){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!e.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let i=this._hintMarker.getLatLng(),s=new this._BaseCircleClass(i,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(s,"layerPane"),this._finishLayer(s),s.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(s),this._fireCreate(s),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(e){e.pm&&this.options.markerEditable&&e.pm.enable()},_finishShape(e){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;e?.latlng&&!this._hintMarker._snapped&&this._hintMarker.setLatLng(e.latlng);let i=this._centerMarker.getLatLng(),s=this._defaultRadius;if(this.options[this._editableOption]){let g=this._hintMarker.getLatLng();s=this._distanceCalculation(i,g),this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]?s=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption]&&(s=this.options[this._maxRadiusOption])}let a={...this.options.pathOptions,radius:s},h=new this._BaseCircleClass(i,a);this._setPane(h,"layerPane"),this._finishLayer(h),h.addTo(this._map.pm._getContainingLayer()),h.pm&&h.pm._updateHiddenPolyCircle(),this._fireCreate(h);let d=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(d))},_getNewDestinationOfHintMarker(){let e=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return e;let i=this._centerMarker.getLatLng(),s=this._distanceCalculation(i,e);this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]?e=Hr(this._map,i,e,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption]&&(e=Hr(this._map,i,e,this._getMaxDistanceInMeter()))}return e},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let e=this._centerMarker.getLatLng(),i=this._hintMarker.getLatLng(),s=this._distanceCalculation(e,i);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){let e={};L.extend(e,this.options.templineStyle),this.options[this._editableOption]&&(e.radius=0),this._layer?.setStyle(e),this._hintline?.setStyle(this.options.hintlineStyle)},_distanceCalculation(e,i){return this._map.project(e).distanceTo(this._map.project(i))}}),Ge.Circle=Ge.CircleMarker.extend({initialize(e){this._map=e,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(e,i){return this._map.distance(e,i)}});var Xo=class{constructor(e=[],i=zs){if(this.data=e,this.length=this.data.length,this.compare=i,this.length>0)for(let s=(this.length>>1)-1;s>=0;s--)this._down(s)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;let e=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),e}peek(){return this.data[0]}_up(e){let{data:i,compare:s}=this,a=i[e];for(;e>0;){let h=e-1>>1,d=i[h];if(s(a,d)>=0)break;i[e]=d,e=h}i[e]=a}_down(e){let{data:i,compare:s}=this,a=this.length>>1,h=i[e];for(;e<a;){let d=(e<<1)+1,g=i[d],v=d+1;if(v<this.length&&s(i[v],g)<0&&(d=v,g=i[v]),s(g,h)>=0)break;i[e]=g,e=d}i[e]=h}};function zs(e,i){return e<i?-1:e>i?1:0}function qr(e,i){return e.p.x>i.p.x?1:e.p.x<i.p.x?-1:e.p.y!==i.p.y?e.p.y>i.p.y?1:-1:1}function Tl(e,i){return e.rightSweepEvent.p.x>i.rightSweepEvent.p.x?1:e.rightSweepEvent.p.x<i.rightSweepEvent.p.x?-1:e.rightSweepEvent.p.y!==i.rightSweepEvent.p.y?e.rightSweepEvent.p.y<i.rightSweepEvent.p.y?1:-1:1}var Jo=class{constructor(e,i,s,a){this.p={x:e[0],y:e[1]},this.featureId=i,this.ringId=s,this.eventId=a,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(e){return this.p.x===e.p.x&&this.p.y===e.p.y}};function $o(e,i){if(e.type==="FeatureCollection"){let s=e.features;for(let a=0;a<s.length;a++)Qo(s[a],i)}else Qo(e,i)}var Wr=0,ri=0,Wi=0;function Qo(e,i){let s=e.type==="Feature"?e.geometry:e,a=s.coordinates;(s.type==="Polygon"||s.type==="MultiLineString")&&(a=[a]),s.type==="LineString"&&(a=[[a]]);for(let h=0;h<a.length;h++)for(let d=0;d<a[h].length;d++){let g=a[h][d][0],v=null;ri=ri+1;for(let x=0;x<a[h][d].length-1;x++){v=a[h][d][x+1];let w=new Jo(g,Wr,ri,Wi),R=new Jo(v,Wr,ri,Wi+1);w.otherEvent=R,R.otherEvent=w,qr(w,R)>0?(R.isLeftEndpoint=!0,w.isLeftEndpoint=!1):(w.isLeftEndpoint=!0,R.isLeftEndpoint=!1),i.push(w),i.push(R),g=v,Wi=Wi+1}}Wr=Wr+1}var Yi=class{constructor(e){this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}};function Dl(e,i){if(e===null||i===null||e.leftSweepEvent.ringId===i.leftSweepEvent.ringId&&(e.rightSweepEvent.isSamePoint(i.leftSweepEvent)||e.rightSweepEvent.isSamePoint(i.leftSweepEvent)||e.rightSweepEvent.isSamePoint(i.rightSweepEvent)||e.leftSweepEvent.isSamePoint(i.leftSweepEvent)||e.leftSweepEvent.isSamePoint(i.rightSweepEvent)))return!1;let s=e.leftSweepEvent.p.x,a=e.leftSweepEvent.p.y,h=e.rightSweepEvent.p.x,d=e.rightSweepEvent.p.y,g=i.leftSweepEvent.p.x,v=i.leftSweepEvent.p.y,x=i.rightSweepEvent.p.x,w=i.rightSweepEvent.p.y,R=(w-v)*(h-s)-(x-g)*(d-a),A=(x-g)*(a-v)-(w-v)*(s-g),V=(h-s)*(a-v)-(d-a)*(s-g);if(R===0)return!1;let H=A/R,nt=V/R;if(H>=0&&H<=1&&nt>=0&&nt<=1){let ft=s+H*(h-s),bt=a+H*(d-a);return[ft,bt]}return!1}function Un(e,i){i=i||!1;let s=[],a=new Xo([],Tl);for(;e.length;){let h=e.pop();if(h.isLeftEndpoint){let d=new Yi(h);for(let g=0;g<a.data.length;g++){let v=a.data[g];if(i&&v.leftSweepEvent.featureId===h.featureId)continue;let x=Dl(d,v);x!==!1&&s.push(x)}a.push(d)}else h.isLeftEndpoint===!1&&a.pop()}return s}function Ol(e,i){let s=new Xo([],qr);return $o(e,s),Un(s,i)}var yr=Ol,ta=yr;function vr(e,i,s={}){let{removeDuplicates:a=!0,ignoreSelfIntersections:h=!0}=s,d=[];e.type==="FeatureCollection"?d=d.concat(e.features):e.type==="Feature"?d.push(e):(e.type==="LineString"||e.type==="Polygon"||e.type==="MultiLineString"||e.type==="MultiPolygon")&&d.push(Zn(e)),i.type==="FeatureCollection"?d=d.concat(i.features):i.type==="Feature"?d.push(i):(i.type==="LineString"||i.type==="Polygon"||i.type==="MultiLineString"||i.type==="MultiPolygon")&&d.push(Zn(i));let g=ta(Si(d),h),v=[];if(a){let x={};g.forEach(w=>{let R=w.join(",");x[R]||(x[R]=!0,v.push(w))})}else v=g;return Si(v.map(x=>on(x)))}var Lr=vr,qe=b(de(),1);function Vn(e,i,s){if(e!==null)for(var a,h,d,g,v,x,w,R=0,A=0,V,H=e.type,nt=H==="FeatureCollection",ft=H==="Feature",bt=nt?e.features.length:1,St=0;St<bt;St++){w=nt?e.features[St].geometry:ft?e.geometry:e,V=w?w.type==="GeometryCollection":!1,v=V?w.geometries.length:1;for(var D=0;D<v;D++){var X=0,it=0;if(g=V?w.geometries[D]:w,g!==null){x=g.coordinates;var vt=g.type;switch(R=0,vt){case null:break;case"Point":if(i(x,A,St,X,it)===!1)return!1;A++,X++;break;case"LineString":case"MultiPoint":for(a=0;a<x.length;a++){if(i(x[a],A,St,X,it)===!1)return!1;A++,vt==="MultiPoint"&&X++}vt==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(a=0;a<x.length;a++){for(h=0;h<x[a].length-R;h++){if(i(x[a][h],A,St,X,it)===!1)return!1;A++}vt==="MultiLineString"&&X++,vt==="Polygon"&&it++}vt==="Polygon"&&X++;break;case"MultiPolygon":for(a=0;a<x.length;a++){for(it=0,h=0;h<x[a].length;h++){for(d=0;d<x[a][h].length-R;d++){if(i(x[a][h][d],A,St,X,it)===!1)return!1;A++}it++}X++}break;case"GeometryCollection":for(a=0;a<g.geometries.length;a++)if(Vn(g.geometries[a],i)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Yr(e,i){if(e.type==="Feature")i(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&i(e.features[s],s)!==!1;s++);}function Gs(e,i,s){var a=s;return Yr(e,function(h,d){d===0&&s===void 0?a=h:a=i(a,h,d)}),a}function Rl(e,i){var s,a,h,d,g,v,x,w,R,A,V=0,H=e.type==="FeatureCollection",nt=e.type==="Feature",ft=H?e.features.length:1;for(s=0;s<ft;s++){for(v=H?e.features[s].geometry:nt?e.geometry:e,w=H?e.features[s].properties:nt?e.properties:{},R=H?e.features[s].bbox:nt?e.bbox:void 0,A=H?e.features[s].id:nt?e.id:void 0,x=v?v.type==="GeometryCollection":!1,g=x?v.geometries.length:1,h=0;h<g;h++){if(d=x?v.geometries[h]:v,d===null){if(i(null,V,w,R,A)===!1)return!1;continue}switch(d.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(i(d,V,w,R,A)===!1)return!1;break}case"GeometryCollection":{for(a=0;a<d.geometries.length;a++)if(i(d.geometries[a],V,w,R,A)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}V++}}function Ai(e,i){Rl(e,function(s,a,h,d,g){var v=s===null?null:s.type;switch(v){case null:case"Point":case"LineString":case"Polygon":return i(Zn(s,h,{bbox:d,id:g}),a,0)===!1?!1:void 0}var x;switch(v){case"MultiPoint":x="Point";break;case"MultiLineString":x="LineString";break;case"MultiPolygon":x="Polygon";break}for(var w=0;w<s.coordinates.length;w++){var R=s.coordinates[w],A={type:x,coordinates:R};if(i(Zn(A,h),a,w)===!1)return!1}})}function Ui(e,i={}){if(e.bbox!=null&&i.recompute!==!0)return e.bbox;let s=[1/0,1/0,-1/0,-1/0];return Vn(e,a=>{s[0]>a[0]&&(s[0]=a[0]),s[1]>a[1]&&(s[1]=a[1]),s[2]<a[0]&&(s[2]=a[0]),s[3]<a[1]&&(s[3]=a[1])}),s}function xn(e){var i=new qe.default(e);return i.insert=function(s){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:Ui(s),qe.default.prototype.insert.call(this,s)},i.load=function(s){var a=[];return Array.isArray(s)?s.forEach(function(h){if(h.type!=="Feature")throw new Error("invalid features");h.bbox=h.bbox?h.bbox:Ui(h),a.push(h)}):Yr(s,function(h){if(h.type!=="Feature")throw new Error("invalid features");h.bbox=h.bbox?h.bbox:Ui(h),a.push(h)}),qe.default.prototype.load.call(this,a)},i.remove=function(s,a){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:Ui(s),qe.default.prototype.remove.call(this,s,a)},i.clear=function(){return qe.default.prototype.clear.call(this)},i.search=function(s){var a=qe.default.prototype.search.call(this,this.toBBox(s));return Si(a)},i.collides=function(s){return qe.default.prototype.collides.call(this,this.toBBox(s))},i.all=function(){var s=qe.default.prototype.all.call(this);return Si(s)},i.toJSON=function(){return qe.default.prototype.toJSON.call(this)},i.fromJSON=function(s){return qe.default.prototype.fromJSON.call(this,s)},i.toBBox=function(s){var a;if(s.bbox)a=s.bbox;else if(Array.isArray(s)&&s.length===4)a=s;else if(Array.isArray(s)&&s.length===6)a=[s[0],s[1],s[3],s[4]];else if(s.type==="Feature")a=Ui(s);else if(s.type==="FeatureCollection")a=Ui(s);else throw new Error("invalid geojson");return{minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]}},i}function Il(e,i){if(i=i??{},!mr(i))throw new Error("options is invalid");var s=i.precision,a=i.coordinates,h=i.mutate;if(s=s==null||isNaN(s)?6:s,a=a==null||isNaN(a)?3:a,!e)throw new Error("<geojson> is required");if(typeof s!="number")throw new Error("<precision> must be a number");if(typeof a!="number")throw new Error("<coordinates> must be a number");(h===!1||h===void 0)&&(e=JSON.parse(JSON.stringify(e)));var d=Math.pow(10,s);return Vn(e,function(g){Xi(g,d,a)}),e}function Xi(e,i,s){e.length>s&&e.splice(s,e.length);for(var a=0;a<e.length;a++)e[a]=Math.round(e[a]*i)/i;return e}function di(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function an(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Hn(e){return e.type==="Feature"?e.geometry:e}function br(e,i){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}function js(e){if(!e)throw new Error("geojson is required");let i=[];return Ai(e,s=>{Xr(s,i)}),Si(i)}function Xr(e,i){let s=[],a=e.geometry;if(a!==null){switch(a.type){case"Polygon":s=an(a);break;case"LineString":s=[an(a)]}s.forEach(h=>{Kn(h,e.properties).forEach(d=>{d.id=i.length,i.push(d)})})}}function Kn(e,i){let s=[];return e.reduce((a,h)=>{let d=Ns([a,h],i);return d.bbox=Jr(a,h),s.push(d),h}),s}function Jr(e,i){let s=e[0],a=e[1],h=i[0],d=i[1],g=s<h?s:h,v=a<d?a:d,x=s>h?s:h,w=a>d?a:d;return[g,v,x,w]}function Cr(e,i,s={}){var a=di(e),h=di(i),d=Ci(h[1]-a[1]),g=Ci(h[0]-a[0]),v=Ci(a[1]),x=Ci(h[1]),w=Math.pow(Math.sin(d/2),2)+Math.pow(Math.sin(g/2),2)*Math.cos(v)*Math.cos(x);return qo(2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w)),s.units)}var ea=Object.defineProperty,Fl=Object.defineProperties,$r=Object.getOwnPropertyDescriptors,ia=Object.getOwnPropertySymbols,na=Object.prototype.hasOwnProperty,Nl=Object.prototype.propertyIsEnumerable,Zs=(e,i,s)=>i in e?ea(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s,ra=(e,i)=>{for(var s in i||(i={}))na.call(i,s)&&Zs(e,s,i[s]);if(ia)for(var s of ia(i))Nl.call(i,s)&&Zs(e,s,i[s]);return e},Ti=(e,i)=>Fl(e,$r(i));function Qr(e,i,s={}){if(!e||!i)throw new Error("lines and pt are required arguments");let a=di(i),h=on([1/0,1/0],{dist:1/0,index:-1,multiFeatureIndex:-1,location:-1}),d=0;return Ai(e,function(g,v,x){let w=an(g);for(let R=0;R<w.length-1;R++){let A=on(w[R]),V=di(A),H=on(w[R+1]),nt=di(H),ft=Cr(A,H,s),bt,St;nt[0]===a[0]&&nt[1]===a[1]?[bt,St]=[nt,!0]:V[0]===a[0]&&V[1]===a[1]?[bt,St]=[V,!1]:[bt,St]=Gl(V,nt,a);let D=on(bt,{dist:Cr(i,bt,s),multiFeatureIndex:x,location:d+Cr(A,bt,s)});D.properties.dist<h.properties.dist&&(h=Ti(ra({},D),{properties:Ti(ra({},D.properties),{index:St?R+1:R})})),d+=ft}}),h}function wn(e,i){let[s,a,h]=e,[d,g,v]=i;return s*d+a*g+h*v}function ln(e,i){let[s,a,h]=e,[d,g,v]=i;return[a*v-h*g,h*d-s*v,s*g-a*d]}function zl(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2))}function Us(e){let i=zl(e);return[e[0]/i,e[1]/i,e[2]/i]}function Vs(e){let i=Ci(e[1]),s=Ci(e[0]);return[Math.cos(i)*Math.cos(s),Math.cos(i)*Math.sin(s),Math.sin(i)]}function xr(e){let[i,s,a]=e,h=Math.min(Math.max(a,-1),1),d=_r(Math.asin(h));return[_r(Math.atan2(s,i)),d]}function Gl(e,i,s){let a=Vs(e),h=Vs(i),d=Vs(s),g=ln(a,h);if(g[0]===0&&g[1]===0&&g[2]===0)return wn(a,h)>0?[[...i],!0]:[[...s],!1];let v=ln(g,d);if(v[0]===0&&v[1]===0&&v[2]===0)return[[...i],!0];let x=ln(v,g),w=Us(x),R=[-w[0],-w[1],-w[2]],A=wn(d,w)>wn(d,R)?w:R,V=Us(g),H=wn(ln(a,A),V),nt=wn(ln(A,h),V);return H>=0&&nt>=0?[xr(A),!1]:wn(a,d)>wn(h,d)?[[...e],!1]:[[...i],!0]}function qn(e,i){if(!e)throw new Error("line is required");if(!i)throw new Error("splitter is required");var s=br(e),a=br(i);if(s!=="LineString")throw new Error("line must be LineString");if(a==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(a==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var h=Il(i,{precision:7});switch(a){case"Point":return ts(e,h);case"MultiPoint":return Hs(e,h);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Hs(e,vr(e,h,{ignoreSelfIntersections:!0}))}}function Hs(e,i){var s=[],a=xn();return Ai(i,function(h){if(s.forEach(function(v,x){v.id=x}),!s.length)s=ts(e,h).features,a.load(Si(s));else{var d=a.search(h);if(d.features.length){var g=sa(h,d);s=s.filter(function(v){return v.id!==g.id}),a.remove(g),Yr(ts(g,h),function(v){s.push(v),a.insert(v)})}}}),Si(s)}function ts(e,i){var s=[],a=an(e)[0],h=an(e)[e.geometry.coordinates.length-1];if(Di(a,di(i))||Di(h,di(i)))return Si([e]);var d=xn(),g=js(e);d.load(g);var v=d.search(i);if(!v.features.length)return Si([e]);var x=sa(i,v),w=[a],R=Gs(g,function(A,V,H){var nt=an(V)[1],ft=di(i);return H===x.id?(A.push(ft),s.push(Ns(A)),Di(ft,nt)?[ft]:[ft,nt]):(A.push(nt),A)},w);return R.length>1&&s.push(Ns(R)),Si(s)}function sa(e,i){if(!i.features.length)throw new Error("lines must contain features");if(i.features.length===1)return i.features[0];var s,a=1/0;return Yr(i,function(h){var d=Qr(h,e),g=d.properties.dist;g<a&&(s=h,a=g)}),s}function Di(e,i){return e[0]===i[0]&&e[1]===i[1]}var oa=qn,Vi=11102230246251565e-32,Te=134217729,jl=(3+8*Vi)*Vi;function Wn(e,i,s,a,h){let d,g,v,x,w=i[0],R=a[0],A=0,V=0;R>w==R>-w?(d=w,w=i[++A]):(d=R,R=a[++V]);let H=0;if(A<e&&V<s)for(R>w==R>-w?(g=w+d,v=d-(g-w),w=i[++A]):(g=R+d,v=d-(g-R),R=a[++V]),d=g,v!==0&&(h[H++]=v);A<e&&V<s;)R>w==R>-w?(g=d+w,x=g-d,v=d-(g-x)+(w-x),w=i[++A]):(g=d+R,x=g-d,v=d-(g-x)+(R-x),R=a[++V]),d=g,v!==0&&(h[H++]=v);for(;A<e;)g=d+w,x=g-d,v=d-(g-x)+(w-x),w=i[++A],d=g,v!==0&&(h[H++]=v);for(;V<s;)g=d+R,x=g-d,v=d-(g-x)+(R-x),R=a[++V],d=g,v!==0&&(h[H++]=v);return(d!==0||H===0)&&(h[H++]=d),H}function wr(e,i){let s=i[0];for(let a=1;a<e;a++)s+=i[a];return s}function Yn(e){return new Float64Array(e)}var aa=(3+16*Vi)*Vi,Zl=(2+12*Vi)*Vi,la=(9+64*Vi)*Vi*Vi,kn=Yn(4),Ks=Yn(8),qs=Yn(12),Ws=Yn(16),ti=Yn(4);function ua(e,i,s,a,h,d,g){let v,x,w,R,A,V,H,nt,ft,bt,St,D,X,it,vt,gt,yt,B,S=e-h,T=s-h,Z=i-d,G=a-d;it=S*G,V=Te*S,H=V-(V-S),nt=S-H,V=Te*G,ft=V-(V-G),bt=G-ft,vt=nt*bt-(it-H*ft-nt*ft-H*bt),gt=Z*T,V=Te*Z,H=V-(V-Z),nt=Z-H,V=Te*T,ft=V-(V-T),bt=T-ft,yt=nt*bt-(gt-H*ft-nt*ft-H*bt),St=vt-yt,A=vt-St,kn[0]=vt-(St+A)+(A-yt),D=it+St,A=D-it,X=it-(D-A)+(St-A),St=X-gt,A=X-St,kn[1]=X-(St+A)+(A-gt),B=D+St,A=B-D,kn[2]=D-(B-A)+(St-A),kn[3]=B;let N=wr(4,kn),q=Zl*g;if(N>=q||-N>=q||(A=e-S,v=e-(S+A)+(A-h),A=s-T,w=s-(T+A)+(A-h),A=i-Z,x=i-(Z+A)+(A-d),A=a-G,R=a-(G+A)+(A-d),v===0&&x===0&&w===0&&R===0)||(q=la*g+jl*Math.abs(N),N+=S*R+G*v-(Z*w+T*x),N>=q||-N>=q))return N;it=v*G,V=Te*v,H=V-(V-v),nt=v-H,V=Te*G,ft=V-(V-G),bt=G-ft,vt=nt*bt-(it-H*ft-nt*ft-H*bt),gt=x*T,V=Te*x,H=V-(V-x),nt=x-H,V=Te*T,ft=V-(V-T),bt=T-ft,yt=nt*bt-(gt-H*ft-nt*ft-H*bt),St=vt-yt,A=vt-St,ti[0]=vt-(St+A)+(A-yt),D=it+St,A=D-it,X=it-(D-A)+(St-A),St=X-gt,A=X-St,ti[1]=X-(St+A)+(A-gt),B=D+St,A=B-D,ti[2]=D-(B-A)+(St-A),ti[3]=B;let U=Wn(4,kn,4,ti,Ks);it=S*R,V=Te*S,H=V-(V-S),nt=S-H,V=Te*R,ft=V-(V-R),bt=R-ft,vt=nt*bt-(it-H*ft-nt*ft-H*bt),gt=Z*w,V=Te*Z,H=V-(V-Z),nt=Z-H,V=Te*w,ft=V-(V-w),bt=w-ft,yt=nt*bt-(gt-H*ft-nt*ft-H*bt),St=vt-yt,A=vt-St,ti[0]=vt-(St+A)+(A-yt),D=it+St,A=D-it,X=it-(D-A)+(St-A),St=X-gt,A=X-St,ti[1]=X-(St+A)+(A-gt),B=D+St,A=B-D,ti[2]=D-(B-A)+(St-A),ti[3]=B;let K=Wn(U,Ks,4,ti,qs);it=v*R,V=Te*v,H=V-(V-v),nt=v-H,V=Te*R,ft=V-(V-R),bt=R-ft,vt=nt*bt-(it-H*ft-nt*ft-H*bt),gt=x*w,V=Te*x,H=V-(V-x),nt=x-H,V=Te*w,ft=V-(V-w),bt=w-ft,yt=nt*bt-(gt-H*ft-nt*ft-H*bt),St=vt-yt,A=vt-St,ti[0]=vt-(St+A)+(A-yt),D=it+St,A=D-it,X=it-(D-A)+(St-A),St=X-gt,A=X-St,ti[1]=X-(St+A)+(A-gt),B=D+St,A=B-D,ti[2]=D-(B-A)+(St-A),ti[3]=B;let $=Wn(K,qs,4,ti,Ws);return Ws[$-1]}function ha(e,i,s,a,h,d){let g=(i-d)*(s-h),v=(e-h)*(a-d),x=g-v,w=Math.abs(g+v);return Math.abs(x)>=aa*w?x:-ua(e,i,s,a,h,d,w)}function Ul(e,i){var s,a,h=0,d,g,v,x,w,R,A,V=e[0],H=e[1],nt=i.length;for(s=0;s<nt;s++){a=0;var ft=i[s],bt=ft.length-1;if(R=ft[0],R[0]!==ft[bt][0]&&R[1]!==ft[bt][1])throw new Error("First and last coordinates in a ring must be the same");for(g=R[0]-V,v=R[1]-H,a;a<bt;a++){if(A=ft[a+1],x=A[0]-V,w=A[1]-H,v===0&&w===0){if(x<=0&&g>=0||g<=0&&x>=0)return 0}else if(w>=0&&v<=0||w<=0&&v>=0){if(d=ha(g,x,v,w,0,0),d===0)return 0;(d>0&&w>0&&v<=0||d<0&&w<=0&&v>0)&&h++}R=A,v=w,g=x}}return h%2!==0}function t(e,i,s={}){if(!e)throw new Error("point is required");if(!i)throw new Error("polygon is required");let a=di(e),h=Hn(i),d=h.type,g=i.bbox,v=h.coordinates;if(g&&r(a,g)===!1)return!1;d==="Polygon"&&(v=[v]);let x=!1;for(var w=0;w<v.length;++w){let R=Ul(a,v[w]);if(R===0)return!s.ignoreBoundary;R&&(x=!0)}return x}function r(e,i){return i[0]<=e[0]&&i[1]<=e[1]&&i[2]>=e[0]&&i[3]>=e[1]}function l(e,i,s={}){let a=di(e),h=an(i);for(let d=0;d<h.length-1;d++){let g=!1;if(s.ignoreEndVertices&&(d===0&&(g="start"),d===h.length-2&&(g="end"),d===0&&d+1===h.length-1&&(g="both")),p(h[d],h[d+1],a,g,typeof s.epsilon>"u"?null:s.epsilon))return!0}return!1}function p(e,i,s,a,h){let d=s[0],g=s[1],v=e[0],x=e[1],w=i[0],R=i[1],A=s[0]-v,V=s[1]-x,H=w-v,nt=R-x,ft=A*nt-V*H;if(h!==null){if(Math.abs(ft)>h)return!1}else if(ft!==0)return!1;if(Math.abs(H)===Math.abs(nt)&&Math.abs(H)===0)return a?!1:s[0]===e[0]&&s[1]===e[1];if(a){if(a==="start")return Math.abs(H)>=Math.abs(nt)?H>0?v<d&&d<=w:w<=d&&d<v:nt>0?x<g&&g<=R:R<=g&&g<x;if(a==="end")return Math.abs(H)>=Math.abs(nt)?H>0?v<=d&&d<w:w<d&&d<=v:nt>0?x<=g&&g<R:R<g&&g<=x;if(a==="both")return Math.abs(H)>=Math.abs(nt)?H>0?v<d&&d<w:w<d&&d<v:nt>0?x<g&&g<R:R<g&&g<x}else return Math.abs(H)>=Math.abs(nt)?H>0?v<=d&&d<=w:w<=d&&d<=v:nt>0?x<=g&&g<=R:R<=g&&g<=x;return!1}function C(e,i){let s=Hn(e),a=Hn(i),h=s.type,d=a.type,g=s.coordinates,v=a.coordinates;switch(h){case"Point":if(d==="Point")return De(g,v);throw new Error("feature2 "+d+" geometry not supported");case"MultiPoint":switch(d){case"Point":return z(s,a);case"MultiPoint":return Y(s,a);default:throw new Error("feature2 "+d+" geometry not supported")}case"LineString":switch(d){case"Point":return l(a,s,{ignoreEndVertices:!0});case"LineString":return Tt(s,a);case"MultiPoint":return tt(s,a);default:throw new Error("feature2 "+d+" geometry not supported")}case"Polygon":switch(d){case"Point":return t(a,s,{ignoreBoundary:!0});case"LineString":return Kt(s,a);case"Polygon":return ie(s,a);case"MultiPoint":return ct(s,a);default:throw new Error("feature2 "+d+" geometry not supported")}case"MultiPolygon":if(d==="Polygon")return P(s,a);throw new Error("feature2 "+d+" geometry not supported");default:throw new Error("feature1 "+h+" geometry not supported")}}function P(e,i){return e.coordinates.some(s=>ie({type:"Polygon",coordinates:s},i))}function z(e,i){let s,a=!1;for(s=0;s<e.coordinates.length;s++)if(De(e.coordinates[s],i.coordinates)){a=!0;break}return a}function Y(e,i){for(let s of i.coordinates){let a=!1;for(let h of e.coordinates)if(De(s,h)){a=!0;break}if(!a)return!1}return!0}function tt(e,i){let s=!1;for(let a of i.coordinates)if(l(a,e,{ignoreEndVertices:!0})&&(s=!0),!l(a,e))return!1;return!!s}function ct(e,i){for(let s of i.coordinates)if(!t(s,e,{ignoreBoundary:!0}))return!1;return!0}function Tt(e,i){let s=!1;for(let a of i.coordinates)if(l({type:"Point",coordinates:a},e,{ignoreEndVertices:!0})&&(s=!0),!l({type:"Point",coordinates:a},e,{ignoreEndVertices:!1}))return!1;return s}function Kt(e,i){let s=!1,a=0,h=Ui(e),d=Ui(i);if(!$e(h,d))return!1;for(a;a<i.coordinates.length-1;a++){let g=wi(i.coordinates[a],i.coordinates[a+1]);if(t({type:"Point",coordinates:g},e,{ignoreBoundary:!0})){s=!0;break}}return s}function ie(e,i){if(e.type==="Feature"&&e.geometry===null||i.type==="Feature"&&i.geometry===null)return!1;let s=Ui(e),a=Ui(i);if(!$e(s,a))return!1;let h=Hn(i).coordinates;for(let d of h)for(let g of d)if(!t(g,e))return!1;return!0}function $e(e,i){return!(e[0]>i[0]||e[2]<i[2]||e[1]>i[1]||e[3]<i[3])}function De(e,i){return e[0]===i[0]&&e[1]===i[1]}function wi(e,i){return[(e[0]+i[0])/2,(e[1]+i[1])/2]}var si=C,Xn=b(en()),Vl=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Ys=Math.ceil,ki=Math.floor,ei="[BigNumber Error] ",ca=ei+"Number primitive has more than 15 significant digits: ",Mi=1e14,Rt=14,Jn=9007199254740991,Xs=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],un=1e7,je=1e9;function es(e){var i,s,a,h=D.prototype={constructor:D,toString:null,valueOf:null},d=new D(1),g=20,v=4,x=-7,w=21,R=-1e7,A=1e7,V=!1,H=1,nt=0,ft={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},bt="0123456789abcdefghijklmnopqrstuvwxyz",St=!0;function D(B,S){var T,Z,G,N,q,U,K,$,J=this;if(!(J instanceof D))return new D(B,S);if(S==null){if(B&&B._isBigNumber===!0){J.s=B.s,!B.c||B.e>A?J.c=J.e=null:B.e<R?J.c=[J.e=0]:(J.e=B.e,J.c=B.c.slice());return}if((U=typeof B=="number")&&B*0==0){if(J.s=1/B<0?(B=-B,-1):1,B===~~B){for(N=0,q=B;q>=10;q/=10,N++);N>A?J.c=J.e=null:(J.e=N,J.c=[B]);return}$=String(B)}else{if(!Vl.test($=String(B)))return a(J,$,U);J.s=$.charCodeAt(0)==45?($=$.slice(1),-1):1}(N=$.indexOf("."))>-1&&($=$.replace(".","")),(q=$.search(/e/i))>0?(N<0&&(N=q),N+=+$.slice(q+1),$=$.substring(0,q)):N<0&&(N=$.length)}else{if(Pe(S,2,bt.length,"Base"),S==10&&St)return J=new D(B),gt(J,g+J.e+1,v);if($=String(B),U=typeof B=="number"){if(B*0!=0)return a(J,$,U,S);if(J.s=1/B<0?($=$.slice(1),-1):1,D.DEBUG&&$.replace(/^0\.0*|\./,"").length>15)throw Error(ca+B)}else J.s=$.charCodeAt(0)===45?($=$.slice(1),-1):1;for(T=bt.slice(0,S),N=q=0,K=$.length;q<K;q++)if(T.indexOf(Z=$.charAt(q))<0){if(Z=="."){if(q>N){N=K;continue}}else if(!G&&($==$.toUpperCase()&&($=$.toLowerCase())||$==$.toLowerCase()&&($=$.toUpperCase()))){G=!0,q=-1,N=0;continue}return a(J,String(B),U,S)}U=!1,$=s($,S,10,J.s),(N=$.indexOf("."))>-1?$=$.replace(".",""):N=$.length}for(q=0;$.charCodeAt(q)===48;q++);for(K=$.length;$.charCodeAt(--K)===48;);if($=$.slice(q,++K)){if(K-=q,U&&D.DEBUG&&K>15&&(B>Jn||B!==ki(B)))throw Error(ca+J.s*B);if((N=N-q-1)>A)J.c=J.e=null;else if(N<R)J.c=[J.e=0];else{if(J.e=N,J.c=[],q=(N+1)%Rt,N<0&&(q+=Rt),q<K){for(q&&J.c.push(+$.slice(0,q)),K-=Rt;q<K;)J.c.push(+$.slice(q,q+=Rt));q=Rt-($=$.slice(q)).length}else q-=K;for(;q--;$+="0");J.c.push(+$)}}else J.c=[J.e=0]}D.clone=es,D.ROUND_UP=0,D.ROUND_DOWN=1,D.ROUND_CEIL=2,D.ROUND_FLOOR=3,D.ROUND_HALF_UP=4,D.ROUND_HALF_DOWN=5,D.ROUND_HALF_EVEN=6,D.ROUND_HALF_CEIL=7,D.ROUND_HALF_FLOOR=8,D.EUCLID=9,D.config=D.set=function(B){var S,T;if(B!=null)if(typeof B=="object"){if(B.hasOwnProperty(S="DECIMAL_PLACES")&&(T=B[S],Pe(T,0,je,S),g=T),B.hasOwnProperty(S="ROUNDING_MODE")&&(T=B[S],Pe(T,0,8,S),v=T),B.hasOwnProperty(S="EXPONENTIAL_AT")&&(T=B[S],T&&T.pop?(Pe(T[0],-je,0,S),Pe(T[1],0,je,S),x=T[0],w=T[1]):(Pe(T,-je,je,S),x=-(w=T<0?-T:T))),B.hasOwnProperty(S="RANGE"))if(T=B[S],T&&T.pop)Pe(T[0],-je,-1,S),Pe(T[1],1,je,S),R=T[0],A=T[1];else if(Pe(T,-je,je,S),T)R=-(A=T<0?-T:T);else throw Error(ei+S+" cannot be zero: "+T);if(B.hasOwnProperty(S="CRYPTO"))if(T=B[S],T===!!T)if(T)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))V=T;else throw V=!T,Error(ei+"crypto unavailable");else V=T;else throw Error(ei+S+" not true or false: "+T);if(B.hasOwnProperty(S="MODULO_MODE")&&(T=B[S],Pe(T,0,9,S),H=T),B.hasOwnProperty(S="POW_PRECISION")&&(T=B[S],Pe(T,0,je,S),nt=T),B.hasOwnProperty(S="FORMAT"))if(T=B[S],typeof T=="object")ft=T;else throw Error(ei+S+" not an object: "+T);if(B.hasOwnProperty(S="ALPHABET"))if(T=B[S],typeof T=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(T))St=T.slice(0,10)=="0123456789",bt=T;else throw Error(ei+S+" invalid: "+T)}else throw Error(ei+"Object expected: "+B);return{DECIMAL_PLACES:g,ROUNDING_MODE:v,EXPONENTIAL_AT:[x,w],RANGE:[R,A],CRYPTO:V,MODULO_MODE:H,POW_PRECISION:nt,FORMAT:ft,ALPHABET:bt}},D.isBigNumber=function(B){if(!B||B._isBigNumber!==!0)return!1;if(!D.DEBUG)return!0;var S,T,Z=B.c,G=B.e,N=B.s;t:if({}.toString.call(Z)=="[object Array]"){if((N===1||N===-1)&&G>=-je&&G<=je&&G===ki(G)){if(Z[0]===0){if(G===0&&Z.length===1)return!0;break t}if(S=(G+1)%Rt,S<1&&(S+=Rt),String(Z[0]).length==S){for(S=0;S<Z.length;S++)if(T=Z[S],T<0||T>=Mi||T!==ki(T))break t;if(T!==0)return!0}}}else if(Z===null&&G===null&&(N===null||N===1||N===-1))return!0;throw Error(ei+"Invalid BigNumber: "+B)},D.maximum=D.max=function(){return it(arguments,-1)},D.minimum=D.min=function(){return it(arguments,1)},D.random=(function(){var B=9007199254740992,S=Math.random()*B&2097151?function(){return ki(Math.random()*B)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(T){var Z,G,N,q,U,K=0,$=[],J=new D(d);if(T==null?T=g:Pe(T,0,je),q=Ys(T/Rt),V)if(crypto.getRandomValues){for(Z=crypto.getRandomValues(new Uint32Array(q*=2));K<q;)U=Z[K]*131072+(Z[K+1]>>>11),U>=9e15?(G=crypto.getRandomValues(new Uint32Array(2)),Z[K]=G[0],Z[K+1]=G[1]):($.push(U%1e14),K+=2);K=q/2}else if(crypto.randomBytes){for(Z=crypto.randomBytes(q*=7);K<q;)U=(Z[K]&31)*281474976710656+Z[K+1]*1099511627776+Z[K+2]*4294967296+Z[K+3]*16777216+(Z[K+4]<<16)+(Z[K+5]<<8)+Z[K+6],U>=9e15?crypto.randomBytes(7).copy(Z,K):($.push(U%1e14),K+=7);K=q/7}else throw V=!1,Error(ei+"crypto unavailable");if(!V)for(;K<q;)U=S(),U<9e15&&($[K++]=U%1e14);for(q=$[--K],T%=Rt,q&&T&&(U=Xs[Rt-T],$[K]=ki(q/U)*U);$[K]===0;$.pop(),K--);if(K<0)$=[N=0];else{for(N=-1;$[0]===0;$.splice(0,1),N-=Rt);for(K=1,U=$[0];U>=10;U/=10,K++);K<Rt&&(N-=Rt-K)}return J.e=N,J.c=$,J}})(),D.sum=function(){for(var B=1,S=arguments,T=new D(S[0]);B<S.length;)T=T.plus(S[B++]);return T},s=(function(){var B="0123456789";function S(T,Z,G,N){for(var q,U=[0],K,$=0,J=T.length;$<J;){for(K=U.length;K--;U[K]*=Z);for(U[0]+=N.indexOf(T.charAt($++)),q=0;q<U.length;q++)U[q]>G-1&&(U[q+1]==null&&(U[q+1]=0),U[q+1]+=U[q]/G|0,U[q]%=G)}return U.reverse()}return function(T,Z,G,N,q){var U,K,$,J,ht,Ft,zt,$t,Oe=T.indexOf("."),We=g,me=v;for(Oe>=0&&(J=nt,nt=0,T=T.replace(".",""),$t=new D(Z),Ft=$t.pow(T.length-Oe),nt=J,$t.c=S(Mn(Ei(Ft.c),Ft.e,"0"),10,G,B),$t.e=$t.c.length),zt=S(T,Z,G,q?(U=bt,B):(U=B,bt)),$=J=zt.length;zt[--J]==0;zt.pop());if(!zt[0])return U.charAt(0);if(Oe<0?--$:(Ft.c=zt,Ft.e=$,Ft.s=N,Ft=i(Ft,$t,We,me,G),zt=Ft.c,ht=Ft.r,$=Ft.e),K=$+We+1,Oe=zt[K],J=G/2,ht=ht||K<0||zt[K+1]!=null,ht=me<4?(Oe!=null||ht)&&(me==0||me==(Ft.s<0?3:2)):Oe>J||Oe==J&&(me==4||ht||me==6&&zt[K-1]&1||me==(Ft.s<0?8:7)),K<1||!zt[0])T=ht?Mn(U.charAt(1),-We,U.charAt(0)):U.charAt(0);else{if(zt.length=K,ht)for(--G;++zt[--K]>G;)zt[K]=0,K||(++$,zt=[1].concat(zt));for(J=zt.length;!zt[--J];);for(Oe=0,T="";Oe<=J;T+=U.charAt(zt[Oe++]));T=Mn(T,$,U.charAt(0))}return T}})(),i=(function(){function B(Z,G,N){var q,U,K,$,J=0,ht=Z.length,Ft=G%un,zt=G/un|0;for(Z=Z.slice();ht--;)K=Z[ht]%un,$=Z[ht]/un|0,q=zt*K+$*Ft,U=Ft*K+q%un*un+J,J=(U/N|0)+(q/un|0)+zt*$,Z[ht]=U%N;return J&&(Z=[J].concat(Z)),Z}function S(Z,G,N,q){var U,K;if(N!=q)K=N>q?1:-1;else for(U=K=0;U<N;U++)if(Z[U]!=G[U]){K=Z[U]>G[U]?1:-1;break}return K}function T(Z,G,N,q){for(var U=0;N--;)Z[N]-=U,U=Z[N]<G[N]?1:0,Z[N]=U*q+Z[N]-G[N];for(;!Z[0]&&Z.length>1;Z.splice(0,1));}return function(Z,G,N,q,U){var K,$,J,ht,Ft,zt,$t,Oe,We,me,Ce,oi,Ca,Yl,Xl,fn,to,Hi=Z.s==G.s?1:-1,_i=Z.c,Re=G.c;if(!_i||!_i[0]||!Re||!Re[0])return new D(!Z.s||!G.s||(_i?Re&&_i[0]==Re[0]:!Re)?NaN:_i&&_i[0]==0||!Re?Hi*0:Hi/0);for(Oe=new D(Hi),We=Oe.c=[],$=Z.e-G.e,Hi=N+$+1,U||(U=Mi,$=pi(Z.e/Rt)-pi(G.e/Rt),Hi=Hi/Rt|0),J=0;Re[J]==(_i[J]||0);J++);if(Re[J]>(_i[J]||0)&&$--,Hi<0)We.push(1),ht=!0;else{for(Yl=_i.length,fn=Re.length,J=0,Hi+=2,Ft=ki(U/(Re[0]+1)),Ft>1&&(Re=B(Re,Ft,U),_i=B(_i,Ft,U),fn=Re.length,Yl=_i.length),Ca=fn,me=_i.slice(0,fn),Ce=me.length;Ce<fn;me[Ce++]=0);to=Re.slice(),to=[0].concat(to),Xl=Re[0],Re[1]>=U/2&&Xl++;do{if(Ft=0,K=S(Re,me,fn,Ce),K<0){if(oi=me[0],fn!=Ce&&(oi=oi*U+(me[1]||0)),Ft=ki(oi/Xl),Ft>1)for(Ft>=U&&(Ft=U-1),zt=B(Re,Ft,U),$t=zt.length,Ce=me.length;S(zt,me,$t,Ce)==1;)Ft--,T(zt,fn<$t?to:Re,$t,U),$t=zt.length,K=1;else Ft==0&&(K=Ft=1),zt=Re.slice(),$t=zt.length;if($t<Ce&&(zt=[0].concat(zt)),T(me,zt,Ce,U),Ce=me.length,K==-1)for(;S(Re,me,fn,Ce)<1;)Ft++,T(me,fn<Ce?to:Re,Ce,U),Ce=me.length}else K===0&&(Ft++,me=[0]);We[J++]=Ft,me[0]?me[Ce++]=_i[Ca]||0:(me=[_i[Ca]],Ce=1)}while((Ca++<Yl||me[0]!=null)&&Hi--);ht=me[0]!=null,We[0]||We.splice(0,1)}if(U==Mi){for(J=1,Hi=We[0];Hi>=10;Hi/=10,J++);gt(Oe,N+(Oe.e=J+$*Rt-1)+1,q,ht)}else Oe.e=$,Oe.r=+ht;return Oe}})();function X(B,S,T,Z){var G,N,q,U,K;if(T==null?T=v:Pe(T,0,8),!B.c)return B.toString();if(G=B.c[0],q=B.e,S==null)K=Ei(B.c),K=Z==1||Z==2&&(q<=x||q>=w)?da(K,q):Mn(K,q,"0");else if(B=gt(new D(B),S,T),N=B.e,K=Ei(B.c),U=K.length,Z==1||Z==2&&(S<=N||N<=x)){for(;U<S;K+="0",U++);K=da(K,N)}else if(S-=q+(Z===2&&N>q),K=Mn(K,N,"0"),N+1>U){if(--S>0)for(K+=".";S--;K+="0");}else if(S+=N-U,S>0)for(N+1==U&&(K+=".");S--;K+="0");return B.s<0&&G?"-"+K:K}function it(B,S){for(var T,Z,G=1,N=new D(B[0]);G<B.length;G++)Z=new D(B[G]),(!Z.s||(T=kr(N,Z))===S||T===0&&N.s===S)&&(N=Z);return N}function vt(B,S,T){for(var Z=1,G=S.length;!S[--G];S.pop());for(G=S[0];G>=10;G/=10,Z++);return(T=Z+T*Rt-1)>A?B.c=B.e=null:T<R?B.c=[B.e=0]:(B.e=T,B.c=S),B}a=(function(){var B=/^(-?)0([xbo])(?=\w[\w.]*$)/i,S=/^([^.]+)\.$/,T=/^\.([^.]+)$/,Z=/^-?(Infinity|NaN)$/,G=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(N,q,U,K){var $,J=U?q:q.replace(G,"");if(Z.test(J))N.s=isNaN(J)?null:J<0?-1:1;else{if(!U&&(J=J.replace(B,function(ht,Ft,zt){return $=(zt=zt.toLowerCase())=="x"?16:zt=="b"?2:8,!K||K==$?Ft:ht}),K&&($=K,J=J.replace(S,"$1").replace(T,"0.$1")),q!=J))return new D(J,$);if(D.DEBUG)throw Error(ei+"Not a"+(K?" base "+K:"")+" number: "+q);N.s=null}N.c=N.e=null}})();function gt(B,S,T,Z){var G,N,q,U,K,$,J,ht=B.c,Ft=Xs;if(ht){t:{for(G=1,U=ht[0];U>=10;U/=10,G++);if(N=S-G,N<0)N+=Rt,q=S,K=ht[$=0],J=ki(K/Ft[G-q-1]%10);else if($=Ys((N+1)/Rt),$>=ht.length)if(Z){for(;ht.length<=$;ht.push(0));K=J=0,G=1,N%=Rt,q=N-Rt+1}else break t;else{for(K=U=ht[$],G=1;U>=10;U/=10,G++);N%=Rt,q=N-Rt+G,J=q<0?0:ki(K/Ft[G-q-1]%10)}if(Z=Z||S<0||ht[$+1]!=null||(q<0?K:K%Ft[G-q-1]),Z=T<4?(J||Z)&&(T==0||T==(B.s<0?3:2)):J>5||J==5&&(T==4||Z||T==6&&(N>0?q>0?K/Ft[G-q]:0:ht[$-1])%10&1||T==(B.s<0?8:7)),S<1||!ht[0])return ht.length=0,Z?(S-=B.e+1,ht[0]=Ft[(Rt-S%Rt)%Rt],B.e=-S||0):ht[0]=B.e=0,B;if(N==0?(ht.length=$,U=1,$--):(ht.length=$+1,U=Ft[Rt-N],ht[$]=q>0?ki(K/Ft[G-q]%Ft[q])*U:0),Z)for(;;)if($==0){for(N=1,q=ht[0];q>=10;q/=10,N++);for(q=ht[0]+=U,U=1;q>=10;q/=10,U++);N!=U&&(B.e++,ht[0]==Mi&&(ht[0]=1));break}else{if(ht[$]+=U,ht[$]!=Mi)break;ht[$--]=0,U=1}for(N=ht.length;ht[--N]===0;ht.pop());}B.e>A?B.c=B.e=null:B.e<R&&(B.c=[B.e=0])}return B}function yt(B){var S,T=B.e;return T===null?B.toString():(S=Ei(B.c),S=T<=x||T>=w?da(S,T):Mn(S,T,"0"),B.s<0?"-"+S:S)}return h.absoluteValue=h.abs=function(){var B=new D(this);return B.s<0&&(B.s=1),B},h.comparedTo=function(B,S){return kr(this,new D(B,S))},h.decimalPlaces=h.dp=function(B,S){var T,Z,G,N=this;if(B!=null)return Pe(B,0,je),S==null?S=v:Pe(S,0,8),gt(new D(N),B+N.e+1,S);if(!(T=N.c))return null;if(Z=((G=T.length-1)-pi(this.e/Rt))*Rt,G=T[G])for(;G%10==0;G/=10,Z--);return Z<0&&(Z=0),Z},h.dividedBy=h.div=function(B,S){return i(this,new D(B,S),g,v)},h.dividedToIntegerBy=h.idiv=function(B,S){return i(this,new D(B,S),0,1)},h.exponentiatedBy=h.pow=function(B,S){var T,Z,G,N,q,U,K,$,J,ht=this;if(B=new D(B),B.c&&!B.isInteger())throw Error(ei+"Exponent not an integer: "+yt(B));if(S!=null&&(S=new D(S)),U=B.e>14,!ht.c||!ht.c[0]||ht.c[0]==1&&!ht.e&&ht.c.length==1||!B.c||!B.c[0])return J=new D(Math.pow(+yt(ht),U?B.s*(2-fa(B)):+yt(B))),S?J.mod(S):J;if(K=B.s<0,S){if(S.c?!S.c[0]:!S.s)return new D(NaN);Z=!K&&ht.isInteger()&&S.isInteger(),Z&&(ht=ht.mod(S))}else{if(B.e>9&&(ht.e>0||ht.e<-1||(ht.e==0?ht.c[0]>1||U&&ht.c[1]>=24e7:ht.c[0]<8e13||U&&ht.c[0]<=9999975e7)))return N=ht.s<0&&fa(B)?-0:0,ht.e>-1&&(N=1/N),new D(K?1/N:N);nt&&(N=Ys(nt/Rt+2))}for(U?(T=new D(.5),K&&(B.s=1),$=fa(B)):(G=Math.abs(+yt(B)),$=G%2),J=new D(d);;){if($){if(J=J.times(ht),!J.c)break;N?J.c.length>N&&(J.c.length=N):Z&&(J=J.mod(S))}if(G){if(G=ki(G/2),G===0)break;$=G%2}else if(B=B.times(T),gt(B,B.e+1,1),B.e>14)$=fa(B);else{if(G=+yt(B),G===0)break;$=G%2}ht=ht.times(ht),N?ht.c&&ht.c.length>N&&(ht.c.length=N):Z&&(ht=ht.mod(S))}return Z?J:(K&&(J=d.div(J)),S?J.mod(S):N?gt(J,nt,v,q):J)},h.integerValue=function(B){var S=new D(this);return B==null?B=v:Pe(B,0,8),gt(S,S.e+1,B)},h.isEqualTo=h.eq=function(B,S){return kr(this,new D(B,S))===0},h.isFinite=function(){return!!this.c},h.isGreaterThan=h.gt=function(B,S){return kr(this,new D(B,S))>0},h.isGreaterThanOrEqualTo=h.gte=function(B,S){return(S=kr(this,new D(B,S)))===1||S===0},h.isInteger=function(){return!!this.c&&pi(this.e/Rt)>this.c.length-2},h.isLessThan=h.lt=function(B,S){return kr(this,new D(B,S))<0},h.isLessThanOrEqualTo=h.lte=function(B,S){return(S=kr(this,new D(B,S)))===-1||S===0},h.isNaN=function(){return!this.s},h.isNegative=function(){return this.s<0},h.isPositive=function(){return this.s>0},h.isZero=function(){return!!this.c&&this.c[0]==0},h.minus=function(B,S){var T,Z,G,N,q=this,U=q.s;if(B=new D(B,S),S=B.s,!U||!S)return new D(NaN);if(U!=S)return B.s=-S,q.plus(B);var K=q.e/Rt,$=B.e/Rt,J=q.c,ht=B.c;if(!K||!$){if(!J||!ht)return J?(B.s=-S,B):new D(ht?q:NaN);if(!J[0]||!ht[0])return ht[0]?(B.s=-S,B):new D(J[0]?q:v==3?-0:0)}if(K=pi(K),$=pi($),J=J.slice(),U=K-$){for((N=U<0)?(U=-U,G=J):($=K,G=ht),G.reverse(),S=U;S--;G.push(0));G.reverse()}else for(Z=(N=(U=J.length)<(S=ht.length))?U:S,U=S=0;S<Z;S++)if(J[S]!=ht[S]){N=J[S]<ht[S];break}if(N&&(G=J,J=ht,ht=G,B.s=-B.s),S=(Z=ht.length)-(T=J.length),S>0)for(;S--;J[T++]=0);for(S=Mi-1;Z>U;){if(J[--Z]<ht[Z]){for(T=Z;T&&!J[--T];J[T]=S);--J[T],J[Z]+=Mi}J[Z]-=ht[Z]}for(;J[0]==0;J.splice(0,1),--$);return J[0]?vt(B,J,$):(B.s=v==3?-1:1,B.c=[B.e=0],B)},h.modulo=h.mod=function(B,S){var T,Z,G=this;return B=new D(B,S),!G.c||!B.s||B.c&&!B.c[0]?new D(NaN):!B.c||G.c&&!G.c[0]?new D(G):(H==9?(Z=B.s,B.s=1,T=i(G,B,0,3),B.s=Z,T.s*=Z):T=i(G,B,0,H),B=G.minus(T.times(B)),!B.c[0]&&H==1&&(B.s=G.s),B)},h.multipliedBy=h.times=function(B,S){var T,Z,G,N,q,U,K,$,J,ht,Ft,zt,$t,Oe,We,me=this,Ce=me.c,oi=(B=new D(B,S)).c;if(!Ce||!oi||!Ce[0]||!oi[0])return!me.s||!B.s||Ce&&!Ce[0]&&!oi||oi&&!oi[0]&&!Ce?B.c=B.e=B.s=null:(B.s*=me.s,!Ce||!oi?B.c=B.e=null:(B.c=[0],B.e=0)),B;for(Z=pi(me.e/Rt)+pi(B.e/Rt),B.s*=me.s,K=Ce.length,ht=oi.length,K<ht&&($t=Ce,Ce=oi,oi=$t,G=K,K=ht,ht=G),G=K+ht,$t=[];G--;$t.push(0));for(Oe=Mi,We=un,G=ht;--G>=0;){for(T=0,Ft=oi[G]%We,zt=oi[G]/We|0,q=K,N=G+q;N>G;)$=Ce[--q]%We,J=Ce[q]/We|0,U=zt*$+J*Ft,$=Ft*$+U%We*We+$t[N]+T,T=($/Oe|0)+(U/We|0)+zt*J,$t[N--]=$%Oe;$t[N]=T}return T?++Z:$t.splice(0,1),vt(B,$t,Z)},h.negated=function(){var B=new D(this);return B.s=-B.s||null,B},h.plus=function(B,S){var T,Z=this,G=Z.s;if(B=new D(B,S),S=B.s,!G||!S)return new D(NaN);if(G!=S)return B.s=-S,Z.minus(B);var N=Z.e/Rt,q=B.e/Rt,U=Z.c,K=B.c;if(!N||!q){if(!U||!K)return new D(G/0);if(!U[0]||!K[0])return K[0]?B:new D(U[0]?Z:G*0)}if(N=pi(N),q=pi(q),U=U.slice(),G=N-q){for(G>0?(q=N,T=K):(G=-G,T=U),T.reverse();G--;T.push(0));T.reverse()}for(G=U.length,S=K.length,G-S<0&&(T=K,K=U,U=T,S=G),G=0;S;)G=(U[--S]=U[S]+K[S]+G)/Mi|0,U[S]=Mi===U[S]?0:U[S]%Mi;return G&&(U=[G].concat(U),++q),vt(B,U,q)},h.precision=h.sd=function(B,S){var T,Z,G,N=this;if(B!=null&&B!==!!B)return Pe(B,1,je),S==null?S=v:Pe(S,0,8),gt(new D(N),B,S);if(!(T=N.c))return null;if(G=T.length-1,Z=G*Rt+1,G=T[G]){for(;G%10==0;G/=10,Z--);for(G=T[0];G>=10;G/=10,Z++);}return B&&N.e+1>Z&&(Z=N.e+1),Z},h.shiftedBy=function(B){return Pe(B,-Jn,Jn),this.times("1e"+B)},h.squareRoot=h.sqrt=function(){var B,S,T,Z,G,N=this,q=N.c,U=N.s,K=N.e,$=g+4,J=new D("0.5");if(U!==1||!q||!q[0])return new D(!U||U<0&&(!q||q[0])?NaN:q?N:1/0);if(U=Math.sqrt(+yt(N)),U==0||U==1/0?(S=Ei(q),(S.length+K)%2==0&&(S+="0"),U=Math.sqrt(+S),K=pi((K+1)/2)-(K<0||K%2),U==1/0?S="5e"+K:(S=U.toExponential(),S=S.slice(0,S.indexOf("e")+1)+K),T=new D(S)):T=new D(U+""),T.c[0]){for(K=T.e,U=K+$,U<3&&(U=0);;)if(G=T,T=J.times(G.plus(i(N,G,$,1))),Ei(G.c).slice(0,U)===(S=Ei(T.c)).slice(0,U))if(T.e<K&&--U,S=S.slice(U-3,U+1),S=="9999"||!Z&&S=="4999"){if(!Z&&(gt(G,G.e+g+2,0),G.times(G).eq(N))){T=G;break}$+=4,U+=4,Z=1}else{(!+S||!+S.slice(1)&&S.charAt(0)=="5")&&(gt(T,T.e+g+2,1),B=!T.times(T).eq(N));break}}return gt(T,T.e+g+1,v,B)},h.toExponential=function(B,S){return B!=null&&(Pe(B,0,je),B++),X(this,B,S,1)},h.toFixed=function(B,S){return B!=null&&(Pe(B,0,je),B=B+this.e+1),X(this,B,S)},h.toFormat=function(B,S,T){var Z,G=this;if(T==null)B!=null&&S&&typeof S=="object"?(T=S,S=null):B&&typeof B=="object"?(T=B,B=S=null):T=ft;else if(typeof T!="object")throw Error(ei+"Argument not an object: "+T);if(Z=G.toFixed(B,S),G.c){var N,q=Z.split("."),U=+T.groupSize,K=+T.secondaryGroupSize,$=T.groupSeparator||"",J=q[0],ht=q[1],Ft=G.s<0,zt=Ft?J.slice(1):J,$t=zt.length;if(K&&(N=U,U=K,K=N,$t-=N),U>0&&$t>0){for(N=$t%U||U,J=zt.substr(0,N);N<$t;N+=U)J+=$+zt.substr(N,U);K>0&&(J+=$+zt.slice(N)),Ft&&(J="-"+J)}Z=ht?J+(T.decimalSeparator||"")+((K=+T.fractionGroupSize)?ht.replace(new RegExp("\\d{"+K+"}\\B","g"),"$&"+(T.fractionGroupSeparator||"")):ht):J}return(T.prefix||"")+Z+(T.suffix||"")},h.toFraction=function(B){var S,T,Z,G,N,q,U,K,$,J,ht,Ft,zt=this,$t=zt.c;if(B!=null&&(U=new D(B),!U.isInteger()&&(U.c||U.s!==1)||U.lt(d)))throw Error(ei+"Argument "+(U.isInteger()?"out of range: ":"not an integer: ")+yt(U));if(!$t)return new D(zt);for(S=new D(d),$=T=new D(d),Z=K=new D(d),Ft=Ei($t),N=S.e=Ft.length-zt.e-1,S.c[0]=Xs[(q=N%Rt)<0?Rt+q:q],B=!B||U.comparedTo(S)>0?N>0?S:$:U,q=A,A=1/0,U=new D(Ft),K.c[0]=0;J=i(U,S,0,1),G=T.plus(J.times(Z)),G.comparedTo(B)!=1;)T=Z,Z=G,$=K.plus(J.times(G=$)),K=G,S=U.minus(J.times(G=S)),U=G;return G=i(B.minus(T),Z,0,1),K=K.plus(G.times($)),T=T.plus(G.times(Z)),K.s=$.s=zt.s,N=N*2,ht=i($,Z,N,v).minus(zt).abs().comparedTo(i(K,T,N,v).minus(zt).abs())<1?[$,Z]:[K,T],A=q,ht},h.toNumber=function(){return+yt(this)},h.toPrecision=function(B,S){return B!=null&&Pe(B,1,je),X(this,B,S,2)},h.toString=function(B){var S,T=this,Z=T.s,G=T.e;return G===null?Z?(S="Infinity",Z<0&&(S="-"+S)):S="NaN":(B==null?S=G<=x||G>=w?da(Ei(T.c),G):Mn(Ei(T.c),G,"0"):B===10&&St?(T=gt(new D(T),g+G+1,v),S=Mn(Ei(T.c),T.e,"0")):(Pe(B,2,bt.length,"Base"),S=s(Mn(Ei(T.c),G,"0"),10,B,Z,!0)),Z<0&&T.c[0]&&(S="-"+S)),S},h.valueOf=h.toJSON=function(){return yt(this)},h._isBigNumber=!0,h[Symbol.toStringTag]="BigNumber",h[Symbol.for("nodejs.util.inspect.custom")]=h.valueOf,e!=null&&D.set(e),D}function pi(e){var i=e|0;return e>0||e===i?i:i-1}function Ei(e){for(var i,s,a=1,h=e.length,d=e[0]+"";a<h;){for(i=e[a++]+"",s=Rt-i.length;s--;i="0"+i);d+=i}for(h=d.length;d.charCodeAt(--h)===48;);return d.slice(0,h+1||1)}function kr(e,i){var s,a,h=e.c,d=i.c,g=e.s,v=i.s,x=e.e,w=i.e;if(!g||!v)return null;if(s=h&&!h[0],a=d&&!d[0],s||a)return s?a?0:-v:g;if(g!=v)return g;if(s=g<0,a=x==w,!h||!d)return a?0:!h^s?1:-1;if(!a)return x>w^s?1:-1;for(v=(x=h.length)<(w=d.length)?x:w,g=0;g<v;g++)if(h[g]!=d[g])return h[g]>d[g]^s?1:-1;return x==w?0:x>w^s?1:-1}function Pe(e,i,s,a){if(e<i||e>s||e!==ki(e))throw Error(ei+(a||"Argument")+(typeof e=="number"?e<i||e>s?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function fa(e){var i=e.c.length-1;return pi(e.e/Rt)==i&&e.c[i]%2!=0}function da(e,i){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(i<0?"e":"e+")+i}function Mn(e,i,s){var a,h;if(i<0){for(h=s+".";++i;h+=s);e=h+e}else if(a=e.length,++i>a){for(h=s,i-=a;--i;h+=s);e+=h}else i<a&&(e=e.slice(0,i)+"."+e.slice(i));return e}var Of=es(),hn=Of,Rf=class{key;left=null;right=null;constructor(e){this.key=e}},Js=class extends Rf{constructor(e){super(e)}},If=class{size=0;modificationCount=0;splayCount=0;splay(e){let i=this.root;if(i==null)return this.compare(e,e),-1;let s=null,a=null,h=null,d=null,g=i,v=this.compare,x;for(;;)if(x=v(g.key,e),x>0){let w=g.left;if(w==null||(x=v(w.key,e),x>0&&(g.left=w.right,w.right=g,g=w,w=g.left,w==null)))break;s==null?a=g:s.left=g,s=g,g=w}else if(x<0){let w=g.right;if(w==null||(x=v(w.key,e),x<0&&(g.right=w.left,w.left=g,g=w,w=g.right,w==null)))break;h==null?d=g:h.right=g,h=g,g=w}else break;return h!=null&&(h.right=g.left,g.left=d),s!=null&&(s.left=g.right,g.right=a),this.root!==g&&(this.root=g,this.splayCount++),x}splayMin(e){let i=e,s=i.left;for(;s!=null;){let a=s;i.left=a.right,a.right=i,i=a,s=i.left}return i}splayMax(e){let i=e,s=i.right;for(;s!=null;){let a=s;i.right=a.left,a.left=i,i=a,s=i.right}return i}_delete(e){if(this.root==null||this.splay(e)!=0)return null;let i=this.root,s=i,a=i.left;if(this.size--,a==null)this.root=i.right;else{let h=i.right;i=this.splayMax(a),i.right=h,this.root=i}return this.modificationCount++,s}addNewRoot(e,i){this.size++,this.modificationCount++;let s=this.root;if(s==null){this.root=e;return}i<0?(e.left=s,e.right=s.right,s.right=null):(e.right=s,e.left=s.left,s.left=null),this.root=e}_first(){let e=this.root;return e==null?null:(this.root=this.splayMin(e),this.root)}_last(){let e=this.root;return e==null?null:(this.root=this.splayMax(e),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(e){return this.validKey(e)&&this.splay(e)==0}defaultCompare(){return(e,i)=>e<i?-1:e>i?1:0}wrap(){return{getRoot:()=>this.root,setRoot:e=>{this.root=e},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:e=>{this.splayCount=e},splay:e=>this.splay(e),has:e=>this.has(e)}}},pa=class ao extends If{root=null;compare;validKey;constructor(i,s){super(),this.compare=i??this.defaultCompare(),this.validKey=s??(a=>a!=null&&a!=null)}delete(i){return this.validKey(i)?this._delete(i)!=null:!1}deleteAll(i){for(let s of i)this.delete(s)}forEach(i){let s=this[Symbol.iterator](),a;for(;a=s.next(),!a.done;)i(a.value,a.value,this)}add(i){let s=this.splay(i);return s!=0&&this.addNewRoot(new Js(i),s),this}addAndReturn(i){let s=this.splay(i);return s!=0&&this.addNewRoot(new Js(i),s),this.root.key}addAll(i){for(let s of i)this.add(s)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(i){if(i==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(i)<0)return this.root.key;let s=this.root.left;if(s==null)return null;let a=s.right;for(;a!=null;)s=a,a=s.right;return s.key}firstAfter(i){if(i==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(i)>0)return this.root.key;let s=this.root.right;if(s==null)return null;let a=s.left;for(;a!=null;)s=a,a=s.left;return s.key}retainAll(i){let s=new ao(this.compare,this.validKey),a=this.modificationCount;for(let h of i){if(a!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(h)&&this.splay(h)==0&&s.add(this.root.key)}s.size!=this.size&&(this.root=s.root,this.size=s.size,this.modificationCount++)}lookup(i){return!this.validKey(i)||this.splay(i)!=0?null:this.root.key}intersection(i){let s=new ao(this.compare,this.validKey);for(let a of this)i.has(a)&&s.add(a);return s}difference(i){let s=new ao(this.compare,this.validKey);for(let a of this)i.has(a)||s.add(a);return s}union(i){let s=this.clone();return s.addAll(i),s}clone(){let i=new ao(this.compare,this.validKey);return i.size=this.size,i.root=this.copyNode(this.root),i}copyNode(i){if(i==null)return null;function s(h,d){let g,v;do{if(g=h.left,v=h.right,g!=null){let x=new Js(g.key);d.left=x,s(g,x)}if(v!=null){let x=new Js(v.key);d.right=x,h=v,d=x}}while(v!=null)}let a=new Js(i.key);return s(i,a),a}toSet(){return this.clone()}entries(){return new Nf(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new Ff(this.wrap())}[Symbol.toStringTag]="[object Set]"},Xu=class{tree;path=new Array;modificationCount=null;splayCount;constructor(e){this.tree=e,this.splayCount=e.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let e=this.path[this.path.length-1];return this.getValue(e)}rebuildPath(e){this.path.splice(0,this.path.length),this.tree.splay(e),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(e){for(;e!=null;)this.path.push(e),e=e.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let s=this.tree.getRoot();for(;s!=null;)this.path.push(s),s=s.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let e=this.path[this.path.length-1],i=e.right;if(i!=null){for(;i!=null;)this.path.push(i),i=i.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===e;)e=this.path.pop();return this.path.length>0}},Ff=class extends Xu{getValue(e){return e.key}},Nf=class extends Xu{getValue(e){return[e.key,e.key]}},Ju=e=>()=>e,Hl=e=>{let i=e?(s,a)=>a.minus(s).abs().isLessThanOrEqualTo(e):Ju(!1);return(s,a)=>i(s,a)?0:s.comparedTo(a)};function zf(e){let i=e?(s,a,h,d,g)=>s.exponentiatedBy(2).isLessThanOrEqualTo(d.minus(a).exponentiatedBy(2).plus(g.minus(h).exponentiatedBy(2)).times(e)):Ju(!1);return(s,a,h)=>{let d=s.x,g=s.y,v=h.x,x=h.y,w=g.minus(x).times(a.x.minus(v)).minus(d.minus(v).times(a.y.minus(x)));return i(w,d,g,v,x)?0:w.comparedTo(0)}}var Gf=e=>e,jf=e=>{if(e){let i=new pa(Hl(e)),s=new pa(Hl(e)),a=(d,g)=>g.addAndReturn(d),h=d=>({x:a(d.x,i),y:a(d.y,s)});return h({x:new hn(0),y:new hn(0)}),h}return Gf},Kl=e=>({set:i=>{En=Kl(i)},reset:()=>Kl(e),compare:Hl(e),snap:jf(e),orient:zf(e)}),En=Kl(),$s=(e,i)=>e.ll.x.isLessThanOrEqualTo(i.x)&&i.x.isLessThanOrEqualTo(e.ur.x)&&e.ll.y.isLessThanOrEqualTo(i.y)&&i.y.isLessThanOrEqualTo(e.ur.y),ql=(e,i)=>{if(i.ur.x.isLessThan(e.ll.x)||e.ur.x.isLessThan(i.ll.x)||i.ur.y.isLessThan(e.ll.y)||e.ur.y.isLessThan(i.ll.y))return null;let s=e.ll.x.isLessThan(i.ll.x)?i.ll.x:e.ll.x,a=e.ur.x.isLessThan(i.ur.x)?e.ur.x:i.ur.x,h=e.ll.y.isLessThan(i.ll.y)?i.ll.y:e.ll.y,d=e.ur.y.isLessThan(i.ur.y)?e.ur.y:i.ur.y;return{ll:{x:s,y:h},ur:{x:a,y:d}}},_a=(e,i)=>e.x.times(i.y).minus(e.y.times(i.x)),$u=(e,i)=>e.x.times(i.x).plus(e.y.times(i.y)),ma=e=>$u(e,e).sqrt(),Zf=(e,i,s)=>{let a={x:i.x.minus(e.x),y:i.y.minus(e.y)},h={x:s.x.minus(e.x),y:s.y.minus(e.y)};return _a(h,a).div(ma(h)).div(ma(a))},Uf=(e,i,s)=>{let a={x:i.x.minus(e.x),y:i.y.minus(e.y)},h={x:s.x.minus(e.x),y:s.y.minus(e.y)};return $u(h,a).div(ma(h)).div(ma(a))},Qu=(e,i,s)=>i.y.isZero()?null:{x:e.x.plus(i.x.div(i.y).times(s.minus(e.y))),y:s},th=(e,i,s)=>i.x.isZero()?null:{x:s,y:e.y.plus(i.y.div(i.x).times(s.minus(e.x)))},Vf=(e,i,s,a)=>{if(i.x.isZero())return th(s,a,e.x);if(a.x.isZero())return th(e,i,s.x);if(i.y.isZero())return Qu(s,a,e.y);if(a.y.isZero())return Qu(e,i,s.y);let h=_a(i,a);if(h.isZero())return null;let d={x:s.x.minus(e.x),y:s.y.minus(e.y)},g=_a(d,i).div(h),v=_a(d,a).div(h),x=e.x.plus(v.times(i.x)),w=s.x.plus(g.times(a.x)),R=e.y.plus(v.times(i.y)),A=s.y.plus(g.times(a.y)),V=x.plus(w).div(2),H=R.plus(A).div(2);return{x:V,y:H}},cn=class Af{point;isLeft;segment;otherSE;consumedBy;static compare(i,s){let a=Af.comparePoints(i.point,s.point);return a!==0?a:(i.point!==s.point&&i.link(s),i.isLeft!==s.isLeft?i.isLeft?1:-1:ya.compare(i.segment,s.segment))}static comparePoints(i,s){return i.x.isLessThan(s.x)?-1:i.x.isGreaterThan(s.x)?1:i.y.isLessThan(s.y)?-1:i.y.isGreaterThan(s.y)?1:0}constructor(i,s){i.events===void 0?i.events=[this]:i.events.push(this),this.point=i,this.isLeft=s}link(i){if(i.point===this.point)throw new Error("Tried to link already linked events");let s=i.point.events;for(let a=0,h=s.length;a<h;a++){let d=s[a];this.point.events.push(d),d.point=this.point}this.checkForConsuming()}checkForConsuming(){let i=this.point.events.length;for(let s=0;s<i;s++){let a=this.point.events[s];if(a.segment.consumedBy===void 0)for(let h=s+1;h<i;h++){let d=this.point.events[h];d.consumedBy===void 0&&a.otherSE.point.events===d.otherSE.point.events&&a.segment.consume(d.segment)}}}getAvailableLinkedEvents(){let i=[];for(let s=0,a=this.point.events.length;s<a;s++){let h=this.point.events[s];h!==this&&!h.segment.ringOut&&h.segment.isInResult()&&i.push(h)}return i}getLeftmostComparator(i){let s=new Map,a=h=>{let d=h.otherSE;s.set(h,{sine:Zf(this.point,i.point,d.point),cosine:Uf(this.point,i.point,d.point)})};return(h,d)=>{s.has(h)||a(h),s.has(d)||a(d);let{sine:g,cosine:v}=s.get(h),{sine:x,cosine:w}=s.get(d);return g.isGreaterThanOrEqualTo(0)&&x.isGreaterThanOrEqualTo(0)?v.isLessThan(w)?1:v.isGreaterThan(w)?-1:0:g.isLessThan(0)&&x.isLessThan(0)?v.isLessThan(w)?-1:v.isGreaterThan(w)?1:0:x.isLessThan(g)?-1:x.isGreaterThan(g)?1:0}}},Hf=class Eu{events;poly;_isExteriorRing;_enclosingRing;static factory(i){let s=[];for(let a=0,h=i.length;a<h;a++){let d=i[a];if(!d.isInResult()||d.ringOut)continue;let g=null,v=d.leftSE,x=d.rightSE,w=[v],R=v.point,A=[];for(;g=v,v=x,w.push(v),v.point!==R;)for(;;){let V=v.getAvailableLinkedEvents();if(V.length===0){let ft=w[0].point,bt=w[w.length-1].point;throw new Error(`Unable to complete output ring starting at [${ft.x}, ${ft.y}]. Last matching segment found ends at [${bt.x}, ${bt.y}].`)}if(V.length===1){x=V[0].otherSE;break}let H=null;for(let ft=0,bt=A.length;ft<bt;ft++)if(A[ft].point===v.point){H=ft;break}if(H!==null){let ft=A.splice(H)[0],bt=w.splice(ft.index);bt.unshift(bt[0].otherSE),s.push(new Eu(bt.reverse()));continue}A.push({index:w.length,point:v.point});let nt=v.getLeftmostComparator(g);x=V.sort(nt)[0].otherSE;break}s.push(new Eu(w))}return s}constructor(i){this.events=i;for(let s=0,a=i.length;s<a;s++)i[s].segment.ringOut=this;this.poly=null}getGeom(){let i=this.events[0].point,s=[i];for(let w=1,R=this.events.length-1;w<R;w++){let A=this.events[w].point,V=this.events[w+1].point;En.orient(A,i,V)!==0&&(s.push(A),i=A)}if(s.length===1)return null;let a=s[0],h=s[1];En.orient(a,i,h)===0&&s.shift(),s.push(s[0]);let d=this.isExteriorRing()?1:-1,g=this.isExteriorRing()?0:s.length-1,v=this.isExteriorRing()?s.length:-1,x=[];for(let w=g;w!=v;w+=d)x.push([s[w].x.toNumber(),s[w].y.toNumber()]);return x}isExteriorRing(){if(this._isExteriorRing===void 0){let i=this.enclosingRing();this._isExteriorRing=i?!i.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let i=this.events[0];for(let h=1,d=this.events.length;h<d;h++){let g=this.events[h];cn.compare(i,g)>0&&(i=g)}let s=i.segment.prevInResult(),a=s?s.prevInResult():null;for(;;){if(!s)return null;if(!a)return s.ringOut;if(a.ringOut!==s.ringOut)return a.ringOut?.enclosingRing()!==s.ringOut?s.ringOut:s.ringOut?.enclosingRing();s=a.prevInResult(),a=s?s.prevInResult():null}}},eh=class{exteriorRing;interiorRings;constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){let e=this.exteriorRing.getGeom();if(e===null)return null;let i=[e];for(let s=0,a=this.interiorRings.length;s<a;s++){let h=this.interiorRings[s].getGeom();h!==null&&i.push(h)}return i}},Kf=class{rings;polys;constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){let e=[];for(let i=0,s=this.polys.length;i<s;i++){let a=this.polys[i].getGeom();a!==null&&e.push(a)}return e}_composePolys(e){let i=[];for(let s=0,a=e.length;s<a;s++){let h=e[s];if(!h.poly)if(h.isExteriorRing())i.push(new eh(h));else{let d=h.enclosingRing();d?.poly||i.push(new eh(d)),d?.poly?.addInterior(h)}}return i}},qf=class{queue;tree;segments;constructor(e,i=ya.compare){this.queue=e,this.tree=new pa(i),this.segments=[]}process(e){let i=e.segment,s=[];if(e.consumedBy)return e.isLeft?this.queue.delete(e.otherSE):this.tree.delete(i),s;e.isLeft&&this.tree.add(i);let a=i,h=i;do a=this.tree.lastBefore(a);while(a!=null&&a.consumedBy!=null);do h=this.tree.firstAfter(h);while(h!=null&&h.consumedBy!=null);if(e.isLeft){let d=null;if(a){let v=a.getIntersection(i);if(v!==null&&(i.isAnEndpoint(v)||(d=v),!a.isAnEndpoint(v))){let x=this._splitSafely(a,v);for(let w=0,R=x.length;w<R;w++)s.push(x[w])}}let g=null;if(h){let v=h.getIntersection(i);if(v!==null&&(i.isAnEndpoint(v)||(g=v),!h.isAnEndpoint(v))){let x=this._splitSafely(h,v);for(let w=0,R=x.length;w<R;w++)s.push(x[w])}}if(d!==null||g!==null){let v=null;d===null?v=g:g===null?v=d:v=cn.comparePoints(d,g)<=0?d:g,this.queue.delete(i.rightSE),s.push(i.rightSE);let x=i.split(v);for(let w=0,R=x.length;w<R;w++)s.push(x[w])}s.length>0?(this.tree.delete(i),s.push(e)):(this.segments.push(i),i.prev=a)}else{if(a&&h){let d=a.getIntersection(h);if(d!==null){if(!a.isAnEndpoint(d)){let g=this._splitSafely(a,d);for(let v=0,x=g.length;v<x;v++)s.push(g[v])}if(!h.isAnEndpoint(d)){let g=this._splitSafely(h,d);for(let v=0,x=g.length;v<x;v++)s.push(g[v])}}}this.tree.delete(i)}return s}_splitSafely(e,i){this.tree.delete(e);let s=e.rightSE;this.queue.delete(s);let a=e.split(i);return a.push(s),e.consumedBy===void 0&&this.tree.add(e),a}},Wf=class{type;numMultiPolys;run(e,i,s){Qs.type=e;let a=[new nh(i,!0)];for(let x=0,w=s.length;x<w;x++)a.push(new nh(s[x],!1));if(Qs.numMultiPolys=a.length,Qs.type==="difference"){let x=a[0],w=1;for(;w<a.length;)ql(a[w].bbox,x.bbox)!==null?w++:a.splice(w,1)}if(Qs.type==="intersection")for(let x=0,w=a.length;x<w;x++){let R=a[x];for(let A=x+1,V=a.length;A<V;A++)if(ql(R.bbox,a[A].bbox)===null)return[]}let h=new pa(cn.compare);for(let x=0,w=a.length;x<w;x++){let R=a[x].getSweepEvents();for(let A=0,V=R.length;A<V;A++)h.add(R[A])}let d=new qf(h),g=null;for(h.size!=0&&(g=h.first(),h.delete(g));g;){let x=d.process(g);for(let w=0,R=x.length;w<R;w++){let A=x[w];A.consumedBy===void 0&&h.add(A)}h.size!=0?(g=h.first(),h.delete(g)):g=null}En.reset();let v=Hf.factory(d.segments);return new Kf(v).getGeom()}},Qs=new Wf,ga=Qs,Yf=0,ya=class Da{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(i,s){let a=i.leftSE.point.x,h=s.leftSE.point.x,d=i.rightSE.point.x,g=s.rightSE.point.x;if(g.isLessThan(a))return 1;if(d.isLessThan(h))return-1;let v=i.leftSE.point.y,x=s.leftSE.point.y,w=i.rightSE.point.y,R=s.rightSE.point.y;if(a.isLessThan(h)){if(x.isLessThan(v)&&x.isLessThan(w))return 1;if(x.isGreaterThan(v)&&x.isGreaterThan(w))return-1;let A=i.comparePoint(s.leftSE.point);if(A<0)return 1;if(A>0)return-1;let V=s.comparePoint(i.rightSE.point);return V!==0?V:-1}if(a.isGreaterThan(h)){if(v.isLessThan(x)&&v.isLessThan(R))return-1;if(v.isGreaterThan(x)&&v.isGreaterThan(R))return 1;let A=s.comparePoint(i.leftSE.point);if(A!==0)return A;let V=i.comparePoint(s.rightSE.point);return V<0?1:V>0?-1:1}if(v.isLessThan(x))return-1;if(v.isGreaterThan(x))return 1;if(d.isLessThan(g)){let A=s.comparePoint(i.rightSE.point);if(A!==0)return A}if(d.isGreaterThan(g)){let A=i.comparePoint(s.rightSE.point);if(A<0)return 1;if(A>0)return-1}if(!d.eq(g)){let A=w.minus(v),V=d.minus(a),H=R.minus(x),nt=g.minus(h);if(A.isGreaterThan(V)&&H.isLessThan(nt))return 1;if(A.isLessThan(V)&&H.isGreaterThan(nt))return-1}return d.isGreaterThan(g)?1:d.isLessThan(g)||w.isLessThan(R)?-1:w.isGreaterThan(R)?1:i.id<s.id?-1:i.id>s.id?1:0}constructor(i,s,a,h){this.id=++Yf,this.leftSE=i,i.segment=this,i.otherSE=s,this.rightSE=s,s.segment=this,s.otherSE=i,this.rings=a,this.windings=h}static fromRing(i,s,a){let h,d,g,v=cn.comparePoints(i,s);if(v<0)h=i,d=s,g=1;else if(v>0)h=s,d=i,g=-1;else throw new Error(`Tried to create degenerate segment at [${i.x}, ${i.y}]`);let x=new cn(h,!0),w=new cn(d,!1);return new Da(x,w,[a],[g])}replaceRightSE(i){this.rightSE=i,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let i=this.leftSE.point.y,s=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:i.isLessThan(s)?i:s},ur:{x:this.rightSE.point.x,y:i.isGreaterThan(s)?i:s}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(i){return i.x.eq(this.leftSE.point.x)&&i.y.eq(this.leftSE.point.y)||i.x.eq(this.rightSE.point.x)&&i.y.eq(this.rightSE.point.y)}comparePoint(i){return En.orient(this.leftSE.point,i,this.rightSE.point)}getIntersection(i){let s=this.bbox(),a=i.bbox(),h=ql(s,a);if(h===null)return null;let d=this.leftSE.point,g=this.rightSE.point,v=i.leftSE.point,x=i.rightSE.point,w=$s(s,v)&&this.comparePoint(v)===0,R=$s(a,d)&&i.comparePoint(d)===0,A=$s(s,x)&&this.comparePoint(x)===0,V=$s(a,g)&&i.comparePoint(g)===0;if(R&&w)return V&&!A?g:!V&&A?x:null;if(R)return A&&d.x.eq(x.x)&&d.y.eq(x.y)?null:d;if(w)return V&&g.x.eq(v.x)&&g.y.eq(v.y)?null:v;if(V&&A)return null;if(V)return g;if(A)return x;let H=Vf(d,this.vector(),v,i.vector());return H===null||!$s(h,H)?null:En.snap(H)}split(i){let s=[],a=i.events!==void 0,h=new cn(i,!0),d=new cn(i,!1),g=this.rightSE;this.replaceRightSE(d),s.push(d),s.push(h);let v=new Da(h,g,this.rings.slice(),this.windings.slice());return cn.comparePoints(v.leftSE.point,v.rightSE.point)>0&&v.swapEvents(),cn.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),a&&(h.checkForConsuming(),d.checkForConsuming()),s}swapEvents(){let i=this.rightSE;this.rightSE=this.leftSE,this.leftSE=i,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let s=0,a=this.windings.length;s<a;s++)this.windings[s]*=-1}consume(i){let s=this,a=i;for(;s.consumedBy;)s=s.consumedBy;for(;a.consumedBy;)a=a.consumedBy;let h=Da.compare(s,a);if(h!==0){if(h>0){let d=s;s=a,a=d}if(s.prev===a){let d=s;s=a,a=d}for(let d=0,g=a.rings.length;d<g;d++){let v=a.rings[d],x=a.windings[d],w=s.rings.indexOf(v);w===-1?(s.rings.push(v),s.windings.push(x)):s.windings[w]+=x}a.rings=null,a.windings=null,a.consumedBy=s,a.leftSE.consumedBy=s.leftSE,a.rightSE.consumedBy=s.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let i=this.prev.consumedBy||this.prev;this._beforeState=i.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let i=this.beforeState();this._afterState={rings:i.rings.slice(0),windings:i.windings.slice(0),multiPolys:[]};let s=this._afterState.rings,a=this._afterState.windings,h=this._afterState.multiPolys;for(let v=0,x=this.rings.length;v<x;v++){let w=this.rings[v],R=this.windings[v],A=s.indexOf(w);A===-1?(s.push(w),a.push(R)):a[A]+=R}let d=[],g=[];for(let v=0,x=s.length;v<x;v++){if(a[v]===0)continue;let w=s[v],R=w.poly;if(g.indexOf(R)===-1)if(w.isExterior)d.push(R);else{g.indexOf(R)===-1&&g.push(R);let A=d.indexOf(w.poly);A!==-1&&d.splice(A,1)}}for(let v=0,x=d.length;v<x;v++){let w=d[v].multiPoly;h.indexOf(w)===-1&&h.push(w)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let i=this.beforeState().multiPolys,s=this.afterState().multiPolys;switch(ga.type){case"union":{let a=i.length===0,h=s.length===0;this._isInResult=a!==h;break}case"intersection":{let a,h;i.length<s.length?(a=i.length,h=s.length):(a=s.length,h=i.length),this._isInResult=h===ga.numMultiPolys&&a<h;break}case"xor":{let a=Math.abs(i.length-s.length);this._isInResult=a%2===1;break}case"difference":{let a=h=>h.length===1&&h[0].isSubject;this._isInResult=a(i)!==a(s);break}}return this._isInResult}},ih=class{poly;isExterior;segments;bbox;constructor(e,i,s){if(!Array.isArray(e)||e.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=i,this.isExterior=s,this.segments=[],typeof e[0][0]!="number"||typeof e[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let a=En.snap({x:new hn(e[0][0]),y:new hn(e[0][1])});this.bbox={ll:{x:a.x,y:a.y},ur:{x:a.x,y:a.y}};let h=a;for(let d=1,g=e.length;d<g;d++){if(typeof e[d][0]!="number"||typeof e[d][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let v=En.snap({x:new hn(e[d][0]),y:new hn(e[d][1])});v.x.eq(h.x)&&v.y.eq(h.y)||(this.segments.push(ya.fromRing(h,v,this)),v.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=v.x),v.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=v.y),v.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=v.x),v.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=v.y),h=v)}(!a.x.eq(h.x)||!a.y.eq(h.y))&&this.segments.push(ya.fromRing(h,a,this))}getSweepEvents(){let e=[];for(let i=0,s=this.segments.length;i<s;i++){let a=this.segments[i];e.push(a.leftSE),e.push(a.rightSE)}return e}},Xf=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(e,i){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new ih(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let s=1,a=e.length;s<a;s++){let h=new ih(e[s],this,!1);h.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=h.bbox.ur.y),this.interiorRings.push(h)}this.multiPoly=i}getSweepEvents(){let e=this.exteriorRing.getSweepEvents();for(let i=0,s=this.interiorRings.length;i<s;i++){let a=this.interiorRings[i].getSweepEvents();for(let h=0,d=a.length;h<d;h++)e.push(a[h])}return e}},nh=class{isSubject;polys;bbox;constructor(e,i){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof e[0][0][0]=="number"&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:new hn(Number.POSITIVE_INFINITY),y:new hn(Number.POSITIVE_INFINITY)},ur:{x:new hn(Number.NEGATIVE_INFINITY),y:new hn(Number.NEGATIVE_INFINITY)}};for(let s=0,a=e.length;s<a;s++){let h=new Xf(e[s],this);h.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=h.bbox.ur.y),this.polys.push(h)}this.isSubject=i}getSweepEvents(){let e=[];for(let i=0,s=this.polys.length;i<s;i++){let a=this.polys[i].getSweepEvents();for(let h=0,d=a.length;h<d;h++)e.push(a[h])}return e}},Jf=(e,...i)=>ga.run("intersection",e,i),$f=(e,...i)=>ga.run("difference",e,i);En.set;function va(e){let i={type:"Feature"};return i.geometry=e,i}function La(e){return e.type==="Feature"?e.geometry:e}function rh(e){return e&&e.geometry&&e.geometry.coordinates?e.geometry.coordinates:e}function Qf(e){return va({type:"LineString",coordinates:e})}function td(e){return va({type:"MultiLineString",coordinates:e})}function sh(e){return va({type:"Polygon",coordinates:e})}function oh(e){return va({type:"MultiPolygon",coordinates:e})}function ed(e,i){let s=La(e),a=La(i),h=Jf(s.coordinates,a.coordinates);return h.length===0?null:h.length===1?sh(h[0]):oh(h)}function id(e,i){let s=La(e),a=La(i),h=$f(s.coordinates,a.coordinates);return h.length===0?null:h.length===1?sh(h[0]):oh(h)}function ah(e){return Array.isArray(e)?1+ah(e[0]):-1}function nd(e){e instanceof L.Polyline&&(e=e.toGeoJSON(15));let i=rh(e),s=ah(i),a=[];return s>1?i.forEach(h=>{a.push(Qf(h))}):a.push(e),a}function rd(e){let i=[];return e.eachLayer(s=>{i.push(rh(s.toGeoJSON(15)))}),td(i)}Ge.Cut=Ge.Polygon.extend({initialize(e){this._map=e,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let e=this._layer.getLatLngs();if(e.length<=2)return;let i=L.polygon(e,this.options.pathOptions);i._latlngInfos=this._layer._latlngInfo,this.cut(i),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:a,originalLayer:h})=>{this._fireCut(h,a,h),this._fireCut(this._map,a,h),h.pm._fireEdit()}),this._editedLayers=[];let s=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(s))},cut(e){let i=this._map._layers,s=e._latlngInfos||[];Object.keys(i).map(a=>i[a]).filter(a=>a.pm).filter(a=>!a._pmTempLayer).filter(a=>!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&a.options.pmIgnore===!1).filter(a=>a instanceof L.Polyline).filter(a=>a!==e).filter(a=>a.pm.options.allowCutting).filter(a=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(a)>-1:!0).filter(a=>!this._layerGroup.hasLayer(a)).filter(a=>{try{let h=!!Lr(e.toGeoJSON(15),a.toGeoJSON(15)).features.length>0;return h||a instanceof L.Polyline&&!(a instanceof L.Polygon)?h:!!ed(e.toGeoJSON(15),a.toGeoJSON(15))}catch{return a instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(a=>{let h;if(a instanceof L.Polygon){h=L.polygon(a.getLatLngs());let x=h.getLatLngs();s.forEach(w=>{if(w&&w.snapInfo){let{latlng:R}=w,A=this._calcClosestLayer(R,[h]);if(A&&A.segment&&A.distance<this.options.snapDistance){let{segment:V}=A;if(V&&V.length===2){let{indexPath:H,parentPath:nt,newIndex:ft}=L.PM.Utils._getIndexFromSegment(x,V);(H.length>1?(0,Xn.default)(x,nt):x).splice(ft,0,R)}}}})}else h=a;let d=this._cutLayer(e,h),g=L.geoJSON(d,a.options);g.getLayers().length===1&&([g]=g.getLayers()),this._setPane(g,"layerPane");let v=g.addTo(this._map.pm._getContainingLayer());if(v.pm.enable(a.pm.options),v.pm.disable(),a._pmTempLayer=!0,e._pmTempLayer=!0,a.remove(),a.removeFrom(this._map.pm._getContainingLayer()),e.remove(),e.removeFrom(this._map.pm._getContainingLayer()),v.getLayers&&v.getLayers().length===0&&this._map.pm.removeLayer({target:v}),v instanceof L.LayerGroup?(v.eachLayer(x=>{this._addDrawnLayerProp(x)}),this._addDrawnLayerProp(v)):this._addDrawnLayerProp(v),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let x=this.options.layersToCut.indexOf(a);x>-1&&this.options.layersToCut.splice(x,1)}this._editedLayers.push({layer:v,originalLayer:a})})},_cutLayer(e,i){let s=L.geoJSON(),a;if(i instanceof L.Polygon)a=id(i.toGeoJSON(15),e.toGeoJSON(15));else{let h=nd(i);h.forEach(d=>{let g=oa(d,e.toGeoJSON(15)),v;g&&g.features.length>0?v=L.geoJSON(g):v=L.geoJSON(d),v.getLayers().forEach(x=>{si(e.toGeoJSON(15),x.toGeoJSON(15))||x.addTo(s)})}),h.length>1?a=rd(s):a=s.toGeoJSON(15)}return a},_change:L.Util.falseFn}),Ge.Text=Ge.extend({initialize(e){this._map=e,this._shape="Text",this.toolbarButtonName="drawText"},enable(e){L.Util.setOptions(this,e),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(he("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker?.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarkerAfterMoving,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){let i=e;i.target=this._hintMarker,this._handleSnapping(i)}},_createMarker(e){if(!e.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let i=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),this.options.textOptions?.className){let h=this.options.textOptions.className.split(" ");this.textArea.classList.add(...h)}let s=this._createTextIcon(this.textArea),a=new L.Marker(i,{textMarker:!0,_textMarkerOverPM:!0,icon:s});if(this._setPane(a,"markerPane"),this._finishLayer(a),a.pm||(a.options.draggable=!1),a.addTo(this._map.pm._getContainingLayer()),a.pm){a.pm.textArea=this.textArea,L.setOptions(a.pm,{removeIfEmpty:this.options.textOptions?.removeIfEmpty??!0});let h=this.options.textOptions?.focusAfterDraw??!0;a.pm._createTextMarker(h),this.options.textOptions?.text&&a.pm.setText(this.options.textOptions.text)}this._fireCreate(a),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(e){this.enable(),this._hintMarker.setLatLng(e.latlng)},_createTextArea(){let e=document.createElement("textarea");return e.readOnly=!0,e.classList.add("pm-textarea","pm-disabled"),e},_createTextIcon(e){return L.divIcon({className:"pm-text-marker",html:e})}});var sd={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,jn(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let e=this._getDOMElem();e&&(jn(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(e)):L.DomEvent.on(e,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,jn(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let e=this._getDOMElem();e&&(jn(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(e)):L.DomEvent.off(e,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(e){let i=e.touches?e.touches[0]:e,s={originalEvent:i,target:this._layer};return s.containerPoint=this._map.mouseEventToContainerPoint(i),s.latlng=this._map.containerPointToLatLng(s.containerPoint),this._dragMixinOnMouseDown(s),!1},_simulateMouseMoveEvent(e){let i=e.touches?e.touches[0]:e,s={originalEvent:i,target:this._layer};return s.containerPoint=this._map.mouseEventToContainerPoint(i),s.latlng=this._map.containerPointToLatLng(s.containerPoint),this._dragMixinOnMouseMove(s),!1},_simulateMouseUpEvent(e){let i={originalEvent:e.touches?e.touches[0]:e,target:this._layer};return e.type.indexOf("touch")===-1&&(i.containerPoint=this._map.mouseEventToContainerPoint(e),i.latlng=this._map.containerPointToLatLng(i.containerPoint)),this._dragMixinOnMouseUp(i),!1},_dragMixinOnMouseDown(e){if(e.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(e);let i=e._fromLayerSync,s=this._syncLayers("_dragMixinOnMouseDown",e);if(this._layer instanceof L.Marker&&(this.options.snappable&&!i&&!s?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let a="resizeableCircleMarker";this._layer instanceof L.Circle&&(a="resizeableCircle"),this.options.snappable&&!i&&!s?this._layer.pm.options[a]||this._initSnappableMarkersDrag():this._layer.pm.options[a]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=e.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(e){this._overwriteEventIfItComesFromMarker(e);let i=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",e),this._dragging||(this._dragging=!0,L.DomUtil.addClass(i,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=e.latlng),this._onLayerDrag(e),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(e){let i=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",e),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,i&&L.DomUtil.removeClass(i,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(e){let{latlng:i}=e,s={lat:i.lat-this._tempDragCoord.lat,lng:i.lng-this._tempDragCoord.lng},a=h=>h.map(d=>{if(Array.isArray(d))return a(d);let g={lat:d.lat+s.lat,lng:d.lng+s.lng};return(d.alt||d.alt===0)&&(g.alt=d.alt),g});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let h=a([this._layer.getLatLng()]);this._layer.setLatLng(h[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let h=this._layer.getLatLng();this._layer._snapped&&(h=this._layer._orgLatLng);let d=a([h]);this._layer.setLatLng(d[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let h=a([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(h),this._fireChange(this._layer.getBounds(),"Edit")}else{let h=a(this._layer.getLatLngs());this._layer.setLatLngs(h),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=i,e.layer=this._layer,this._fireDrag(e)},addDraggingClass(){let e=this._getDOMElem();e&&L.DomUtil.addClass(e,"leaflet-pm-draggable")},removeDraggingClass(){let e=this._getDOMElem();e&&L.DomUtil.removeClass(e,"leaflet-pm-draggable")},_getDOMElem(){let e=null;return this._layer._path?e=this._layer._path:this._layer._renderer&&this._layer._renderer._container?e=this._layer._renderer._container:this._layer._image?e=this._layer._image:this._layer._icon&&(e=this._layer._icon),e},_overwriteEventIfItComesFromMarker(e){e.target.getLatLng&&(!e.target._radius||e.target._radius<=10)&&(e.containerPoint=this._map.mouseEventToContainerPoint(e.originalEvent),e.latlng=this._map.containerPointToLatLng(e.containerPoint))},_syncLayers(e,i){if(this.enabled())return!1;if(!i._fromLayerSync&&this._layer===i.target&&this.options.syncLayersOnDrag){i._fromLayerSync=!0;let s=[];if(L.Util.isArray(this.options.syncLayersOnDrag))s=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(a=>{a instanceof L.LayerGroup&&(s=s.concat(a.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let a in this._parentLayerGroup){let h=this._parentLayerGroup[a];h.pm&&(s=h.pm.getLayers(!0))}return L.Util.isArray(s)&&s.length>0&&(s=s.filter(a=>!!a.pm).filter(a=>!!a.pm.options.draggable),s.forEach(a=>{a!==this._layer&&a.pm[e]&&(a._snapped=!1,a.pm[e](i))})),s.length>0}return!1},_stopDOMImageDrag(e){return e.preventDefault(),!1}},od=sd,ad=b(en());function ld(e,i,s,a){return s.unproject(i.transform(s.project(e,a)),a)}function lh(e,i,s){let a=s.getMaxZoom();if(a===1/0&&(a=s.getZoom()),L.Util.isArray(e)){let h=[];return e.forEach(d=>{h.push(lh(d,i,s))}),h}return e instanceof L.LatLng?ld(e,i,s,a):null}function is(e,i){i instanceof L.Layer&&(i=i.getLatLng());let s=e.getMaxZoom();return s===1/0&&(s=e.getZoom()),e.project(i,s)}function ba(e,i){let s=e.getMaxZoom();return s===1/0&&(s=e.getZoom()),e.unproject(i,s)}var ud={_onRotateStart(e){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=is(this._map,this._rotationOriginLatLng),this._rotationStartPoint=is(this._map,e.target.getLatLng()),this._initialRotateLatLng=rn(this._layer),this._startAngle=this.getAngle();let i=rn(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,i),this._fireRotationStart(this._map,i)},_onRotate(e){let i=is(this._map,e.target.getLatLng()),s=this._rotationStartPoint,a=this._rotationOriginPoint,h=Math.atan2(i.y-a.y,i.x-a.x)-Math.atan2(s.y-a.y,s.x-a.x);this._layer.setLatLngs(this._rotateLayer(h,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let d=this;function g(R,A=[],V=-1){if(V>-1&&A.push(V),L.Util.isArray(R[0]))R.forEach((H,nt)=>g(H,A.slice(),nt));else{let H=A.length>0?(0,ad.default)(d._markers,A):d._markers[0];R.forEach((nt,ft)=>{H[ft].setLatLng(nt)})}}g(this._layer.getLatLngs());let v=rn(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(h,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let x=h*180/Math.PI;x=x<0?x+360:x;let w=x+this._startAngle;this._setAngle(w),this._rotationLayer.pm._setAngle(w),this._fireRotation(this._rotationLayer,x,v),this._fireRotation(this._map,x,v),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let e=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let i=rn(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=rn(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,e,i),this._fireRotationEnd(this._map,e,i),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(e,i,s,a,h){let d=is(h,s);return this._matrix=a.clone().rotate(e,d).flip(),lh(i,this._matrix,h)},_setAngle(e){e=e<0?e+360:e,this._angle=e%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let e=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),i=e.getCenter();return e.removeFrom(this._layer._map),i},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(Vr(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let e={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),e),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=rn(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(e){let i=this.getAngle(),s=this._layer.getLatLngs(),a=e*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(a,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+e),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(a,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let h=this.getAngle()-i;h=h<0?h+360:h,this._startAngle=i,this._fireRotation(this._layer,h,s,this._layer),this._fireRotation(this._map||this._layer._map,h,s,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(e){let i=e-this.getAngle();this.rotateLayer(i)},getAngle(){return this._angle||0},setInitAngle(e){this._setAngle(e)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(e){this._rotationCenter=e,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(e)}},hd=ud,cd=L.Class.extend({includes:[od,Kr,hd,dr],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(e){L.Util.setOptions(this,e)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(e,i){i==="layerPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":i==="vertexPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":i==="markerPane"&&(e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(e,i){let s=i.target,a={layer:this._layer,marker:s,event:i},h="";return e==="move"?h="moveVertexValidation":e==="add"?h="addVertexValidation":e==="remove"&&(h="removeVertexValidation"),this.options[h]&&typeof this.options[h]=="function"&&!this.options[h](a)?(e==="move"&&(s._cancelDragEventChain=s.getLatLng()),!1):(s._cancelDragEventChain=null,!0)},_vertexValidationDrag(e){return e._cancelDragEventChain?(e._latlng=e._cancelDragEventChain,e.update(),!1):!0},_vertexValidationDragEnd(e){return e._cancelDragEventChain?(e._cancelDragEventChain=null,!1):!0}}),Qe=cd;Qe.LayerGroup=L.Class.extend({initialize(e){this._layerGroup=e,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(a=>this._initLayer(a));let i=a=>{if(a.layer._pmTempLayer)return;this._layers=this.getLayers();let h=this._layers.filter(d=>!d.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in d.pm._parentLayerGroup));h.forEach(d=>{this._initLayer(d)}),h.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(i,100,this),this),this._layerGroup.on("layerremove",a=>{this._removeLayerFromGroup(a.target)},this);let s=a=>{a.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(s,100,this),this)},enable(e,i=[]){i.length===0&&(this._layers=this.getLayers()),this._options=e,this._layers.forEach(s=>{s instanceof L.LayerGroup?i.indexOf(s._leaflet_id)===-1&&(i.push(s._leaflet_id),s.pm.enable(e,i)):s.pm.enable(e)})},disable(e=[]){e.length===0&&(this._layers=this.getLayers()),this._layers.forEach(i=>{i instanceof L.LayerGroup?e.indexOf(i._leaflet_id)===-1&&(e.push(i._leaflet_id),i.pm.disable(e)):i.pm.disable()})},enabled(e=[]){return e.length===0&&(this._layers=this.getLayers()),!!this._layers.find(i=>i instanceof L.LayerGroup?e.indexOf(i._leaflet_id)===-1?(e.push(i._leaflet_id),i.pm.enabled(e)):!1:i.pm.enabled())},toggleEdit(e,i=[]){i.length===0&&(this._layers=this.getLayers()),this._options=e,this._layers.forEach(s=>{s instanceof L.LayerGroup?i.indexOf(s._leaflet_id)===-1&&(i.push(s._leaflet_id),s.pm.toggleEdit(e,i)):s.pm.toggleEdit(e)})},_initLayer(e){let i=L.Util.stamp(this._layerGroup);e.pm._parentLayerGroup||(e.pm._parentLayerGroup={}),e.pm._parentLayerGroup[i]=this._layerGroup},_removeLayerFromGroup(e){if(e.pm&&e.pm._layerGroup){let i=L.Util.stamp(this._layerGroup);delete e.pm._layerGroup[i]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(e=>e.pm.dragging()):!1},getOptions(){return this.options},_getMap(){return this._map||this._layers.find(e=>!!e._map)?._map||null},getLayers(e=!1,i=!0,s=!0,a=[]){let h=[];return e?this._layerGroup.getLayers().forEach(d=>{h.push(d),d instanceof L.LayerGroup&&a.indexOf(d._leaflet_id)===-1&&(a.push(d._leaflet_id),h=h.concat(d.pm.getLayers(!0,!0,!0,a)))}):h=this._layerGroup.getLayers(),s&&(h=h.filter(d=>!(d instanceof L.LayerGroup))),i&&(h=h.filter(d=>!!d.pm),h=h.filter(d=>!d._pmTempLayer),h=h.filter(d=>!L.PM.optIn&&!d.options.pmIgnore||L.PM.optIn&&d.options.pmIgnore===!1)),h},setOptions(e,i=[]){i.length===0&&(this._layers=this.getLayers()),this.options=e,this._layers.forEach(s=>{s.pm&&(s instanceof L.LayerGroup?i.indexOf(s._leaflet_id)===-1&&(i.push(s._leaflet_id),s.pm.setOptions(e,i)):s.pm.setOptions(e))})}}),Qe.Marker=Qe.extend({_shape:"Marker",initialize(e){this._layer=e,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(e={draggable:!0}){if(L.Util.setOptions(this,e),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(e){this.enabled()?this.disable():this.enable(e)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(e){let i=e.target;i.remove(),this._fireRemove(i),this._fireRemove(this._map,i)},_onDragStart(){this._map.pm.Draw.Marker._layerIsDragging=!0},_onMarkerDragEnd(){this._map.pm.Draw.Marker._layerIsDragging=!1},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)}});var $n=b(en()),fd={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let e=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=e.filter((i,s,a)=>a.indexOf(i)===s)},_removeFromCache(e){let i=this.markerCache.indexOf(e);i>-1&&this.markerCache.splice(i,1)},renderLimits(e){this.markerCache.forEach(i=>{e.includes(i)?this._markerGroup.addLayer(i):this._markerGroup.removeLayer(i)})},applyLimitFilters({latlng:e={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let i=[...this._filterClosestMarkers(e)];this.renderLimits(i)},_filterClosestMarkers(e){let i=[...this.markerCache],s=this.options.limitMarkersToCount;return s===-1?i:(i.sort((a,h)=>{let d=a._latlng.distanceTo(e),g=h._latlng.distanceTo(e);return d-g}),i.filter((a,h)=>s>-1?h<s:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(e){this._preventRenderMarkers=!!e}},dd=fd;Qe.Line=Qe.extend({includes:[dd],_shape:"Line",initialize(e){this._layer=e,this._enabled=!1},enable(e){if(L.Util.setOptions(this,e),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let e=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(e,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(e){return this.enabled()?this.disable():this.enable(e),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let e=this._map,i=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(e),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let s=a=>{if(Array.isArray(a[0]))return a.map(s,this);let h=a.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&a.map((d,g)=>{let v=this.isPolygon()?(g+1)%a.length:g+1;return this._createMiddleMarker(h[g],h[v])}),h};this._markers=s(i),this.filterMarkerGroup(),e.addLayer(this._markerGroup)},_createMarker(e){let i=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this.options.rotate?(i.on("dragstart",this._onRotateStart,this),i.on("drag",this._onRotate,this),i.on("dragend",this._onRotateEnd,this)):(i.on("click",this._onVertexClick,this),i.on("dragstart",this._onMarkerDragStart,this),i.on("move",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||i.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(i),i},_createMiddleMarker(e,i){if(!e||!i)return!1;let s=L.PM.Utils.calcMiddleLatLng(this._map,e.getLatLng(),i.getLatLng()),a=this._createMarker(s),h=L.divIcon({className:"marker-icon marker-icon-middle"});return a.setIcon(h),a.leftM=e,a.rightM=i,e._middleMarkerNext=a,i._middleMarkerPrev=a,a.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),a.on("movestart",this._onMiddleMarkerMoveStart,this),a},_onMiddleMarkerClick(e){let i=e.target;if(!this._vertexValidation("add",e))return;let s=L.divIcon({className:"marker-icon"});i.setIcon(s),this._addMarker(i,i.leftM,i.rightM)},_onMiddleMarkerMoveStart(e){let i=e.target;if(i.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",e)){i.on("move",this._onMiddleMarkerMovePrevent,this);return}i._dragging=!0,this._addMarker(i,i.leftM,i.rightM)},_onMiddleMarkerMovePrevent(e){let i=e.target;this._vertexValidationDrag(i)},_onMiddleMarkerMoveEnd(e){let i=e.target;if(i.off("move",this._onMiddleMarkerMovePrevent,this),i.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(i))return;let s=L.divIcon({className:"marker-icon"});i.setIcon(s),setTimeout(()=>{delete i._dragging},100)},_addMarker(e,i,s){e.off("movestart",this._onMiddleMarkerMoveStart,this),e.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let a=e.getLatLng(),h=this._layer._latlngs;delete e.leftM,delete e.rightM;let{indexPath:d,index:g,parentPath:v}=L.PM.Utils.findDeepMarkerIndex(this._markers,i),x=d.length>1?(0,$n.default)(h,v):h,w=d.length>1?(0,$n.default)(this._markers,v):this._markers;x.splice(g+1,0,a),w.splice(g+1,0,e),this._layer.setLatLngs(h),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(i,e),this._createMiddleMarker(e,s)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(e,L.PM.Utils.findDeepMarkerIndex(this._markers,e).indexPath,a),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return gr(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(e){let i=this._layer,s,a;if(this.options.allowSelfIntersection?s=!1:(a=gr(this._layer.toGeoJSON(15)),s=a.features.length>0),s){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return s;e?this._flashLayer():(i.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(a)}else i.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return s},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(e,i){e.forEach(s=>{Array.isArray(s)?this._updateDisabledMarkerStyle(s,i):s._icon&&(i&&!this._checkMarkerAllowedToDrag(s)?L.DomUtil.addClass(s._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(s._icon,"vertexmarker-disabled"))})},_removeMarker(e){let i=e.target;if(!this._vertexValidation("remove",e))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=rn(this._layer,this._layer.getLatLngs()));let s=this._layer.getLatLngs(),{indexPath:a,index:h,parentPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);if(!a)return;let g=a.length>1?(0,$n.default)(s,d):s,v=a.length>1?(0,$n.default)(this._markers,d):this._markers,x=d[d.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!x&&(g.length<=2||this.isPolygon()&&g.length<=3)){this._flashLayer();return}g.splice(h,1),this._layer.setLatLngs(s),this.isPolygon()&&g.length<=2&&g.splice(0,g.length);let w=!1;if(g.length<=1&&(g.splice(0,g.length),d.length>1&&a.length>1&&(s=re(s)),this._layer.setLatLngs(s),this._initMarkers(),w=!0),Ur(s)||this._layer.remove(),s=re(s),this._layer.setLatLngs(s),this._markers=re(this._markers),!w&&(v=a.length>1?(0,$n.default)(this._markers,d):this._markers,i._middleMarkerPrev&&(this._markerGroup.removeLayer(i._middleMarkerPrev),this._removeFromCache(i._middleMarkerPrev)),i._middleMarkerNext&&(this._markerGroup.removeLayer(i._middleMarkerNext),this._removeFromCache(i._middleMarkerNext)),this._markerGroup.removeLayer(i),this._removeFromCache(i),v)){let R,A;if(this.isPolygon()?(R=(h+1)%v.length,A=(h+(v.length-1))%v.length):(A=h-1<0?void 0:h-1,R=h+1>=v.length?void 0:h+1),R!==A){let V=v[A],H=v[R];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(V,H)}v.splice(h,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(i,a),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(e){let i=this._layer.getLatLngs(),s=e.getLatLng(),{indexPath:a,index:h,parentPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,e),g=a.length>1?(0,$n.default)(i,d):i;s.alt=g[h].alt,g.splice(h,1,s),this._layer.setLatLngs(i)},_getNeighborMarkers(e){let{indexPath:i,index:s,parentPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,e),h=i.length>1?(0,$n.default)(this._markers,a):this._markers,d=(s+1)%h.length,g=(s+(h.length-1))%h.length,v=h[g],x=h[d];return{prevMarker:v,nextMarker:x}},_checkMarkerAllowedToDrag(e){let{prevMarker:i,nextMarker:s}=this._getNeighborMarkers(e),a=L.polyline([i.getLatLng(),e.getLatLng()]),h=L.polyline([e.getLatLng(),s.getLatLng()]),d=Lr(this._layer.toGeoJSON(15),a.toGeoJSON(15)).features.filter(v=>{let x=v.geometry.coordinates,w=L.latLng(x[1],x[0]);return!w.equals(i.getLatLng())&&!w.equals(e.getLatLng())}).length,g=Lr(this._layer.toGeoJSON(15),h.toGeoJSON(15)).features.filter(v=>{let x=v.geometry.coordinates,w=L.latLng(x[1],x[0]);return!w.equals(s.getLatLng())&&!w.equals(e.getLatLng())}).length;return!(d<1&&g<1)},_onMarkerDragStart(e){let i=e.target;if(this._preventRenderingMarkers(!0),this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",e))return;let{indexPath:s}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDragStart(e,s),this.options.allowSelfIntersection||(this._coordsBeforeEdit=rn(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(i):this._markerAllowedToDrag=null},_onMarkerDrag(e){let i=e.target;if(!this._vertexValidationDrag(i))return;let{indexPath:s,index:a,parentPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);if(!s)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(i);let d=s.length>1?(0,$n.default)(this._markers,h):this._markers,g=(a+1)%d.length,v=(a+(d.length-1))%d.length,x=i.getLatLng(),w=d[v].getLatLng(),R=d[g].getLatLng();if(i._middleMarkerNext){let A=L.PM.Utils.calcMiddleLatLng(this._map,x,R);i._middleMarkerNext.setLatLng(A)}if(i._middleMarkerPrev){let A=L.PM.Utils.calcMiddleLatLng(this._map,x,w);i._middleMarkerPrev.setLatLng(A)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(e,s),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(e){let i=e.target;if(this._preventRenderingMarkers(!1),!this._vertexValidationDragEnd(i))return;let{indexPath:s}=L.PM.Utils.findDeepMarkerIndex(this._markers,i),a=!this.options.allowSelfIntersection&&this.hasSelfIntersection();a&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(a=!1);let h=!this.options.allowSelfIntersection&&a;if(this._fireMarkerDragEnd(e,s,h),h){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(e,s);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(e){let i=e.target;if(i._dragging)return;let{indexPath:s}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireVertexClick(e,s)}}),Qe.Polygon=Qe.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(e){let{prevMarker:i,nextMarker:s}=this._getNeighborMarkers(e),a=L.polyline([i.getLatLng(),e.getLatLng()]),h=L.polyline([e.getLatLng(),s.getLatLng()]),d=Lr(this._layer.toGeoJSON(15),a.toGeoJSON(15)).features.filter(v=>{let x=v.geometry.coordinates,w=L.latLng(x[1],x[0]);return!w.equals(i.getLatLng())&&!w.equals(e.getLatLng())}).length,g=Lr(this._layer.toGeoJSON(15),h.toGeoJSON(15)).features.filter(v=>{let x=v.geometry.coordinates,w=L.latLng(x[1],x[0]);return!w.equals(s.getLatLng())&&!w.equals(e.getLatLng())}).length;return!(d<1&&g<1)}}),Qe.Rectangle=Qe.Polygon.extend({_shape:"Rectangle",_initMarkers(){let e=this._map,i=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,e.addLayer(this._markerGroup),this._markers=[],this._markers[0]=i.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((s,a)=>{let h=this._cornerMarkers.find(d=>d._index===a);h&&h.setLatLng(s)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(e,i){let s=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(s,"vertexPane"),s._origLatLng=e,s._index=i,s._pmTempLayer=!0,s.on("click",this._onVertexClick,this),this._markerGroup.addLayer(s),s},_addMarkerEvents(){this._markers[0].forEach(e=>{e.on("dragstart",this._onMarkerDragStart,this),e.on("drag",this._onMarkerDrag,this),e.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||e.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(e){if(!this._vertexValidation("move",e))return;let i=e.target,s=this._cornerMarkers;i._oppositeCornerLatLng=s.find(h=>h._index===(i._index+2)%4).getLatLng(),i._snapped=!1;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDragStart(e,a)},_onMarkerDrag(e){let i=e.target;if(!this._vertexValidationDrag(i)||i._index===void 0)return;this._adjustRectangleForMarkerMove(i);let{indexPath:s}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDrag(e,s),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(e){let i=e.target;if(!this._vertexValidationDragEnd(i))return;this._cornerMarkers.forEach(a=>{delete a._oppositeCornerLatLng});let{indexPath:s}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDragEnd(e,s),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(e){L.extend(e._origLatLng,e._latlng);let i=L.PM.Utils._getRotatedRectangle(e.getLatLng(),e._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(i),this._adjustAllMarkers(e),this._layer.redraw()},_adjustAllMarkers(e){let i=this._layer.getLatLngs()[0];if(i&&i.length!==4&&i.length>0)i.forEach((s,a)=>{this._cornerMarkers[a].setLatLng(s)}),this._cornerMarkers.slice(i.length).forEach(s=>{s.setLatLng(i[0])});else if(!i||!i.length)console.error("The layer has no LatLngs");else{let s=i.findIndex(a=>e.getLatLng().equals(a));s>-1?(this._cornerMarkers[(e._index+1)%4].setLatLng(i[(s+1)%4]),this._cornerMarkers[(e._index+2)%4].setLatLng(i[(s+2)%4]),this._cornerMarkers[(e._index+3)%4].setLatLng(i[(s+3)%4])):this._cornerMarkers.forEach(a=>{a.setLatLng(i[a._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(Vr(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let e=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(e[0],e[2],this.getAngle(),this._map||this)}}),Qe.CircleMarker=Qe.extend({_shape:"CircleMarker",initialize(e){this._layer=e,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(e={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,e),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(e){this.enabled()?this.disable():this.enable(e)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let e=this._map;this._helperLayers&&(this._helperLayers.removeFrom(e),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(e);let i=this._layer.getLatLng(),s=this._layer._radius,a=this._getLatLngOnCircle(i,s);this._centerMarker=this._createCenterMarker(i),this._outerMarker=this._createOuterMarker(a),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(e,i){let s=this._map.project(e),a=L.point(s.x+i,s.y);return this._map.unproject(a)},_createHintLine(e,i){let s=e.getLatLng(),a=i.getLatLng();this._hintline=L.polyline([s,a],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(e){let i=this._createMarker(e);return this.options.draggable?(L.DomUtil.addClass(i._icon,"leaflet-pm-draggable"),i.on("move",this._moveCircle,this)):i.dragging.disable(),i},_createOuterMarker(e){let i=this._createMarker(e);return i.on("drag",this._resizeCircle,this),i},_createMarker(e){let i=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._origLatLng=e,i._pmTempLayer=!0,i.on("dragstart",this._onMarkerDragStart,this),i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),i.on("click",this._onVertexClick,this),this._helperLayers.addLayer(i),i},_moveCircle(e){if(e.target._cancelDragEventChain)return;let i=this._centerMarker.getLatLng();this._layer.setLatLng(i);let s=this._layer._radius,a=this._getLatLngOnCircle(i,s);this._outerMarker._latlng=a,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let e=this._layer.getLatLng(),i=this._layer._radius,s=this._getLatLngOnCircle(e,i);this._outerMarker.setLatLng(s),this._centerMarker.setLatLng(e),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let e=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),s=this._distanceCalculation(e,i);this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(s),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let e=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng();this._hintline.setLatLngs([e,i])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(e){this._vertexValidation("move",e)&&this._fireMarkerDragStart(e)},_onMarkerDrag(e){let i=e.target;i instanceof L.Marker&&!this._vertexValidationDrag(i)||this._fireMarkerDrag(e)},_onMarkerDragEnd(e){this._extedingMarkerDragEnd();let i=e.target;this._vertexValidationDragEnd(i)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(e))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let e=this._layer._map||this._map;if(e){let i=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),e,this._layer.getLatLng()),s=L.circle(this._layer.getLatLng(),this._layer.options);s.setRadius(i);let a=e&&e.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(s,200,!a).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(s,200,!a),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let e=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),s=this._distanceCalculation(e,i);return this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]?i=Hr(this._map,e,i,this._getMinDistanceInMeter(e)):this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption]&&(i=Hr(this._map,e,i,this._getMaxDistanceInMeter(e))),i},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let e=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),s=this._distanceCalculation(e,i);this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(e,i){return this._map.project(e).distanceTo(this._map.project(i))},_getMinDistanceInMeter(e){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,e)},_getMaxDistanceInMeter(e){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,e)},_onVertexClick(e){e.target._dragging||this._fireVertexClick(e,void 0)}}),Qe.Circle=Qe.CircleMarker.extend({_shape:"Circle",initialize(e){this._layer=e,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(e){L.PM.Edit.CircleMarker.prototype.enable.call(this,e||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let e=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(e,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let e=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!e).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!e),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(e,i){return this._map.distance(e,i)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(e){e.target._dragging||this._fireVertexClick(e,void 0)}}),Qe.ImageOverlay=Qe.extend({_shape:"ImageOverlay",initialize(e){this._layer=e,this._enabled=!1},toggleEdit(e){this.enabled()?this.disable():this.enable(e)},enabled(){return this._enabled},enable(e={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,e),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let e=this._layer.getBounds(),i=e.getNorthWest(),s=e.getNorthEast(),a=e.getSouthEast(),h=e.getSouthWest();return[i,s,a,h]}}),Qe.Text=Qe.extend({_shape:"Text",initialize(e){this._layer=e,this._enabled=!1},enable(e){if(L.Util.setOptions(this,e),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),document.removeEventListener("click",this._documentClickThis,{capture:!0}),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let e=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),e.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(e){this.enabled()?this.disable():this.enable(e)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let e=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,i=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${e}px`,this.textArea.style.width=`${i}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&(this._documentClickThis=this._documentClickThis||this._documentClick.bind(this),document.addEventListener("click",this._documentClickThis,{capture:!0}))},100)},_documentClick(e){e.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(e={}){let i=this._hasFocus;this._hasFocus=e.type==="focus",!i!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(e){e&&(this.textArea.value=e),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let i=this.options.className.split(" ");this.textArea.classList.add(...i)}let e=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(e),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(e=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),e===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(e){e.preventDefault()}});var Wl=function(e,i,s,a,h,d){this._matrix=[e,i,s,a,h,d]};Wl.init=()=>new L.PM.Matrix(1,0,0,1,0,0),Wl.prototype={transform(e){return this._transform(e.clone())},_transform(e){let i=this._matrix,{x:s,y:a}=e;return e.x=i[0]*s+i[1]*a+i[4],e.y=i[2]*s+i[3]*a+i[5],e},untransform(e){let i=this._matrix;return new L.Point((e.x/i[0]-i[4])/i[0],(e.y/i[2]-i[5])/i[2])},clone(){let e=this._matrix;return new L.PM.Matrix(e[0],e[1],e[2],e[3],e[4],e[5])},translate(e){if(e===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let i,s;return typeof e=="number"?(i=e,s=e):(i=e.x,s=e.y),this._add(1,0,0,1,i,s)},scale(e,i){if(e===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let s,a;return i=i||L.point(0,0),typeof e=="number"?(s=e,a=e):(s=e.x,a=e.y),this._add(s,0,0,a,i.x,i.y)._add(1,0,0,1,-i.x,-i.y)},rotate(e,i){let s=Math.cos(e),a=Math.sin(e);return i=i||new L.Point(0,0),this._add(s,a,-a,s,i.x,i.y)._add(1,0,0,1,-i.x,-i.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(e,i,s,a,h,d){let g=[[],[],[]],v=this._matrix,x=[[v[0],v[2],v[4]],[v[1],v[3],v[5]],[0,0,1]],w=[[e,s,h],[i,a,d],[0,0,1]],R;e&&e instanceof L.PM.Matrix&&(v=e._matrix,w=[[v[0],v[2],v[4]],[v[1],v[3],v[5]],[0,0,1]]);for(let A=0;A<3;A+=1)for(let V=0;V<3;V+=1){R=0;for(let H=0;H<3;H+=1)R+=x[A][H]*w[H][V];g[A][V]=R}return this._matrix=[g[0][0],g[1][0],g[0][1],g[1][1],g[0][2],g[1][2]],this}};var pd=Wl,_d={calcMiddleLatLng(e,i,s){let a=e.project(i),h=e.project(s);return e.unproject(a._add(h)._divideBy(2))},findLayers(e){let i=[];return e.eachLayer(s=>{(s instanceof L.Polyline||s instanceof L.Marker||s instanceof L.Circle||s instanceof L.CircleMarker||s instanceof L.ImageOverlay)&&i.push(s)}),i=i.filter(s=>!!s.pm),i=i.filter(s=>!s._pmTempLayer),i=i.filter(s=>!L.PM.optIn&&!s.options.pmIgnore||L.PM.optIn&&s.options.pmIgnore===!1),i},circleToPolygon(e,i=60,s=!0){let a=e.getLatLng(),h=e.getRadius(),d=bi(a,h,i,0,s),g=[];for(let v=0;v<d.length;v+=1){let x=[d[v].lat,d[v].lng];g.push(x)}return L.polygon(g,e.options)},disablePopup(e){e.getPopup()&&(e._tempPopupCopy=e.getPopup(),e.unbindPopup())},enablePopup(e){e._tempPopupCopy&&(e.bindPopup(e._tempPopupCopy),delete e._tempPopupCopy)},_fireEvent(e,i,s,a=!1){e.fire(i,s,a);let{groups:h}=this.getAllParentGroups(e);h.forEach(d=>{d.fire(i,s,a)})},getAllParentGroups(e){let i=[],s=[],a=h=>{for(let d in h._eventParents)if(i.indexOf(d)===-1){i.push(d);let g=h._eventParents[d];s.push(g),a(g)}};return!e._pmLastGroupFetch||!e._pmLastGroupFetch.time||new Date().getTime()-e._pmLastGroupFetch.time>1e3?(a(e),e._pmLastGroupFetch={time:new Date().getTime(),groups:s,groupIds:i},{groupIds:i,groups:s}):{groups:e._pmLastGroupFetch.groups,groupIds:e._pmLastGroupFetch.groupIds}},createGeodesicPolygon:bi,getTranslation:he,findDeepCoordIndex(e,i,s=!0){let a,h=g=>(v,x)=>{let w=g.concat(x);if(s){if(v.lat&&v.lat===i.lat&&v.lng===i.lng)return a=w,!0}else if(v.lat&&L.latLng(v).equals(i))return a=w,!0;return Array.isArray(v)&&v.some(h(w))};e.some(h([]));let d={};return a&&(d={indexPath:a,index:a[a.length-1],parentPath:a.slice(0,a.length-1)}),d},findDeepMarkerIndex(e,i){let s,a=d=>(g,v)=>{let x=d.concat(v);return g._leaflet_id===i._leaflet_id?(s=x,!0):Array.isArray(g)&&g.some(a(x))};e.some(a([]));let h={};return s&&(h={indexPath:s,index:s[s.length-1],parentPath:s.slice(0,s.length-1)}),h},_getIndexFromSegment(e,i){if(i&&i.length===2){let s=this.findDeepCoordIndex(e,i[0]),a=this.findDeepCoordIndex(e,i[1]),h=Math.max(s.index,a.index);return(s.index===0||a.index===0)&&h!==1&&(h+=1),{indexA:s,indexB:a,newIndex:h,indexPath:s.indexPath,parentPath:s.parentPath}}return null},_getRotatedRectangle(e,i,s,a){let h=is(a,e),d=is(a,i),g=s*Math.PI/180,v=Math.cos(g),x=Math.sin(g),w=(d.x-h.x)*v+(d.y-h.y)*x,R=(d.y-h.y)*v-(d.x-h.x)*x,A=w*v+h.x,V=w*x+h.y,H=-R*x+h.x,nt=R*v+h.y,ft=ba(a,h),bt=ba(a,{x:A,y:V}),St=ba(a,d),D=ba(a,{x:H,y:nt});return[ft,bt,St,D]},pxRadiusToMeterRadius(e,i,s){let a=i.project(s),h=L.point(a.x+e,a.y);return i.distance(i.unproject(h),s)}},md=_d;L.PM=L.PM||{version:Me.version,Map:Bl,Toolbar:sn,Draw:Ge,Edit:Qe,Utils:md,Matrix:pd,activeLang:"en",optIn:!1,initialize(e){this.addInitHooks(e)},setOptIn(e){this.optIn=!!e},addInitHooks(){function e(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(e);function i(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(i);function s(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(s);function a(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(a);function h(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(h);function d(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(d);function g(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(g);function v(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(v);function x(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(x)},reInitLayer(e){e instanceof L.LayerGroup&&e.eachLayer(i=>{this.reInitLayer(i)}),e.pm||L.PM.optIn&&e.options.pmIgnore!==!1||e.options.pmIgnore||(e instanceof L.Map?e.pm=new L.PM.Map(e):e instanceof L.Marker?e.options.textMarker?(e.pm=new L.PM.Edit.Text(e),e.pm._initTextMarker(),e.pm._createTextMarker(!1)):e.pm=new L.PM.Edit.Marker(e):e instanceof L.Circle?e.pm=new L.PM.Edit.Circle(e):e instanceof L.CircleMarker?e.pm=new L.PM.Edit.CircleMarker(e):e instanceof L.Rectangle?e.pm=new L.PM.Edit.Rectangle(e):e instanceof L.Polygon?e.pm=new L.PM.Edit.Polygon(e):e instanceof L.Polyline?e.pm=new L.PM.Edit.Line(e):e instanceof L.LayerGroup?e.pm=new L.PM.Edit.LayerGroup(e):e instanceof L.ImageOverlay&&(e.pm=new L.PM.Edit.ImageOverlay(e)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(e){let i=this._map.mouseEventToLayerPoint(e),s,a;for(let h=this._drawFirst;h;h=h.next)s=h.layer,s.options.interactive&&s._containsPoint(i)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(s))&&(a=s);a&&(L.DomEvent.fakeStop(e),this._fireEvent([a],e))}}),L.PM.initialize()})()),sc}ng();var lo={exports:{}},rg=lo.exports,ac;function sg(){return ac||(ac=1,(function(n,o){(function(u,_){_(o)})(rg,function(u){var _=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(c){L.Util.setOptions(this,c),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var f=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,f?this._withAnimation:this._noAnimation),this._markerCluster=f?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(c){if(c instanceof L.LayerGroup)return this.addLayers([c]);if(!c.getLatLng)return this._nonPointGroup.addLayer(c),this.fire("layeradd",{layer:c}),this;if(!this._map)return this._needsClustering.push(c),this.fire("layeradd",{layer:c}),this;if(this.hasLayer(c))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(c,this._maxZoom),this.fire("layeradd",{layer:c}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var f=c,y=this._zoom;if(c.__parent)for(;f.__parent._zoom>=y;)f=f.__parent;return this._currentShownBounds.contains(f.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(c,f):this._animationAddLayerNonAnimated(c,f)),this},removeLayer:function(c){return c instanceof L.LayerGroup?this.removeLayers([c]):c.getLatLng?this._map?c.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(c)),this._removeLayer(c,!0),this.fire("layerremove",{layer:c}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),c.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(c)&&(this._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,c)&&this.hasLayer(c)&&this._needsRemoving.push({layer:c,latlng:c._latlng}),this.fire("layerremove",{layer:c}),this):(this._nonPointGroup.removeLayer(c),this.fire("layerremove",{layer:c}),this)},addLayers:function(c,f){if(!L.Util.isArray(c))return this.addLayer(c);var y=this._featureGroup,b=this._nonPointGroup,k=this.options.chunkedLoading,M=this.options.chunkInterval,E=this.options.chunkProgress,O=c.length,I=0,et=!0,Q;if(this._map){var Et=new Date().getTime(),dt=L.bind(function(){var Ct=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();I<O;I++){if(k&&I%200===0){var Bt=new Date().getTime()-Ct;if(Bt>M)break}if(Q=c[I],Q instanceof L.LayerGroup){et&&(c=c.slice(),et=!1),this._extractNonGroupLayers(Q,c),O=c.length;continue}if(!Q.getLatLng){b.addLayer(Q),f||this.fire("layeradd",{layer:Q});continue}if(!this.hasLayer(Q)&&(this._addLayer(Q,this._maxZoom),f||this.fire("layeradd",{layer:Q}),Q.__parent&&Q.__parent.getChildCount()===2)){var qt=Q.__parent.getAllChildMarkers(),se=qt[0]===Q?qt[1]:qt[0];y.removeLayer(se)}}E&&E(I,O,new Date().getTime()-Et),I===O?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(dt,this.options.chunkDelay)},this);dt()}else for(var mt=this._needsClustering;I<O;I++){if(Q=c[I],Q instanceof L.LayerGroup){et&&(c=c.slice(),et=!1),this._extractNonGroupLayers(Q,c),O=c.length;continue}if(!Q.getLatLng){b.addLayer(Q);continue}this.hasLayer(Q)||mt.push(Q)}return this},removeLayers:function(c){var f,y,b=c.length,k=this._featureGroup,M=this._nonPointGroup,E=!0;if(!this._map){for(f=0;f<b;f++){if(y=c[f],y instanceof L.LayerGroup){E&&(c=c.slice(),E=!1),this._extractNonGroupLayers(y,c),b=c.length;continue}this._arraySplice(this._needsClustering,y),M.removeLayer(y),this.hasLayer(y)&&this._needsRemoving.push({layer:y,latlng:y._latlng}),this.fire("layerremove",{layer:y})}return this}if(this._unspiderfy){this._unspiderfy();var O=c.slice(),I=b;for(f=0;f<I;f++){if(y=O[f],y instanceof L.LayerGroup){this._extractNonGroupLayers(y,O),I=O.length;continue}this._unspiderfyLayer(y)}}for(f=0;f<b;f++){if(y=c[f],y instanceof L.LayerGroup){E&&(c=c.slice(),E=!1),this._extractNonGroupLayers(y,c),b=c.length;continue}if(!y.__parent){M.removeLayer(y),this.fire("layerremove",{layer:y});continue}this._removeLayer(y,!0,!0),this.fire("layerremove",{layer:y}),k.hasLayer(y)&&(k.removeLayer(y),y.clusterShow&&y.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(c){c.off(this._childMarkerEventHandlers,this),delete c.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var c=new L.LatLngBounds;this._topClusterLevel&&c.extend(this._topClusterLevel._bounds);for(var f=this._needsClustering.length-1;f>=0;f--)c.extend(this._needsClustering[f].getLatLng());return c.extend(this._nonPointGroup.getBounds()),c},eachLayer:function(c,f){var y=this._needsClustering.slice(),b=this._needsRemoving,k,M,E;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(y),M=y.length-1;M>=0;M--){for(k=!0,E=b.length-1;E>=0;E--)if(b[E].layer===y[M]){k=!1;break}k&&c.call(f,y[M])}this._nonPointGroup.eachLayer(c,f)},getLayers:function(){var c=[];return this.eachLayer(function(f){c.push(f)}),c},getLayer:function(c){var f=null;return c=parseInt(c,10),this.eachLayer(function(y){L.stamp(y)===c&&(f=y)}),f},hasLayer:function(c){if(!c)return!1;var f,y=this._needsClustering;for(f=y.length-1;f>=0;f--)if(y[f]===c)return!0;for(y=this._needsRemoving,f=y.length-1;f>=0;f--)if(y[f].layer===c)return!1;return!!(c.__parent&&c.__parent._group===this)||this._nonPointGroup.hasLayer(c)},zoomToShowLayer:function(c,f){var y=this._map;typeof f!="function"&&(f=function(){});var b=function(){(y.hasLayer(c)||y.hasLayer(c.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",b,this),this.off("animationend",b,this),y.hasLayer(c)?f():c.__parent._icon&&(this.once("spiderfied",f,this),c.__parent.spiderfy()))};c._icon&&this._map.getBounds().contains(c.getLatLng())?f():c.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",b,this),this._map.panTo(c.getLatLng())):(this._map.on("moveend",b,this),this.on("animationend",b,this),c.__parent.zoomToBounds())},onAdd:function(c){this._map=c;var f,y,b;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(c),this._nonPointGroup.addTo(c),this._gridClusters||this._generateInitialClusters(),this._maxLat=c.options.crs.projection.MAX_LATITUDE,f=0,y=this._needsRemoving.length;f<y;f++)b=this._needsRemoving[f],b.newlatlng=b.layer._latlng,b.layer._latlng=b.latlng;for(f=0,y=this._needsRemoving.length;f<y;f++)b=this._needsRemoving[f],this._removeLayer(b.layer,!0),b.layer._latlng=b.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),y=this._needsClustering,this._needsClustering=[],this.addLayers(y,!0)},onRemove:function(c){c.off("zoomend",this._zoomEnd,this),c.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(c){for(var f=c;f&&!f._icon;)f=f.__parent;return f||null},_arraySplice:function(c,f){for(var y=c.length-1;y>=0;y--)if(c[y]===f)return c.splice(y,1),!0},_removeFromGridUnclustered:function(c,f){for(var y=this._map,b=this._gridUnclustered,k=Math.floor(this._map.getMinZoom());f>=k&&b[f].removeObject(c,y.project(c.getLatLng(),f));f--);},_childMarkerDragStart:function(c){c.target.__dragStart=c.target._latlng},_childMarkerMoved:function(c){if(!this._ignoreMove&&!c.target.__dragStart){var f=c.target._popup&&c.target._popup.isOpen();this._moveChild(c.target,c.oldLatLng,c.latlng),f&&c.target.openPopup()}},_moveChild:function(c,f,y){c._latlng=f,this.removeLayer(c),c._latlng=y,this.addLayer(c)},_childMarkerDragEnd:function(c){var f=c.target.__dragStart;delete c.target.__dragStart,f&&this._moveChild(c.target,f,c.target._latlng)},_removeLayer:function(c,f,y){var b=this._gridClusters,k=this._gridUnclustered,M=this._featureGroup,E=this._map,O=Math.floor(this._map.getMinZoom());f&&this._removeFromGridUnclustered(c,this._maxZoom);var I=c.__parent,et=I._markers,Q;for(this._arraySplice(et,c);I&&(I._childCount--,I._boundsNeedUpdate=!0,!(I._zoom<O));)f&&I._childCount<=1?(Q=I._markers[0]===c?I._markers[1]:I._markers[0],b[I._zoom].removeObject(I,E.project(I._cLatLng,I._zoom)),k[I._zoom].addObject(Q,E.project(Q.getLatLng(),I._zoom)),this._arraySplice(I.__parent._childClusters,I),I.__parent._markers.push(Q),Q.__parent=I.__parent,I._icon&&(M.removeLayer(I),y||M.addLayer(Q))):I._iconNeedsUpdate=!0,I=I.__parent;delete c.__parent},_isOrIsParent:function(c,f){for(;f;){if(c===f)return!0;f=f.parentNode}return!1},fire:function(c,f,y){if(f&&f.layer instanceof L.MarkerCluster){if(f.originalEvent&&this._isOrIsParent(f.layer._icon,f.originalEvent.relatedTarget))return;c="cluster"+c}L.FeatureGroup.prototype.fire.call(this,c,f,y)},listens:function(c,f){return L.FeatureGroup.prototype.listens.call(this,c,f)||L.FeatureGroup.prototype.listens.call(this,"cluster"+c,f)},_defaultIconCreateFunction:function(c){var f=c.getChildCount(),y=" marker-cluster-";return f<10?y+="small":f<100?y+="medium":y+="large",new L.DivIcon({html:"<div><span>"+f+"</span></div>",className:"marker-cluster"+y,iconSize:new L.Point(40,40)})},_bindEvents:function(){var c=this._map,f=this.options.spiderfyOnMaxZoom,y=this.options.showCoverageOnHover,b=this.options.zoomToBoundsOnClick,k=this.options.spiderfyOnEveryZoom;(f||b||k)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),y&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),c.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(c){var f=c.layer,y=f;if(!(c.type==="clusterkeypress"&&c.originalEvent&&c.originalEvent.keyCode!==13)){for(;y._childClusters.length===1;)y=y._childClusters[0];y._zoom===this._maxZoom&&y._childCount===f._childCount&&this.options.spiderfyOnMaxZoom?f.spiderfy():this.options.zoomToBoundsOnClick&&f.zoomToBounds(),this.options.spiderfyOnEveryZoom&&f.spiderfy(),c.originalEvent&&c.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(c){var f=this._map;this._inZoomAnimation||(this._shownPolygon&&f.removeLayer(this._shownPolygon),c.layer.getChildCount()>2&&c.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(c.layer.getConvexHull(),this.options.polygonOptions),f.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var c=this.options.spiderfyOnMaxZoom,f=this.options.showCoverageOnHover,y=this.options.zoomToBoundsOnClick,b=this.options.spiderfyOnEveryZoom,k=this._map;(c||y||b)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),f&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),k.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var c=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,c),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),c),this._currentShownBounds=c}},_generateInitialClusters:function(){var c=Math.ceil(this._map.getMaxZoom()),f=Math.floor(this._map.getMinZoom()),y=this.options.maxClusterRadius,b=y;typeof y!="function"&&(b=function(){return y}),this.options.disableClusteringAtZoom!==null&&(c=this.options.disableClusteringAtZoom-1),this._maxZoom=c,this._gridClusters={},this._gridUnclustered={};for(var k=c;k>=f;k--)this._gridClusters[k]=new L.DistanceGrid(b(k)),this._gridUnclustered[k]=new L.DistanceGrid(b(k));this._topClusterLevel=new this._markerCluster(this,f-1)},_addLayer:function(c,f){var y=this._gridClusters,b=this._gridUnclustered,k=Math.floor(this._map.getMinZoom()),M,E;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(c),c.on(this._childMarkerEventHandlers,this);f>=k;f--){M=this._map.project(c.getLatLng(),f);var O=y[f].getNearObject(M);if(O){O._addChild(c),c.__parent=O;return}if(O=b[f].getNearObject(M),O){var I=O.__parent;I&&this._removeLayer(O,!1);var et=new this._markerCluster(this,f,O,c);y[f].addObject(et,this._map.project(et._cLatLng,f)),O.__parent=et,c.__parent=et;var Q=et;for(E=f-1;E>I._zoom;E--)Q=new this._markerCluster(this,E,Q),y[E].addObject(Q,this._map.project(O.getLatLng(),E));I._addChild(Q),this._removeFromGridUnclustered(O,f);return}b[f].addObject(c,M)}this._topClusterLevel._addChild(c),c.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(c){c instanceof L.MarkerCluster&&c._iconNeedsUpdate&&c._updateIcon()})},_enqueue:function(c){this._queue.push(c),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var c=0;c<this._queue.length;c++)this._queue[c].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var c=Math.round(this._map._zoom);this._processQueue(),this._zoom<c&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,c)):this._zoom>c?(this._animationStart(),this._animationZoomOut(this._zoom,c)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(c){var f=this._maxLat;return f!==void 0&&(c.getNorth()>=f&&(c._northEast.lat=1/0),c.getSouth()<=-f&&(c._southWest.lat=-1/0)),c},_animationAddLayerNonAnimated:function(c,f){if(f===c)this._featureGroup.addLayer(c);else if(f._childCount===2){f._addToMap();var y=f.getAllChildMarkers();this._featureGroup.removeLayer(y[0]),this._featureGroup.removeLayer(y[1])}else f._updateIcon()},_extractNonGroupLayers:function(c,f){var y=c.getLayers(),b=0,k;for(f=f||[];b<y.length;b++){if(k=y[b],k instanceof L.LayerGroup){this._extractNonGroupLayers(k,f);continue}f.push(k)}return f},_overrideMarkerIcon:function(c){var f=c.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[c]}});return f}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(c,f){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),c),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(c,f){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),c),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(c,f){this._animationAddLayerNonAnimated(c,f)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(c,f){var y=this._getExpandedVisibleBounds(),b=this._featureGroup,k=Math.floor(this._map.getMinZoom()),M;this._ignoreMove=!0,this._topClusterLevel._recursively(y,c,k,function(E){var O=E._latlng,I=E._markers,et;for(y.contains(O)||(O=null),E._isSingleParent()&&c+1===f?(b.removeLayer(E),E._recursivelyAddChildrenToMap(null,f,y)):(E.clusterHide(),E._recursivelyAddChildrenToMap(O,f,y)),M=I.length-1;M>=0;M--)et=I[M],y.contains(et._latlng)||b.removeLayer(et)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(y,f),b.eachLayer(function(E){!(E instanceof L.MarkerCluster)&&E._icon&&E.clusterShow()}),this._topClusterLevel._recursively(y,c,f,function(E){E._recursivelyRestoreChildPositions(f)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(y,c,k,function(E){b.removeLayer(E),E.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(c,f){this._animationZoomOutSingle(this._topClusterLevel,c-1,f),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),c,this._getExpandedVisibleBounds())},_animationAddLayer:function(c,f){var y=this,b=this._featureGroup;b.addLayer(c),f!==c&&(f._childCount>2?(f._updateIcon(),this._forceLayout(),this._animationStart(),c._setPos(this._map.latLngToLayerPoint(f.getLatLng())),c.clusterHide(),this._enqueue(function(){b.removeLayer(c),c.clusterShow(),y._animationEnd()})):(this._forceLayout(),y._animationStart(),y._animationZoomOutSingle(f,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(c,f,y){var b=this._getExpandedVisibleBounds(),k=Math.floor(this._map.getMinZoom());c._recursivelyAnimateChildrenInAndAddSelfToMap(b,k,f+1,y);var M=this;this._forceLayout(),c._recursivelyBecomeVisible(b,y),this._enqueue(function(){if(c._childCount===1){var E=c._markers[0];this._ignoreMove=!0,E.setLatLng(E.getLatLng()),this._ignoreMove=!1,E.clusterShow&&E.clusterShow()}else c._recursively(b,y,k,function(O){O._recursivelyRemoveChildrenFromMap(b,k,f+1)});M._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(c){return new L.MarkerClusterGroup(c)};var m=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(c,f,y,b){L.Marker.prototype.initialize.call(this,y?y._cLatLng||y.getLatLng():new L.LatLng(0,0),{icon:this,pane:c.options.clusterPane}),this._group=c,this._zoom=f,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,y&&this._addChild(y),b&&this._addChild(b)},getAllChildMarkers:function(c,f){c=c||[];for(var y=this._childClusters.length-1;y>=0;y--)this._childClusters[y].getAllChildMarkers(c,f);for(var b=this._markers.length-1;b>=0;b--)f&&this._markers[b].__dragStart||c.push(this._markers[b]);return c},getChildCount:function(){return this._childCount},zoomToBounds:function(c){for(var f=this._childClusters.slice(),y=this._group._map,b=y.getBoundsZoom(this._bounds),k=this._zoom+1,M=y.getZoom(),E;f.length>0&&b>k;){k++;var O=[];for(E=0;E<f.length;E++)O=O.concat(f[E]._childClusters);f=O}b>k?this._group._map.setView(this._latlng,k):b<=M?this._group._map.setView(this._latlng,M+1):this._group._map.fitBounds(this._bounds,c)},getBounds:function(){var c=new L.LatLngBounds;return c.extend(this._bounds),c},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(c,f){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(c),c instanceof L.MarkerCluster?(f||(this._childClusters.push(c),c.__parent=this),this._childCount+=c._childCount):(f||this._markers.push(c),this._childCount++),this.__parent&&this.__parent._addChild(c,!0)},_setClusterCenter:function(c){this._cLatLng||(this._cLatLng=c._cLatLng||c._latlng)},_resetBounds:function(){var c=this._bounds;c._southWest&&(c._southWest.lat=1/0,c._southWest.lng=1/0),c._northEast&&(c._northEast.lat=-1/0,c._northEast.lng=-1/0)},_recalculateBounds:function(){var c=this._markers,f=this._childClusters,y=0,b=0,k=this._childCount,M,E,O,I;if(k!==0){for(this._resetBounds(),M=0;M<c.length;M++)O=c[M]._latlng,this._bounds.extend(O),y+=O.lat,b+=O.lng;for(M=0;M<f.length;M++)E=f[M],E._boundsNeedUpdate&&E._recalculateBounds(),this._bounds.extend(E._bounds),O=E._wLatLng,I=E._childCount,y+=O.lat*I,b+=O.lng*I;this._latlng=this._wLatLng=new L.LatLng(y/k,b/k),this._boundsNeedUpdate=!1}},_addToMap:function(c){c&&(this._backupLatlng=this._latlng,this.setLatLng(c)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(c,f,y){this._recursively(c,this._group._map.getMinZoom(),y-1,function(b){var k=b._markers,M,E;for(M=k.length-1;M>=0;M--)E=k[M],E._icon&&(E._setPos(f),E.clusterHide())},function(b){var k=b._childClusters,M,E;for(M=k.length-1;M>=0;M--)E=k[M],E._icon&&(E._setPos(f),E.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(c,f,y,b){this._recursively(c,b,f,function(k){k._recursivelyAnimateChildrenIn(c,k._group._map.latLngToLayerPoint(k.getLatLng()).round(),y),k._isSingleParent()&&y-1===b?(k.clusterShow(),k._recursivelyRemoveChildrenFromMap(c,f,y)):k.clusterHide(),k._addToMap()})},_recursivelyBecomeVisible:function(c,f){this._recursively(c,this._group._map.getMinZoom(),f,null,function(y){y.clusterShow()})},_recursivelyAddChildrenToMap:function(c,f,y){this._recursively(y,this._group._map.getMinZoom()-1,f,function(b){if(f!==b._zoom)for(var k=b._markers.length-1;k>=0;k--){var M=b._markers[k];y.contains(M._latlng)&&(c&&(M._backupLatlng=M.getLatLng(),M.setLatLng(c),M.clusterHide&&M.clusterHide()),b._group._featureGroup.addLayer(M))}},function(b){b._addToMap(c)})},_recursivelyRestoreChildPositions:function(c){for(var f=this._markers.length-1;f>=0;f--){var y=this._markers[f];y._backupLatlng&&(y.setLatLng(y._backupLatlng),delete y._backupLatlng)}if(c-1===this._zoom)for(var b=this._childClusters.length-1;b>=0;b--)this._childClusters[b]._restorePosition();else for(var k=this._childClusters.length-1;k>=0;k--)this._childClusters[k]._recursivelyRestoreChildPositions(c)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(c,f,y,b){var k,M;this._recursively(c,f-1,y-1,function(E){for(M=E._markers.length-1;M>=0;M--)k=E._markers[M],(!b||!b.contains(k._latlng))&&(E._group._featureGroup.removeLayer(k),k.clusterShow&&k.clusterShow())},function(E){for(M=E._childClusters.length-1;M>=0;M--)k=E._childClusters[M],(!b||!b.contains(k._latlng))&&(E._group._featureGroup.removeLayer(k),k.clusterShow&&k.clusterShow())})},_recursively:function(c,f,y,b,k){var M=this._childClusters,E=this._zoom,O,I;if(f<=E&&(b&&b(this),k&&E===y&&k(this)),E<f||E<y)for(O=M.length-1;O>=0;O--)I=M[O],I._boundsNeedUpdate&&I._recalculateBounds(),c.intersects(I._bounds)&&I._recursively(c,f,y,b,k)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var c=this.options.opacity;return this.setOpacity(0),this.options.opacity=c,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(c){this._cellSize=c,this._sqCellSize=c*c,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(c,f){var y=this._getCoord(f.x),b=this._getCoord(f.y),k=this._grid,M=k[b]=k[b]||{},E=M[y]=M[y]||[],O=L.Util.stamp(c);this._objectPoint[O]=f,E.push(c)},updateObject:function(c,f){this.removeObject(c),this.addObject(c,f)},removeObject:function(c,f){var y=this._getCoord(f.x),b=this._getCoord(f.y),k=this._grid,M=k[b]=k[b]||{},E=M[y]=M[y]||[],O,I;for(delete this._objectPoint[L.Util.stamp(c)],O=0,I=E.length;O<I;O++)if(E[O]===c)return E.splice(O,1),I===1&&delete M[y],!0},eachObject:function(c,f){var y,b,k,M,E,O,I,et=this._grid;for(y in et){E=et[y];for(b in E)for(O=E[b],k=0,M=O.length;k<M;k++)I=c.call(f,O[k]),I&&(k--,M--)}},getNearObject:function(c){var f=this._getCoord(c.x),y=this._getCoord(c.y),b,k,M,E,O,I,et,Q,Et=this._objectPoint,dt=this._sqCellSize,mt=null;for(b=y-1;b<=y+1;b++)if(E=this._grid[b],E){for(k=f-1;k<=f+1;k++)if(O=E[k],O)for(M=0,I=O.length;M<I;M++)et=O[M],Q=this._sqDist(Et[L.Util.stamp(et)],c),(Q<dt||Q<=dt&&mt===null)&&(dt=Q,mt=et)}return mt},_getCoord:function(c){var f=Math.floor(c/this._cellSize);return isFinite(f)?f:c},_sqDist:function(c,f){var y=f.x-c.x,b=f.y-c.y;return y*y+b*b}},(function(){L.QuickHull={getDistant:function(c,f){var y=f[1].lat-f[0].lat,b=f[0].lng-f[1].lng;return b*(c.lat-f[0].lat)+y*(c.lng-f[0].lng)},findMostDistantPointFromBaseLine:function(c,f){var y=0,b=null,k=[],M,E,O;for(M=f.length-1;M>=0;M--){if(E=f[M],O=this.getDistant(E,c),O>0)k.push(E);else continue;O>y&&(y=O,b=E)}return{maxPoint:b,newPoints:k}},buildConvexHull:function(c,f){var y=[],b=this.findMostDistantPointFromBaseLine(c,f);return b.maxPoint?(y=y.concat(this.buildConvexHull([c[0],b.maxPoint],b.newPoints)),y=y.concat(this.buildConvexHull([b.maxPoint,c[1]],b.newPoints)),y):[c[0]]},getConvexHull:function(c){var f=!1,y=!1,b=!1,k=!1,M=null,E=null,O=null,I=null,et=null,Q=null,Et;for(Et=c.length-1;Et>=0;Et--){var dt=c[Et];(f===!1||dt.lat>f)&&(M=dt,f=dt.lat),(y===!1||dt.lat<y)&&(E=dt,y=dt.lat),(b===!1||dt.lng>b)&&(O=dt,b=dt.lng),(k===!1||dt.lng<k)&&(I=dt,k=dt.lng)}y!==f?(Q=E,et=M):(Q=I,et=O);var mt=[].concat(this.buildConvexHull([Q,et],c),this.buildConvexHull([et,Q],c));return mt}}})(),L.MarkerCluster.include({getConvexHull:function(){var c=this.getAllChildMarkers(),f=[],y,b;for(b=c.length-1;b>=0;b--)y=c[b].getLatLng(),f.push(y);return L.QuickHull.getConvexHull(f)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var c=this.getAllChildMarkers(null,!0),f=this._group,y=f._map,b=y.latLngToLayerPoint(this._latlng),k;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?k=this._group.options.spiderfyShapePositions(c.length,b):c.length>=this._circleSpiralSwitchover?k=this._generatePointsSpiral(c.length,b):(b.y+=10,k=this._generatePointsCircle(c.length,b)),this._animationSpiderfy(c,k)}},unspiderfy:function(c){this._group._inZoomAnimation||(this._animationUnspiderfy(c),this._group._spiderfied=null)},_generatePointsCircle:function(c,f){var y=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+c),b=y/this._2PI,k=this._2PI/c,M=[],E,O;for(b=Math.max(b,35),M.length=c,E=0;E<c;E++)O=this._circleStartAngle+E*k,M[E]=new L.Point(f.x+b*Math.cos(O),f.y+b*Math.sin(O))._round();return M},_generatePointsSpiral:function(c,f){var y=this._group.options.spiderfyDistanceMultiplier,b=y*this._spiralLengthStart,k=y*this._spiralFootSeparation,M=y*this._spiralLengthFactor*this._2PI,E=0,O=[],I;for(O.length=c,I=c;I>=0;I--)I<c&&(O[I]=new L.Point(f.x+b*Math.cos(E),f.y+b*Math.sin(E))._round()),E+=k/b+I*5e-4,b+=M/E;return O},_noanimationUnspiderfy:function(){var c=this._group,f=c._map,y=c._featureGroup,b=this.getAllChildMarkers(null,!0),k,M;for(c._ignoreMove=!0,this.setOpacity(1),M=b.length-1;M>=0;M--)k=b[M],y.removeLayer(k),k._preSpiderfyLatlng&&(k.setLatLng(k._preSpiderfyLatlng),delete k._preSpiderfyLatlng),k.setZIndexOffset&&k.setZIndexOffset(0),k._spiderLeg&&(f.removeLayer(k._spiderLeg),delete k._spiderLeg);c.fire("unspiderfied",{cluster:this,markers:b}),c._ignoreMove=!1,c._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(c,f){var y=this._group,b=y._map,k=y._featureGroup,M=this._group.options.spiderLegPolylineOptions,E,O,I,et;for(y._ignoreMove=!0,E=0;E<c.length;E++)et=b.layerPointToLatLng(f[E]),O=c[E],I=new L.Polyline([this._latlng,et],M),b.addLayer(I),O._spiderLeg=I,O._preSpiderfyLatlng=O._latlng,O.setLatLng(et),O.setZIndexOffset&&O.setZIndexOffset(1e6),k.addLayer(O);this.setOpacity(.3),y._ignoreMove=!1,y.fire("spiderfied",{cluster:this,markers:c})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(c,f){var y=this,b=this._group,k=b._map,M=b._featureGroup,E=this._latlng,O=k.latLngToLayerPoint(E),I=L.Path.SVG,et=L.extend({},this._group.options.spiderLegPolylineOptions),Q=et.opacity,Et,dt,mt,Ct,Bt,qt;for(Q===void 0&&(Q=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),I?(et.opacity=0,et.className=(et.className||"")+" leaflet-cluster-spider-leg"):et.opacity=Q,b._ignoreMove=!0,Et=0;Et<c.length;Et++)dt=c[Et],qt=k.layerPointToLatLng(f[Et]),mt=new L.Polyline([E,qt],et),k.addLayer(mt),dt._spiderLeg=mt,I&&(Ct=mt._path,Bt=Ct.getTotalLength()+.1,Ct.style.strokeDasharray=Bt,Ct.style.strokeDashoffset=Bt),dt.setZIndexOffset&&dt.setZIndexOffset(1e6),dt.clusterHide&&dt.clusterHide(),M.addLayer(dt),dt._setPos&&dt._setPos(O);for(b._forceLayout(),b._animationStart(),Et=c.length-1;Et>=0;Et--)qt=k.layerPointToLatLng(f[Et]),dt=c[Et],dt._preSpiderfyLatlng=dt._latlng,dt.setLatLng(qt),dt.clusterShow&&dt.clusterShow(),I&&(mt=dt._spiderLeg,Ct=mt._path,Ct.style.strokeDashoffset=0,mt.setStyle({opacity:Q}));this.setOpacity(.3),b._ignoreMove=!1,setTimeout(function(){b._animationEnd(),b.fire("spiderfied",{cluster:y,markers:c})},200)},_animationUnspiderfy:function(c){var f=this,y=this._group,b=y._map,k=y._featureGroup,M=c?b._latLngToNewLayerPoint(this._latlng,c.zoom,c.center):b.latLngToLayerPoint(this._latlng),E=this.getAllChildMarkers(null,!0),O=L.Path.SVG,I,et,Q,Et,dt,mt;for(y._ignoreMove=!0,y._animationStart(),this.setOpacity(1),et=E.length-1;et>=0;et--)I=E[et],I._preSpiderfyLatlng&&(I.closePopup(),I.setLatLng(I._preSpiderfyLatlng),delete I._preSpiderfyLatlng,mt=!0,I._setPos&&(I._setPos(M),mt=!1),I.clusterHide&&(I.clusterHide(),mt=!1),mt&&k.removeLayer(I),O&&(Q=I._spiderLeg,Et=Q._path,dt=Et.getTotalLength()+.1,Et.style.strokeDashoffset=dt,Q.setStyle({opacity:0})));y._ignoreMove=!1,setTimeout(function(){var Ct=0;for(et=E.length-1;et>=0;et--)I=E[et],I._spiderLeg&&Ct++;for(et=E.length-1;et>=0;et--)I=E[et],I._spiderLeg&&(I.clusterShow&&I.clusterShow(),I.setZIndexOffset&&I.setZIndexOffset(0),Ct>1&&k.removeLayer(I),b.removeLayer(I._spiderLeg),delete I._spiderLeg);y._animationEnd(),y.fire("unspiderfied",{cluster:f,markers:E})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(c){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(c))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(c){this._spiderfied&&this._spiderfied.unspiderfy(c)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(c){c._spiderLeg&&(this._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow(),c.setZIndexOffset&&c.setZIndexOffset(0),this._map.removeLayer(c._spiderLeg),delete c._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(c){return c?c instanceof L.MarkerClusterGroup?c=c._topClusterLevel.getAllChildMarkers():c instanceof L.LayerGroup?c=c._layers:c instanceof L.MarkerCluster?c=c.getAllChildMarkers():c instanceof L.Marker&&(c=[c]):c=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(c),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(c),this},_flagParentsIconsNeedUpdate:function(c){var f,y;for(f in c)for(y=c[f].__parent;y;)y._iconNeedsUpdate=!0,y=y.__parent},_refreshSingleMarkerModeMarkers:function(c){var f,y;for(f in c)y=c[f],this.hasLayer(y)&&y.setIcon(this._overrideMarkerIcon(y))}}),L.Marker.include({refreshIconOptions:function(c,f){var y=this.options.icon;return L.setOptions(y,c),this.setIcon(y),f&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),u.MarkerClusterGroup=_,u.MarkerCluster=m,Object.defineProperty(u,"__esModule",{value:!0})})})(lo,lo.exports)),lo.exports}sg();function Yu(n,o){const _=(o[0]-n[0])*Math.PI/180,m=(o[1]-n[1])*Math.PI/180,c=Math.sin(_/2)*Math.sin(_/2)+Math.cos(n[0]*Math.PI/180)*Math.cos(o[0]*Math.PI/180)*Math.sin(m/2)*Math.sin(m/2);return 6371*2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}class og{constructor(){this.heap=[]}push(o){this.heap.push(o),this.bubbleUp()}pop(){if(this.size()===1)return this.heap.pop();const o=this.heap[0];return this.heap[0]=this.heap.pop(),this.bubbleDown(),o}bubbleUp(){let o=this.heap.length-1;for(;o>0;){let u=Math.floor((o-1)/2);if(this.heap[u].f<=this.heap[o].f)break;[this.heap[u],this.heap[o]]=[this.heap[o],this.heap[u]],o=u}}bubbleDown(){let o=0;const u=this.heap.length;for(;;){let _=2*o+1,m=2*o+2,c=null;if(_<u&&this.heap[_].f<this.heap[o].f&&(c=_),m<u&&(c===null&&this.heap[m].f<this.heap[o].f||c!==null&&this.heap[m].f<this.heap[_].f)&&(c=m),c===null)break;[this.heap[o],this.heap[c]]=[this.heap[c],this.heap[o]],o=c}}size(){return this.heap.length}isEmpty(){return this.heap.length===0}}async function ag(n,o,u,_){const m=`[out:json][timeout:30];(way["railway"](${n},${o},${u},${_});node["railway"](${n},${o},${u},${_}););out body;>;out skel qt;`,c=await fetch("https://overpass-api.de/api/interpreter",{method:"POST",headers:{"Content-Type":"text/plain; charset=UTF-8"},body:m});if(!c.ok)throw new Error("Overpass ");const f=await c.json(),y={},b=[];for(const k of f.elements)k.type==="node"&&(y[k.id]={lat:k.lat,lon:k.lon}),k.type==="way"&&b.push(k);return{nodes:y,ways:b}}function lg(n,o){const u=new Map,_=m=>{u.has(m)||u.set(m,[])};for(const m of o){const c=m.nodes||[];for(let f=0;f<c.length-1;f++){const y=c[f],b=c[f+1];if(!n[y]||!n[b])continue;const k=Yu([n[y].lat,n[y].lon],[n[b].lat,n[b].lon]);_(y),_(b),u.get(y).push({id:b,w:k}),u.get(b).push({id:y,w:k})}}return u}function lc(n,o,u){let _=null,m=1/0;for(const c of n.keys()){const f=o[c],y=Yu(u,[f.lat,f.lon]);y<m&&(m=y,_=c)}return _}function ug(n,o,u,_){const m=M=>Yu([o[M].lat,o[M].lon],[o[_].lat,o[_].lon]),c=new og,f={},y={},b={};for(const M of n.keys())y[M]=1/0,b[M]=1/0;y[u]=0,b[u]=m(u),c.push({id:u,f:b[u]});let k=[];for(;!c.isEmpty();){const M=c.pop().id;if(M===_){let E=M;for(;E!==void 0;)k.push(E),E=f[E];k.reverse();break}for(const E of n.get(M)){const O=y[M]+E.w;O<y[E.id]&&(f[E.id]=M,y[E.id]=O,b[E.id]=O+m(E.id),c.push({id:E.id,f:b[E.id]}))}}return k}async function hg(n,o,u=.05){const _=Math.min(n[0],o[0])-u,m=Math.max(n[0],o[0])+u,c=Math.min(n[1],o[1])-u,f=Math.max(n[1],o[1])+u,{nodes:y,ways:b}=await ag(_,c,m,f),k=lg(y,b);if(k.size===0)return{finalPath:null,reason:"no-rail"};const M=lc(k,y,n),E=lc(k,y,o),O=ug(k,y,M,E);let I=[];if(I.push([n[0],n[1]]),O.length>0){const et=O.map(Q=>[y[Q].lat,y[Q].lon]);I=I.concat(et)}else I.push([y[M].lat,y[M].lon]),I.push([y[E].lat,y[E].lon]);return I.push([o[0],o[1]]),{finalPath:I,nodes:y,startNodeId:M,endNodeId:E}}const Tf=(n,o)=>{const u=n.__vccOpts||n;for(const[_,m]of o)u[_]=m;return u},cg={__name:"map",props:{elements:{type:Array,default:()=>[]},routePoints:{type:Object,default:()=>({A:null,B:null})}},emits:["select-element","route-planned","set-point","box-selected"],setup(n,{expose:o,emit:u}){const _=n,m=u,c=Ri(null);let f=null,y=null,b=null,k=null,M=null,E=null,O=new Map,I=new Map,et=null,Q=!1,Et="all",dt=null,mt=null,Ct=null;const Bt=new Map,qt=["#1976d2","#ff7043","#9c27b0","#43a047","#fbc02d","#00acc1","#e91e63","#8d6e63"];function se(Dt){if(!Dt)return"#1976d2";if(Bt.has(Dt))return Bt.get(Dt);const ee=Bt.size%qt.length,ut=qt[ee];return Bt.set(Dt,ut),ut}pe.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});function ue(){if(O.clear(),I.clear(),b)try{b.clearLayers(),f.removeLayer(b)}catch{}b=pe.markerClusterGroup({chunkedLoading:!0,showCoverageOnHover:!1});for(const Dt of _.elements){if(Et!=="all"&&Dt.type!==Et)continue;const ee=se(Dt.type),ut=`<div class="custom-marker"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="10" r="6" fill="${ee}"/><path d="M12 22s6-5.5 6-11a6 6 0 10-12 0c0 5.5 6 11 6 11z" fill="${ee}"/></svg></div>`,_t=pe.divIcon({html:ut,className:"no-default-icon",iconSize:[22,22],iconAnchor:[11,22]}),rt=pe.marker(Dt.coords,{icon:_t});O.set(Dt.id,rt),I.set(Dt.id,Dt),rt.bindTooltip(Dt.name);const ce=Dt.image?`<div style="margin-top:8px"><img src="${Dt.image}" alt="${Dt.name}" style="max-width:160px;max-height:90px;display:block;border-radius:4px"/></div>`:"",Pt=`<div><strong>${Dt.name}</strong>${ce}<div style="margin-top:6px;"><button class='set-a'> A</button> <button class='set-b'> B</button></div></div>`;rt.bindPopup(Pt),rt.on("click",()=>m("select-element",Dt)),rt.on("popupopen",Ot=>{const Ht=Ot.popup.getElement();if(!Ht)return;const le=Ht.querySelector(".set-a"),oe=Ht.querySelector(".set-b");le&&le.addEventListener("click",()=>{const Ut=Dt.coords;f.fire("setpoint",{which:"A",coords:Ut})}),oe&&oe.addEventListener("click",()=>{const Ut=Dt.coords;f.fire("setpoint",{which:"B",coords:Ut})})}),b.addLayer(rt)}b.addTo(f);try{Ue()}catch(Dt){console.warn(Dt)}b.on("clusterclick",function(Dt){Dt.originalEvent.preventDefault();const ut=Dt.layer.getAllChildMarkers().map(rt=>{for(const[ce,Pt]of I.entries()){const Ot=O.get(ce);if(Ot&&Ot.getLatLng().equals(rt.getLatLng()))return Pt}return null}).filter(Boolean),_t=ut.map(rt=>`<div class="cluster-item"><strong>${rt.name}</strong><div style="font-size:12px;color:#666">${rt.type}</div></div>`).join("");pe.popup({maxWidth:300,className:"cluster-popup"}).setLatLng(Dt.layer.getLatLng()).setContent(`<div><h4> ${ut.length} </h4><div class='cluster-list'>${_t}</div></div>`).openOn(f),setTimeout(()=>{try{const rt=document.querySelector(".cluster-popup .cluster-list");if(!rt)return;rt.querySelectorAll(".cluster-item").forEach((Pt,Ot)=>{Pt.style.cursor="pointer",Pt.addEventListener("click",()=>{const Ht=ut[Ot];if(Ht){m("select-element",Ht);try{f.setView(Ht.coords,14)}catch{}}})})}catch(rt){console.error(rt)}},50)})}function Ne(){try{const Dt=pe.Control.extend({options:{position:"topleft"},onAdd:function(){const ee=pe.DomUtil.create("div","leaflet-bar leaflet-control type-filter");ee.style.background="transparent";const ut=document.createElement("select");return ut.className="type-filter-select",ut.title="",ut.addEventListener("change",_t=>{Et=_t.target.value,ue()}),ee.appendChild(ut),mt=ut,pe.DomEvent.disableClickPropagation(ee),ee}});dt=new Dt,f.addControl(dt)}catch(Dt){console.warn("type filter control init failed",Dt)}}function Ue(){const Dt=Array.from(new Set((_.elements||[]).map(ee=>ee.type).filter(Boolean)));if(mt){const ee=mt.value||"all";mt.innerHTML="";const ut=document.createElement("option");ut.value="all",ut.text="",mt.appendChild(ut);for(const _t of Dt){const rt=document.createElement("option");rt.value=_t,rt.text=_t,mt.appendChild(rt)}mt.value=Dt.includes(ee)?ee:"all",Et=mt.value}try{Ct&&(f.removeControl(Ct),Ct=null);const ee=pe.Control.extend({options:{position:"bottomleft"},onAdd:function(){const ut=pe.DomUtil.create("div","legend-control");ut.style.background="transparent",ut.style.padding="6px";const _t=document.createElement("div");_t.className="legend-list";for(const rt of Dt){const ce=document.createElement("div");ce.className="legend-item";const Pt=document.createElement("span");Pt.className="legend-swatch",Pt.style.background=se(rt);const Ot=document.createElement("span");Ot.className="legend-label",Ot.textContent=rt,ce.appendChild(Pt),ce.appendChild(Ot),_t.appendChild(ce)}return ut.appendChild(_t),pe.DomEvent.disableClickPropagation(ut),ut}});Ct=new ee,f.addControl(Ct)}catch(ee){console.warn("legend init failed",ee)}}function Ee(){const Dt=_.elements.length?_.elements[0].coords:[31.2304,121.4737];f=pe.map(c.value,{zoomControl:!0}).setView(Dt,13);const ee=pe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap contributors"}),ut=pe.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{maxZoom:19,attribution:"Esri WorldImagery"}),_t=pe.tileLayer("https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",{maxZoom:19,attribution:"OpenRailwayMap"});ee.addTo(f),_t.addTo(f),y=pe.layerGroup().addTo(f),et=pe.layerGroup().addTo(f),k=pe.layerGroup().addTo(f);const rt={"OSM Roads":ee,"Satellite (Esri)":ut},ce={"Railway tiles":_t,Markers:y,"Manual markers":et,Route:k};pe.control.layers(rt,ce,{collapsed:!1}).addTo(f);const Pt=pe.Control.extend({options:{position:"topright"},onAdd:function(){const Ot=pe.DomUtil.create("div","leaflet-bar leaflet-control");Ot.style.background="#fff";const Ht=pe.DomUtil.create("a","add-marker-btn",Ot);Ht.href="#",Ht.title="",Ht.innerHTML="",pe.DomEvent.on(Ht,"click",pe.DomEvent.stop).on(Ht,"click",()=>{Q=!Q,Ht.style.background=Q?"#1976d2":"",Ht.style.color=Q?"#fff":""});const le=pe.DomUtil.create("a","clear-manual-btn",Ot);return le.href="#",le.title="",le.innerHTML="",pe.DomEvent.on(le,"click",pe.DomEvent.stop).on(le,"click",()=>{et.clearLayers()}),Ot}});f.addControl(new Pt),f.on("click",Ot=>{if(!Q)return;const Ht=[Ot.latlng.lat,Ot.latlng.lng],oe=pe.divIcon({html:'<div class="manual-marker"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="9" r="5" fill="#ff5722"/></svg></div>',className:"no-default-icon",iconSize:[18,18],iconAnchor:[9,18]}),Ut=pe.marker(Ht,{icon:oe,draggable:!0});Ut.addTo(et),Ut.bindPopup(`<div><strong></strong><div style="margin-top:6px"><button class='set-a'> A</button> <button class='set-b'> B</button> <button class='del-manual'></button></div></div>`),Ut.on("popupopen",Nt=>{const st=Nt.popup.getElement();if(!st)return;const Mt=st.querySelector(".set-a"),wt=st.querySelector(".set-b"),It=st.querySelector(".del-manual");Mt&&Mt.addEventListener("click",()=>{try{const Wt=Ut.getLatLng();f.fire("setpoint",{which:"A",coords:[Wt.lat,Wt.lng]})}catch{}}),wt&&wt.addEventListener("click",()=>{try{const Wt=Ut.getLatLng();f.fire("setpoint",{which:"B",coords:[Wt.lat,Wt.lng]})}catch{}}),It&&It.addEventListener("click",()=>{try{et.removeLayer(Ut)}catch{}})}),Ut.on("click",()=>{try{const Nt=Ut.getLatLng();m("select-element",{id:"manual-"+(Ut._leaflet_id||Date.now()),name:"",coords:[Nt.lat,Nt.lng],type:"",description:"",works:"",source:"",image:null,details:null})}catch(Nt){console.warn(Nt)}}),Ut.on("contextmenu",()=>{try{et.removeLayer(Ut)}catch{}})});try{f.pm.addControls({position:"topleft",drawMarker:!1,drawPolyline:!1,drawPolygon:!1,drawCircle:!1,drawRectangle:!0,editMode:!1,dragMode:!1}),f.on("pm:drawstart",()=>{try{f.dragging.disable()}catch{}}),f.on("pm:drawend",()=>{try{f.dragging.enable()}catch{}}),f.on("pm:create",Ot=>{try{const le=Ot.layer.getBounds(),oe=[];for(const[Ut,Nt]of O.entries()){const st=Nt.getLatLng();if(le.contains(st)){const Mt=I.get(Ut);Mt&&oe.push(Mt)}}m("box-selected",oe)}catch(Ht){console.error("pm:create handler error",Ht)}setTimeout(()=>{try{Ot.layer.remove()}catch{}},200)})}catch(Ot){console.warn("Leaflet-Geoman not initialized:",Ot)}f.on("setpoint",Ot=>{m("select-element",null),m("set-point",Ot),c.value.dispatchEvent(new CustomEvent("set-point",{detail:Ot}))}),Ne()}function ae(){try{k&&k.clearLayers()}catch{}m("route-planned",null)}function ye(){try{M&&(f.removeLayer(M),M=null)}catch{}try{E&&(f.removeLayer(E),E=null)}catch{}m("set-point",{which:"A",coords:null}),m("set-point",{which:"B",coords:null}),ae()}async function Je(Dt,ee){try{const ut=await hg(Dt,ee,.05);if(!ut||!ut.finalPath){alert("");return}const{finalPath:_t,nodes:rt,startNodeId:ce,endNodeId:Pt}=ut;k.clearLayers();const Ot=pe.polyline(_t,{color:"#1976d2",weight:5,opacity:.8,lineJoin:"round"}).addTo(k);if(rt&&ce&&rt[ce]&&pe.circleMarker([rt[ce].lat,rt[ce].lon],{radius:4,color:"green",fillOpacity:1}).addTo(k).bindTooltip(""),rt&&Pt&&rt[Pt]&&pe.circleMarker([rt[Pt].lat,rt[Pt].lon],{radius:4,color:"red",fillOpacity:1}).addTo(k).bindTooltip(""),f)try{f.fitBounds(Ot.getBounds(),{padding:[50,50]})}catch{f.setView(Dt,13)}m("route-planned",_t)}catch(ut){console.error(":",ut),alert(": "+(ut&&ut.message?ut.message:ut))}}return o({flyTo(Dt){f&&f.setView(Dt,14)},planRoute:Je,clearRoute:ae,clearPoints:ye}),hs(()=>_.elements,()=>{y&&ue()},{immediate:!0}),hs(()=>_.routePoints,Dt=>{if(!(!k||!f)){if(k.clearLayers(),M){try{f.removeLayer(M)}catch{}M=null}if(E){try{f.removeLayer(E)}catch{}E=null}Dt.A&&(M=pe.circleMarker(Dt.A,{radius:6,color:"green"}).addTo(k).bindTooltip("A")),Dt.B&&(E=pe.circleMarker(Dt.B,{radius:6,color:"red"}).addTo(k).bindTooltip("B"))}},{deep:!0,immediate:!0}),Uu(()=>{Ee()}),Hc(()=>{f&&f.remove()}),(Dt,ee)=>(Fe(),Xe("div",{ref_key:"mapEl",ref:c,class:"map-root"},null,512))}},fg=Tf(cg,[["__scopeId","data-v-116721d4"]]),dg={class:"sidebar-root"},pg={class:"search-row"},_g={class:"list"},mg=["onClick"],gg={class:"meta"},yg={class:"actions"},vg=["onClick"],Lg=["onClick"],bg={key:0,class:"empty"},Cg={__name:"leaftCom",props:{elements:{type:Array,default:()=>[]}},emits:["focus-element","set-point","select-element"],setup(n,{emit:o}){const u=n,_=o,m=Ri(""),c=Fi(()=>{const b=m.value.trim().toLowerCase();return b?u.elements.filter(k=>((k.name||"")+" "+(k.type||"")+" "+(k.works||"")+" "+(k.source||"")+" "+(k.details||"")).toLowerCase().includes(b)):u.elements});function f(b){_("focus-element",b.coords),_("select-element",b)}function y(b,k){_("set-point",{which:b,coords:k})}return(b,k)=>(Fe(),Xe("div",dg,[jt("div",pg,[Pa(jt("input",{"onUpdate:modelValue":k[0]||(k[0]=M=>m.value=M),placeholder:"..."},null,512),[[D_,m.value]])]),jt("div",_g,[(Fe(!0),Xe(Ii,null,mu(c.value,M=>(Fe(),Xe("div",{key:M.id,class:"list-item"},[jt("div",{class:"title",onClick:E=>f(M)},ii(M.name),9,mg),jt("div",gg,ii(M.type),1),jt("div",yg,[jt("button",{onClick:E=>y("A",M.coords)}," A",8,vg),jt("button",{onClick:E=>y("B",M.coords)}," B",8,Lg)])]))),128)),c.value.length===0?(Fe(),Xe("div",bg,"")):tr("",!0)])]))}},xg=Tf(Cg,[["__scopeId","data-v-58bc67ac"]]),wg=[{id:"stn-1",name:"1",type:"",coords:[31.2304,121.4737],description:"  A/B ",details:"",works:"project",source:"",image:"src/data/img/.jpg"},{id:"stn-2",name:"2",type:"",coords:[31.2404,121.4837],description:"  A/B ",details:"",works:"project",source:"",image:"https://picsum.photos/seed/stn2/400/200"},{id:"stn-3",name:"3",type:"",coords:[31.2204,121.4637],description:"  A/B ",details:"",works:"project",source:"",image:"https://picsum.photos/seed/stn3/400/200"},{id:"stn-4",name:"",type:"",coords:[40.689217,-74.044483],description:"",details:"",works:"2",source:"",image:"src/data/img/2-.jpg"},{id:"stn-5",name:"",type:"",coords:[40.717339,-73.982964],description:"",details:"",works:"2",source:"",image:"src/data/img/2-.jpg"},{id:"stn-6",name:"",type:"",coords:[39.907695,116.454434],description:"",details:"",works:"2",source:"",image:"src/data/img/2-.jpg"},{id:"stn-7",name:"",type:"",coords:[35.888807,140.668473],description:"",details:"66",works:"",source:"",image:"src/data/img/-.jpg"},{id:"stn-8",name:"",type:"",coords:[35.663015,139.683609],description:"",details:"",works:"",source:"",image:"src/data/img/-.jpg"},{id:"stn-9",name:"(23-23)",type:"",coords:[45.436165,12.327304],description:"",details:"AVVENIRE 1  ",works:"",source:"",image:"src/data/img/.jpg"},{id:"stn-10",name:"",type:"",coords:[36.651219,137.86593],description:"",details:"15",works:"project",source:"",image:"src/data/img/.jpg"}];async function kg(){return Promise.resolve(wg)}const Mg={class:"left-side"},Eg={class:"center-map"},Bg={class:"right-side"},Pg={class:"right-header",style:{display:"flex",gap:"8px","align-items":"center","justify-content":"flex-end"}},Sg=["disabled"],Ag={key:0,class:"info-card"},Tg={key:0,class:"info-image"},Dg=["src","alt"],Og={key:1},Rg={key:2,class:"detail"},Ig={class:"info-actions"},Fg={key:1,class:"info-card empty"},Ng={key:2,class:"route-summary"},zg={key:3,class:"selection-list"},Gg={class:"selection-controls"},jg=["value"],Zg={class:"selection-previews"},Ug=["onClick"],Vg=["src","alt"],Hg={class:"preview-meta"},Kg={style:{"font-size":"12px",color:"#666","margin-top":"6px"}},qg={key:0,class:"full",style:{"margin-top":"8px"}},Wg=["onClick"],Yg={class:"right-tab",style:{position:"fixed",right:"8px",top:"50%","z-index":"999"}},Xg={__name:"HomeView",setup(n){const o=Ri([]),u=Ri(null),_=Ri(null),m=Ri({A:null,B:null}),c=Ri(null),f=Ri(320),y=Ri(320),b=Ri(!0),k=Ri([]),M=Ri(3);Uu(async()=>{o.value=await kg()});function E(ut){u.value=ut}function O(ut){_.value&&_.value.flyTo&&_.value.flyTo(ut)}function I({which:ut,coords:_t}){m.value[ut]=_t}function et(ut){u.value&&(m.value[ut]=u.value.coords)}function Q(ut){c.value=ut}function Et(ut){k.value=ut||[],k.value.length&&(b.value=!0)}function dt(ut){u.value=ut,_.value&&_.value.flyTo&&_.value.flyTo(ut.coords)}function mt(){b.value=!b.value}function Ct(){if(!(!m.value.A||!m.value.B))try{_.value&&_.value.planRoute&&_.value.planRoute(m.value.A,m.value.B)}catch(ut){console.error(ut)}}function Bt(){try{_.value&&_.value.clearRoute&&_.value.clearRoute()}catch(ut){console.error(ut)}}function qt(){try{_.value&&_.value.clearPoints&&_.value.clearPoints()}catch(ut){console.error(ut)}}let se=!1;function ue(ut){se=!0,window.addEventListener("mousemove",Ne),window.addEventListener("mouseup",Ue)}function Ne(ut){if(!se)return;const _t=Math.max(180,Math.min(window.innerWidth-300,ut.clientX));f.value=_t}function Ue(){se=!1,window.removeEventListener("mousemove",Ne),window.removeEventListener("mouseup",Ue)}const Ee=Fi(()=>{const ut=`${f.value}px`,_t=b.value?`${y.value}px`:"0px";return{gridTemplateColumns:`${ut} 1fr ${_t}`}});function ae(ut){if(!ut)return"";try{const _t=Array.isArray(ut)?ut[0]:ut.lat,rt=Array.isArray(ut)?ut[1]:ut.lng;return`${Number(_t).toFixed(6)}, ${Number(rt).toFixed(6)}`}catch{return""}}let ye=!1;function Je(ut){ye=!0,window.addEventListener("mousemove",Dt),window.addEventListener("mouseup",ee)}function Dt(ut){if(!ye)return;const _t=Math.max(220,Math.min(window.innerWidth-200,window.innerWidth-ut.clientX));y.value=_t}function ee(){ye=!1,window.removeEventListener("mousemove",Dt),window.removeEventListener("mouseup",ee)}return(ut,_t)=>(Fe(),Xe("div",{class:"page-root",style:yo(Ee.value)},[jt("aside",Mg,[_t[3]||(_t[3]=jt("div",null,[jt("img",{style:{width:"100%"},src:$m,alt:""})],-1)),vi(xg,{elements:o.value,onFocusElement:O,onSelectElement:E,onSetPoint:I},null,8,["elements"])]),jt("main",Eg,[vi(fg,{ref_key:"mapRef",ref:_,elements:o.value,routePoints:m.value,onSelectElement:E,onRoutePlanned:Q,onSetPoint:I,onBoxSelected:Et},null,8,["elements","routePoints"])]),Pa(jt("aside",Bg,[jt("div",{class:"resizer-right",onMousedown:Ma(Je,["prevent"]),title:""},null,32),jt("div",Pg,[jt("button",{onClick:mt},""),jt("button",{disabled:!m.value.A||!m.value.B,onClick:Ct},"",8,Sg),jt("button",{onClick:Bt},""),jt("button",{onClick:qt}," A/B")]),u.value?(Fe(),Xe("div",Ag,[u.value.image?(Fe(),Xe("div",Tg,[jt("img",{src:u.value.image,alt:u.value.name},null,8,Dg)])):tr("",!0),jt("h3",null,ii(u.value.name),1),jt("p",null,[_t[4]||(_t[4]=jt("strong",null,"",-1)),Pr(ii(u.value.type),1)]),u.value.coords?(Fe(),Xe("p",Og,[_t[5]||(_t[5]=jt("strong",null,"",-1)),Pr(ii(ae(u.value.coords)),1)])):tr("",!0),jt("p",null,[_t[6]||(_t[6]=jt("strong",null,"",-1)),Pr(ii(u.value.works),1)]),jt("p",null,[_t[7]||(_t[7]=jt("strong",null,"",-1)),Pr(ii(u.value.source),1)]),jt("p",null,ii(u.value.description),1),u.value.details?(Fe(),Xe("div",Rg,[_t[8]||(_t[8]=jt("h4",null,"",-1)),jt("p",null,ii(u.value.details),1)])):tr("",!0),jt("div",Ig,[jt("button",{onClick:_t[0]||(_t[0]=rt=>et("A"))}," A "),jt("button",{onClick:_t[1]||(_t[1]=rt=>et("B"))}," B ")])])):(Fe(),Xe("div",Fg,"  ")),c.value&&c.value.length?(Fe(),Xe("div",Ng,[_t[9]||(_t[9]=jt("h4",null,"",-1)),jt("p",null,""+ii(c.value.length),1)])):tr("",!0),k.value&&k.value.length?(Fe(),Xe("div",zg,[jt("h4",null,""+ii(k.value.length)+"",1),jt("div",Gg,[jt("label",null,[_t[14]||(_t[14]=Pr(": ",-1)),Pa(jt("select",{"onUpdate:modelValue":_t[2]||(_t[2]=rt=>M.value=rt)},[_t[10]||(_t[10]=jt("option",{value:1},"1",-1)),_t[11]||(_t[11]=jt("option",{value:2},"2",-1)),_t[12]||(_t[12]=jt("option",{value:3},"3",-1)),_t[13]||(_t[13]=jt("option",{value:5},"5",-1)),jt("option",{value:k.value.length},"",8,jg)],512),[[O_,M.value,void 0,{number:!0}]])])]),jt("ul",Zg,[(Fe(!0),Xe(Ii,null,mu(k.value.slice(0,M.value),rt=>(Fe(),Xe("li",{key:rt.id,class:"preview-item"},[jt("a",{href:"#",onClick:Ma(ce=>dt(rt),["prevent"])},[rt.image?(Fe(),Xe("img",{key:0,src:rt.image,alt:rt.name},null,8,Vg)):tr("",!0),jt("div",Hg,[jt("strong",null,ii(rt.name),1),jt("small",null,""+ii(rt.type)+"",1),jt("div",Kg,ii(rt.description),1)])],8,Ug)]))),128))]),k.value.length>M.value?(Fe(),Xe("ul",qg,[(Fe(!0),Xe(Ii,null,mu(k.value,rt=>(Fe(),Xe("li",{key:rt.id,style:{padding:"6px 0","border-bottom":"1px solid #eee"}},[jt("a",{href:"#",onClick:Ma(ce=>dt(rt),["prevent"])},[Pr(ii(rt.name)+" ",1),jt("small",null,""+ii(rt.type)+"",1)],8,Wg)]))),128))])):tr("",!0)])):tr("",!0)],512),[[Bh,b.value]]),Pa(jt("div",Yg,[jt("button",{onClick:mt},"")],512),[[Bh,!b.value]]),jt("div",{class:"resizer-overlay",onMousedown:Ma(ue,["prevent"]),style:yo({left:f.value+"px"}),title:""},null,36)],4))}},Jg=Jm({history:Pm("/"),routes:[{path:"/",name:"home",component:Xg},{path:"/about",name:"about",component:()=>H_(()=>import("./AboutView-DZrEmHtK.js"),__vite__mapDeps([0,1]))}]}),Df=z_(Z_);Df.use(Jg);Df.mount("#app");export{Tf as _,jt as a,Xe as c,Fe as o};
